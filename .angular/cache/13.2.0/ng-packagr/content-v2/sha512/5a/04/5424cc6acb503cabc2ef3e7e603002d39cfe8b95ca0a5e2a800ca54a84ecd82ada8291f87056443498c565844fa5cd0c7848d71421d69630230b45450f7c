{"modules":[{"ast":{"type":"Program","start":0,"end":11035,"body":[{"type":"ImportDeclaration","start":0,"end":34,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Observable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Observable"}}],"source":{"type":"Literal","start":27,"end":33,"value":"rxjs","raw":"'rxjs'"}},{"type":"ExportNamedDeclaration","start":35,"end":712,"declaration":{"type":"FunctionDeclaration","start":42,"end":712,"id":{"type":"Identifier","start":51,"end":63,"name":"openDatabase"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":64,"end":73,"name":"indexedDB"},{"type":"Identifier","start":75,"end":81,"name":"dbName"},{"type":"Identifier","start":83,"end":90,"name":"version"},{"type":"Identifier","start":92,"end":107,"name":"upgradeCallback"}],"body":{"type":"BlockStatement","start":109,"end":712,"body":[{"type":"ReturnStatement","start":115,"end":710,"argument":{"type":"NewExpression","start":122,"end":709,"callee":{"type":"Identifier","start":126,"end":133,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":134,"end":708,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":135,"end":142,"name":"resolve"},{"type":"Identifier","start":144,"end":150,"name":"reject"}],"body":{"type":"BlockStatement","start":155,"end":708,"body":[{"type":"IfStatement","start":165,"end":239,"test":{"type":"UnaryExpression","start":169,"end":179,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":170,"end":179,"name":"indexedDB"}},"consequent":{"type":"BlockStatement","start":181,"end":239,"body":[{"type":"ExpressionStatement","start":195,"end":229,"expression":{"type":"CallExpression","start":195,"end":228,"callee":{"type":"Identifier","start":195,"end":201,"name":"reject"},"arguments":[{"type":"Literal","start":202,"end":227,"value":"IndexedDB not available","raw":"'IndexedDB not available'"}],"optional":false}}]},"alternate":null},{"type":"VariableDeclaration","start":248,"end":296,"declarations":[{"type":"VariableDeclarator","start":254,"end":295,"id":{"type":"Identifier","start":254,"end":261,"name":"request"},"init":{"type":"CallExpression","start":264,"end":295,"callee":{"type":"MemberExpression","start":264,"end":278,"object":{"type":"Identifier","start":264,"end":273,"name":"indexedDB"},"property":{"type":"Identifier","start":274,"end":278,"name":"open"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":279,"end":285,"name":"dbName"},{"type":"Identifier","start":287,"end":294,"name":"version"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":305,"end":312,"declarations":[{"type":"VariableDeclarator","start":309,"end":311,"id":{"type":"Identifier","start":309,"end":311,"name":"db"},"init":null}],"kind":"let"},{"type":"ExpressionStatement","start":321,"end":422,"expression":{"type":"AssignmentExpression","start":321,"end":421,"operator":"=","left":{"type":"MemberExpression","start":321,"end":338,"object":{"type":"Identifier","start":321,"end":328,"name":"request"},"property":{"type":"Identifier","start":329,"end":338,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":341,"end":421,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":342,"end":347,"name":"event"}],"body":{"type":"BlockStatement","start":352,"end":421,"body":[{"type":"ExpressionStatement","start":366,"end":386,"expression":{"type":"AssignmentExpression","start":366,"end":385,"operator":"=","left":{"type":"Identifier","start":366,"end":368,"name":"db"},"right":{"type":"MemberExpression","start":371,"end":385,"object":{"type":"Identifier","start":371,"end":378,"name":"request"},"property":{"type":"Identifier","start":379,"end":385,"name":"result"},"computed":false,"optional":false}}},{"type":"ExpressionStatement","start":399,"end":411,"expression":{"type":"CallExpression","start":399,"end":410,"callee":{"type":"Identifier","start":399,"end":406,"name":"resolve"},"arguments":[{"type":"Identifier","start":407,"end":409,"name":"db"}],"optional":false}}]}}}},{"type":"ExpressionStatement","start":431,"end":529,"expression":{"type":"AssignmentExpression","start":431,"end":528,"operator":"=","left":{"type":"MemberExpression","start":431,"end":446,"object":{"type":"Identifier","start":431,"end":438,"name":"request"},"property":{"type":"Identifier","start":439,"end":446,"name":"onerror"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":449,"end":528,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":450,"end":455,"name":"event"}],"body":{"type":"BlockStatement","start":460,"end":528,"body":[{"type":"ExpressionStatement","start":474,"end":518,"expression":{"type":"CallExpression","start":474,"end":517,"callee":{"type":"Identifier","start":474,"end":480,"name":"reject"},"arguments":[{"type":"TemplateLiteral","start":481,"end":516,"expressions":[{"type":"MemberExpression","start":501,"end":514,"object":{"type":"Identifier","start":501,"end":508,"name":"request"},"property":{"type":"Identifier","start":509,"end":514,"name":"error"},"computed":false,"optional":false}],"quasis":[{"type":"TemplateElement","start":482,"end":499,"value":{"raw":"IndexedDB error: ","cooked":"IndexedDB error: "},"tail":false},{"type":"TemplateElement","start":515,"end":515,"value":{"raw":"","cooked":""},"tail":true}]}],"optional":false}}]}}}},{"type":"IfStatement","start":538,"end":702,"test":{"type":"BinaryExpression","start":542,"end":579,"left":{"type":"UnaryExpression","start":542,"end":564,"operator":"typeof","prefix":true,"argument":{"type":"Identifier","start":549,"end":564,"name":"upgradeCallback"}},"operator":"===","right":{"type":"Literal","start":569,"end":579,"value":"function","raw":"'function'"}},"consequent":{"type":"BlockStatement","start":581,"end":702,"body":[{"type":"ExpressionStatement","start":595,"end":692,"expression":{"type":"AssignmentExpression","start":595,"end":691,"operator":"=","left":{"type":"MemberExpression","start":595,"end":618,"object":{"type":"Identifier","start":595,"end":602,"name":"request"},"property":{"type":"Identifier","start":603,"end":618,"name":"onupgradeneeded"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":621,"end":691,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":622,"end":627,"name":"event"}],"body":{"type":"BlockStatement","start":632,"end":691,"body":[{"type":"ExpressionStatement","start":650,"end":677,"expression":{"type":"CallExpression","start":650,"end":676,"callee":{"type":"Identifier","start":650,"end":665,"name":"upgradeCallback"},"arguments":[{"type":"Identifier","start":666,"end":671,"name":"event"},{"type":"Identifier","start":673,"end":675,"name":"db"}],"optional":false}}]}}}}]},"alternate":null}]}}]}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":713,"end":1938,"declaration":{"type":"FunctionDeclaration","start":720,"end":1938,"id":{"type":"Identifier","start":729,"end":746,"name":"CreateObjectStore"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":747,"end":756,"name":"indexedDB"},{"type":"Identifier","start":758,"end":764,"name":"dbName"},{"type":"Identifier","start":766,"end":773,"name":"version"},{"type":"Identifier","start":775,"end":787,"name":"storeSchemas"},{"type":"Identifier","start":789,"end":805,"name":"migrationFactory"}],"body":{"type":"BlockStatement","start":807,"end":1938,"body":[{"type":"IfStatement","start":813,"end":852,"test":{"type":"UnaryExpression","start":817,"end":827,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":818,"end":827,"name":"indexedDB"}},"consequent":{"type":"BlockStatement","start":829,"end":852,"body":[{"type":"ReturnStatement","start":839,"end":846,"argument":null}]},"alternate":null},{"type":"VariableDeclaration","start":857,"end":905,"declarations":[{"type":"VariableDeclarator","start":863,"end":904,"id":{"type":"Identifier","start":863,"end":870,"name":"request"},"init":{"type":"CallExpression","start":873,"end":904,"callee":{"type":"MemberExpression","start":873,"end":887,"object":{"type":"Identifier","start":873,"end":882,"name":"indexedDB"},"property":{"type":"Identifier","start":883,"end":887,"name":"open"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":888,"end":894,"name":"dbName"},{"type":"Identifier","start":896,"end":903,"name":"version"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":910,"end":1863,"expression":{"type":"AssignmentExpression","start":910,"end":1862,"operator":"=","left":{"type":"MemberExpression","start":910,"end":933,"object":{"type":"Identifier","start":910,"end":917,"name":"request"},"property":{"type":"Identifier","start":918,"end":933,"name":"onupgradeneeded"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":936,"end":1862,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":937,"end":942,"name":"event"}],"body":{"type":"BlockStatement","start":947,"end":1862,"body":[{"type":"VariableDeclaration","start":957,"end":994,"declarations":[{"type":"VariableDeclarator","start":963,"end":993,"id":{"type":"Identifier","start":963,"end":971,"name":"database"},"init":{"type":"MemberExpression","start":974,"end":993,"object":{"type":"MemberExpression","start":974,"end":986,"object":{"type":"Identifier","start":974,"end":979,"name":"event"},"property":{"type":"Identifier","start":980,"end":986,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":987,"end":993,"name":"result"},"computed":false,"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":1003,"end":1422,"expression":{"type":"CallExpression","start":1003,"end":1421,"callee":{"type":"MemberExpression","start":1003,"end":1023,"object":{"type":"Identifier","start":1003,"end":1015,"name":"storeSchemas"},"property":{"type":"Identifier","start":1016,"end":1023,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1024,"end":1420,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1025,"end":1036,"name":"storeSchema"}],"body":{"type":"BlockStatement","start":1041,"end":1420,"body":[{"type":"IfStatement","start":1055,"end":1410,"test":{"type":"UnaryExpression","start":1059,"end":1113,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":1060,"end":1113,"callee":{"type":"MemberExpression","start":1060,"end":1094,"object":{"type":"MemberExpression","start":1060,"end":1085,"object":{"type":"Identifier","start":1060,"end":1068,"name":"database"},"property":{"type":"Identifier","start":1069,"end":1085,"name":"objectStoreNames"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1086,"end":1094,"name":"contains"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":1095,"end":1112,"object":{"type":"Identifier","start":1095,"end":1106,"name":"storeSchema"},"property":{"type":"Identifier","start":1107,"end":1112,"name":"store"},"computed":false,"optional":false}],"optional":false}},"consequent":{"type":"BlockStatement","start":1115,"end":1410,"body":[{"type":"VariableDeclaration","start":1133,"end":1224,"declarations":[{"type":"VariableDeclarator","start":1139,"end":1223,"id":{"type":"Identifier","start":1139,"end":1150,"name":"objectStore"},"init":{"type":"CallExpression","start":1153,"end":1223,"callee":{"type":"MemberExpression","start":1153,"end":1179,"object":{"type":"Identifier","start":1153,"end":1161,"name":"database"},"property":{"type":"Identifier","start":1162,"end":1179,"name":"createObjectStore"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":1180,"end":1197,"object":{"type":"Identifier","start":1180,"end":1191,"name":"storeSchema"},"property":{"type":"Identifier","start":1192,"end":1197,"name":"store"},"computed":false,"optional":false},{"type":"MemberExpression","start":1199,"end":1222,"object":{"type":"Identifier","start":1199,"end":1210,"name":"storeSchema"},"property":{"type":"Identifier","start":1211,"end":1222,"name":"storeConfig"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":1241,"end":1396,"expression":{"type":"CallExpression","start":1241,"end":1395,"callee":{"type":"MemberExpression","start":1241,"end":1272,"object":{"type":"MemberExpression","start":1241,"end":1264,"object":{"type":"Identifier","start":1241,"end":1252,"name":"storeSchema"},"property":{"type":"Identifier","start":1253,"end":1264,"name":"storeSchema"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1265,"end":1272,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1273,"end":1394,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1274,"end":1280,"name":"schema"}],"body":{"type":"BlockStatement","start":1285,"end":1394,"body":[{"type":"ExpressionStatement","start":1307,"end":1376,"expression":{"type":"CallExpression","start":1307,"end":1375,"callee":{"type":"MemberExpression","start":1307,"end":1330,"object":{"type":"Identifier","start":1307,"end":1318,"name":"objectStore"},"property":{"type":"Identifier","start":1319,"end":1330,"name":"createIndex"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":1331,"end":1342,"object":{"type":"Identifier","start":1331,"end":1337,"name":"schema"},"property":{"type":"Identifier","start":1338,"end":1342,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":1344,"end":1358,"object":{"type":"Identifier","start":1344,"end":1350,"name":"schema"},"property":{"type":"Identifier","start":1351,"end":1358,"name":"keypath"},"computed":false,"optional":false},{"type":"MemberExpression","start":1360,"end":1374,"object":{"type":"Identifier","start":1360,"end":1366,"name":"schema"},"property":{"type":"Identifier","start":1367,"end":1374,"name":"options"},"computed":false,"optional":false}],"optional":false}}]}}],"optional":false}}]},"alternate":null}]}}],"optional":false}},{"type":"VariableDeclaration","start":1431,"end":1494,"declarations":[{"type":"VariableDeclarator","start":1437,"end":1493,"id":{"type":"Identifier","start":1437,"end":1452,"name":"storeMigrations"},"init":{"type":"LogicalExpression","start":1455,"end":1493,"left":{"type":"Identifier","start":1455,"end":1471,"name":"migrationFactory"},"operator":"&&","right":{"type":"CallExpression","start":1475,"end":1493,"callee":{"type":"Identifier","start":1475,"end":1491,"name":"migrationFactory"},"arguments":[],"optional":false}}}],"kind":"const"},{"type":"IfStatement","start":1503,"end":1830,"test":{"type":"Identifier","start":1507,"end":1522,"name":"storeMigrations"},"consequent":{"type":"BlockStatement","start":1524,"end":1830,"body":[{"type":"ExpressionStatement","start":1538,"end":1820,"expression":{"type":"CallExpression","start":1538,"end":1819,"callee":{"type":"MemberExpression","start":1538,"end":1728,"object":{"type":"CallExpression","start":1538,"end":1703,"callee":{"type":"MemberExpression","start":1538,"end":1686,"object":{"type":"CallExpression","start":1538,"end":1664,"callee":{"type":"MemberExpression","start":1538,"end":1635,"object":{"type":"CallExpression","start":1538,"end":1611,"callee":{"type":"MemberExpression","start":1538,"end":1587,"object":{"type":"CallExpression","start":1538,"end":1566,"callee":{"type":"MemberExpression","start":1538,"end":1549,"object":{"type":"Identifier","start":1538,"end":1544,"name":"Object"},"property":{"type":"Identifier","start":1545,"end":1549,"name":"keys"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":1550,"end":1565,"name":"storeMigrations"}],"optional":false},"property":{"type":"Identifier","start":1584,"end":1587,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1588,"end":1610,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1589,"end":1590,"name":"k"}],"body":{"type":"CallExpression","start":1595,"end":1610,"callee":{"type":"Identifier","start":1595,"end":1603,"name":"parseInt"},"arguments":[{"type":"Identifier","start":1604,"end":1605,"name":"k"},{"type":"Literal","start":1607,"end":1609,"value":10,"raw":"10"}],"optional":false}}],"optional":false},"property":{"type":"Identifier","start":1629,"end":1635,"name":"filter"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1636,"end":1663,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1637,"end":1638,"name":"v"}],"body":{"type":"BinaryExpression","start":1643,"end":1663,"left":{"type":"Identifier","start":1643,"end":1644,"name":"v"},"operator":">","right":{"type":"MemberExpression","start":1647,"end":1663,"object":{"type":"Identifier","start":1647,"end":1652,"name":"event"},"property":{"type":"Identifier","start":1653,"end":1663,"name":"oldVersion"},"computed":false,"optional":false}}}],"optional":false},"property":{"type":"Identifier","start":1682,"end":1686,"name":"sort"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1687,"end":1702,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":1688,"end":1689,"name":"a"},{"type":"Identifier","start":1691,"end":1692,"name":"b"}],"body":{"type":"BinaryExpression","start":1697,"end":1702,"left":{"type":"Identifier","start":1697,"end":1698,"name":"a"},"operator":"-","right":{"type":"Identifier","start":1701,"end":1702,"name":"b"}}}],"optional":false},"property":{"type":"Identifier","start":1721,"end":1728,"name":"forEach"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1729,"end":1818,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1730,"end":1731,"name":"v"}],"body":{"type":"BlockStatement","start":1736,"end":1818,"body":[{"type":"ExpressionStatement","start":1754,"end":1804,"expression":{"type":"CallExpression","start":1754,"end":1803,"callee":{"type":"MemberExpression","start":1754,"end":1772,"object":{"type":"Identifier","start":1754,"end":1769,"name":"storeMigrations"},"property":{"type":"Identifier","start":1770,"end":1771,"name":"v"},"computed":true,"optional":false},"arguments":[{"type":"Identifier","start":1773,"end":1781,"name":"database"},{"type":"MemberExpression","start":1783,"end":1802,"object":{"type":"Identifier","start":1783,"end":1790,"name":"request"},"property":{"type":"Identifier","start":1791,"end":1802,"name":"transaction"},"computed":false,"optional":false}],"optional":false}}]}}],"optional":false}}]},"alternate":null},{"type":"ExpressionStatement","start":1839,"end":1856,"expression":{"type":"CallExpression","start":1839,"end":1855,"callee":{"type":"MemberExpression","start":1839,"end":1853,"object":{"type":"Identifier","start":1839,"end":1847,"name":"database"},"property":{"type":"Identifier","start":1848,"end":1853,"name":"close"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}},{"type":"ExpressionStatement","start":1868,"end":1936,"expression":{"type":"AssignmentExpression","start":1868,"end":1935,"operator":"=","left":{"type":"MemberExpression","start":1868,"end":1885,"object":{"type":"Identifier","start":1868,"end":1875,"name":"request"},"property":{"type":"Identifier","start":1876,"end":1885,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":1888,"end":1935,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1889,"end":1890,"name":"e"}],"body":{"type":"BlockStatement","start":1895,"end":1935,"body":[{"type":"ExpressionStatement","start":1905,"end":1929,"expression":{"type":"CallExpression","start":1905,"end":1928,"callee":{"type":"MemberExpression","start":1905,"end":1926,"object":{"type":"MemberExpression","start":1905,"end":1920,"object":{"type":"MemberExpression","start":1905,"end":1913,"object":{"type":"Identifier","start":1905,"end":1906,"name":"e"},"property":{"type":"Identifier","start":1907,"end":1913,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1914,"end":1920,"name":"result"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1921,"end":1926,"name":"close"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":1939,"end":2748,"declaration":{"type":"FunctionDeclaration","start":1946,"end":2748,"id":{"type":"Identifier","start":1955,"end":1972,"name":"DeleteObjectStore"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1973,"end":1979,"name":"dbName"},{"type":"Identifier","start":1981,"end":1988,"name":"version"},{"type":"Identifier","start":1990,"end":1999,"name":"storeName"}],"body":{"type":"BlockStatement","start":2001,"end":2748,"body":[{"type":"IfStatement","start":2007,"end":2133,"test":{"type":"LogicalExpression","start":2011,"end":2044,"left":{"type":"LogicalExpression","start":2011,"end":2030,"left":{"type":"UnaryExpression","start":2011,"end":2018,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2012,"end":2018,"name":"dbName"}},"operator":"||","right":{"type":"UnaryExpression","start":2022,"end":2030,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2023,"end":2030,"name":"version"}}},"operator":"||","right":{"type":"UnaryExpression","start":2034,"end":2044,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":2035,"end":2044,"name":"storeName"}}},"consequent":{"type":"BlockStatement","start":2046,"end":2133,"body":[{"type":"ThrowStatement","start":2056,"end":2127,"argument":{"type":"CallExpression","start":2062,"end":2126,"callee":{"type":"Identifier","start":2062,"end":2067,"name":"Error"},"arguments":[{"type":"Literal","start":2068,"end":2125,"value":"Params: \"dbName\", \"version\", \"storeName\" are mandatory.","raw":"'Params: \"dbName\", \"version\", \"storeName\" are mandatory.'"}],"optional":false}}]},"alternate":null},{"type":"ReturnStatement","start":2138,"end":2746,"argument":{"type":"NewExpression","start":2145,"end":2745,"callee":{"type":"Identifier","start":2149,"end":2159,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":2160,"end":2744,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2161,"end":2164,"name":"obs"}],"body":{"type":"BlockStatement","start":2169,"end":2744,"body":[{"type":"TryStatement","start":2179,"end":2738,"block":{"type":"BlockStatement","start":2183,"end":2674,"body":[{"type":"VariableDeclaration","start":2197,"end":2228,"declarations":[{"type":"VariableDeclarator","start":2203,"end":2227,"id":{"type":"Identifier","start":2203,"end":2213,"name":"newVersion"},"init":{"type":"BinaryExpression","start":2216,"end":2227,"left":{"type":"Identifier","start":2216,"end":2223,"name":"version"},"operator":"+","right":{"type":"Literal","start":2226,"end":2227,"value":1,"raw":"1"}}}],"kind":"const"},{"type":"VariableDeclaration","start":2241,"end":2292,"declarations":[{"type":"VariableDeclarator","start":2247,"end":2291,"id":{"type":"Identifier","start":2247,"end":2254,"name":"request"},"init":{"type":"CallExpression","start":2257,"end":2291,"callee":{"type":"MemberExpression","start":2257,"end":2271,"object":{"type":"Identifier","start":2257,"end":2266,"name":"indexedDB"},"property":{"type":"Identifier","start":2267,"end":2271,"name":"open"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2272,"end":2278,"name":"dbName"},{"type":"Identifier","start":2280,"end":2290,"name":"newVersion"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":2305,"end":2613,"expression":{"type":"AssignmentExpression","start":2305,"end":2612,"operator":"=","left":{"type":"MemberExpression","start":2305,"end":2328,"object":{"type":"Identifier","start":2305,"end":2312,"name":"request"},"property":{"type":"Identifier","start":2313,"end":2328,"name":"onupgradeneeded"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":2331,"end":2612,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2332,"end":2337,"name":"event"}],"body":{"type":"BlockStatement","start":2342,"end":2612,"body":[{"type":"VariableDeclaration","start":2360,"end":2397,"declarations":[{"type":"VariableDeclarator","start":2366,"end":2396,"id":{"type":"Identifier","start":2366,"end":2374,"name":"database"},"init":{"type":"MemberExpression","start":2377,"end":2396,"object":{"type":"MemberExpression","start":2377,"end":2389,"object":{"type":"Identifier","start":2377,"end":2382,"name":"event"},"property":{"type":"Identifier","start":2383,"end":2389,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2390,"end":2396,"name":"result"},"computed":false,"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":2414,"end":2452,"expression":{"type":"CallExpression","start":2414,"end":2451,"callee":{"type":"MemberExpression","start":2414,"end":2440,"object":{"type":"Identifier","start":2414,"end":2422,"name":"database"},"property":{"type":"Identifier","start":2423,"end":2440,"name":"deleteObjectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2441,"end":2450,"name":"storeName"}],"optional":false}},{"type":"ExpressionStatement","start":2469,"end":2486,"expression":{"type":"CallExpression","start":2469,"end":2485,"callee":{"type":"MemberExpression","start":2469,"end":2483,"object":{"type":"Identifier","start":2469,"end":2477,"name":"database"},"property":{"type":"Identifier","start":2478,"end":2483,"name":"close"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":2503,"end":2534,"expression":{"type":"CallExpression","start":2503,"end":2533,"callee":{"type":"MemberExpression","start":2503,"end":2514,"object":{"type":"Identifier","start":2503,"end":2510,"name":"console"},"property":{"type":"Identifier","start":2511,"end":2514,"name":"log"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2515,"end":2532,"value":"onupgradeneeded","raw":"'onupgradeneeded'"}],"optional":false}},{"type":"ExpressionStatement","start":2551,"end":2566,"expression":{"type":"CallExpression","start":2551,"end":2565,"callee":{"type":"MemberExpression","start":2551,"end":2559,"object":{"type":"Identifier","start":2551,"end":2554,"name":"obs"},"property":{"type":"Identifier","start":2555,"end":2559,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":2560,"end":2564,"value":true,"raw":"true"}],"optional":false}},{"type":"ExpressionStatement","start":2583,"end":2598,"expression":{"type":"CallExpression","start":2583,"end":2597,"callee":{"type":"MemberExpression","start":2583,"end":2595,"object":{"type":"Identifier","start":2583,"end":2586,"name":"obs"},"property":{"type":"Identifier","start":2587,"end":2595,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}},{"type":"ExpressionStatement","start":2626,"end":2664,"expression":{"type":"AssignmentExpression","start":2626,"end":2663,"operator":"=","left":{"type":"MemberExpression","start":2626,"end":2641,"object":{"type":"Identifier","start":2626,"end":2633,"name":"request"},"property":{"type":"Identifier","start":2634,"end":2641,"name":"onerror"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":2644,"end":2663,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":2645,"end":2646,"name":"e"}],"body":{"type":"CallExpression","start":2651,"end":2663,"callee":{"type":"MemberExpression","start":2651,"end":2660,"object":{"type":"Identifier","start":2651,"end":2654,"name":"obs"},"property":{"type":"Identifier","start":2655,"end":2660,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2661,"end":2662,"name":"e"}],"optional":false}}}}]},"handler":{"type":"CatchClause","start":2683,"end":2738,"param":{"type":"Identifier","start":2690,"end":2695,"name":"error"},"body":{"type":"BlockStatement","start":2697,"end":2738,"body":[{"type":"ExpressionStatement","start":2711,"end":2728,"expression":{"type":"CallExpression","start":2711,"end":2727,"callee":{"type":"MemberExpression","start":2711,"end":2720,"object":{"type":"Identifier","start":2711,"end":2714,"name":"obs"},"property":{"type":"Identifier","start":2715,"end":2720,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":2721,"end":2726,"name":"error"}],"optional":false}}]}},"finalizer":null}]}}]}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtaW5kZXhlZC1kYi9zcmMvbGliL25neC1pbmRleGVkLWRiLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxVQUFVLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFFOUMsTUFBTSxVQUFVLFlBQVksQ0FDMUIsU0FBcUIsRUFDckIsTUFBYyxFQUNkLE9BQWdCLEVBQ2hCLGVBQW9EO0lBRXBELE9BQU8sSUFBSSxPQUFPLENBQWMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7UUFDbEQsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNkLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1NBQ25DO1FBQ0QsTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDaEQsSUFBSSxFQUFlLENBQUM7UUFDcEIsT0FBTyxDQUFDLFNBQVMsR0FBRyxDQUFDLEtBQVksRUFBRSxFQUFFO1lBQ25DLEVBQUUsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO1lBQ3BCLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNkLENBQUMsQ0FBQztRQUNGLE9BQU8sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxLQUFZLEVBQUUsRUFBRTtZQUNqQyxNQUFNLENBQUMsb0JBQW9CLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQzlDLENBQUMsQ0FBQztRQUNGLElBQUksT0FBTyxlQUFlLEtBQUssVUFBVSxFQUFFO1lBQ3pDLE9BQU8sQ0FBQyxlQUFlLEdBQUcsQ0FBQyxLQUFZLEVBQUUsRUFBRTtnQkFDekMsZUFBZSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztZQUM3QixDQUFDLENBQUM7U0FDSDtJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELE1BQU0sVUFBVSxp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QUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBQy9CLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2YsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQztZQUVGLE9BQU8sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdkM7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDbEI7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUdMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYmplY3RTdG9yZU1ldGEsIE9iamVjdFN0b3JlU2NoZW1hIH0gZnJvbSAnLi9uZ3gtaW5kZXhlZC1kYi5tZXRhJztcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YnNjcmliZXIgfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5EYXRhYmFzZShcbiAgaW5kZXhlZERCOiBJREJGYWN0b3J5LFxuICBkYk5hbWU6IHN0cmluZyxcbiAgdmVyc2lvbj86IG51bWJlcixcbiAgdXBncmFkZUNhbGxiYWNrPzogKGE6IEV2ZW50LCBiOiBJREJEYXRhYmFzZSkgPT4gdm9pZFxuKTogUHJvbWlzZTxJREJEYXRhYmFzZT4ge1xuICByZXR1cm4gbmV3IFByb21pc2U8SURCRGF0YWJhc2U+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoIWluZGV4ZWREQikge1xuICAgICAgcmVqZWN0KCdJbmRleGVkREIgbm90IGF2YWlsYWJsZScpO1xuICAgIH1cbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oZGJOYW1lLCB2ZXJzaW9uKTtcbiAgICBsZXQgZGI6IElEQkRhdGFiYXNlO1xuICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgZGIgPSByZXF1ZXN0LnJlc3VsdDtcbiAgICAgIHJlc29sdmUoZGIpO1xuICAgIH07XG4gICAgcmVxdWVzdC5vbmVycm9yID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgcmVqZWN0KGBJbmRleGVkREIgZXJyb3I6ICR7cmVxdWVzdC5lcnJvcn1gKTtcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgdXBncmFkZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgdXBncmFkZUNhbGxiYWNrKGV2ZW50LCBkYik7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVPYmplY3RTdG9yZShcbiAgaW5kZXhlZERCOiBJREJGYWN0b3J5LFxuICBkYk5hbWU6IHN0cmluZyxcbiAgdmVyc2lvbjogbnVtYmVyLFxuICBzdG9yZVNjaGVtYXM6IE9iamVjdFN0b3JlTWV0YVtdLFxuICBtaWdyYXRpb25GYWN0b3J5PzogKCkgPT4geyBba2V5OiBudW1iZXJdOiAoZGI6IElEQkRhdGFiYXNlLCB0cmFuc2FjdGlvbjogSURCVHJhbnNhY3Rpb24pID0+IHZvaWQgfVxuKTogdm9pZCB7XG4gIGlmICghaW5kZXhlZERCKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJlcXVlc3Q6IElEQk9wZW5EQlJlcXVlc3QgPSBpbmRleGVkREIub3BlbihkYk5hbWUsIHZlcnNpb24pO1xuXG4gIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50OiBJREJWZXJzaW9uQ2hhbmdlRXZlbnQpID0+IHtcbiAgICBjb25zdCBkYXRhYmFzZTogSURCRGF0YWJhc2UgPSAoZXZlbnQudGFyZ2V0IGFzIGFueSkucmVzdWx0O1xuXG4gICAgc3RvcmVTY2hlbWFzLmZvckVhY2goKHN0b3JlU2NoZW1hOiBPYmplY3RTdG9yZU1ldGEpID0+IHtcbiAgICAgIGlmICghZGF0YWJhc2Uub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhzdG9yZVNjaGVtYS5zdG9yZSkpIHtcbiAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSBkYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShzdG9yZVNjaGVtYS5zdG9yZSwgc3RvcmVTY2hlbWEuc3RvcmVDb25maWcpO1xuICAgICAgICBzdG9yZVNjaGVtYS5zdG9yZVNjaGVtYS5mb3JFYWNoKChzY2hlbWE6IE9iamVjdFN0b3JlU2NoZW1hKSA9PiB7XG4gICAgICAgICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoc2NoZW1hLm5hbWUsIHNjaGVtYS5rZXlwYXRoLCBzY2hlbWEub3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3RvcmVNaWdyYXRpb25zID0gbWlncmF0aW9uRmFjdG9yeSAmJiBtaWdyYXRpb25GYWN0b3J5KCk7XG4gICAgaWYgKHN0b3JlTWlncmF0aW9ucykge1xuICAgICAgT2JqZWN0LmtleXMoc3RvcmVNaWdyYXRpb25zKVxuICAgICAgICAubWFwKChrKSA9PiBwYXJzZUludChrLCAxMCkpXG4gICAgICAgIC5maWx0ZXIoKHYpID0+IHYgPiBldmVudC5vbGRWZXJzaW9uKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYSAtIGIpXG4gICAgICAgIC5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgICAgc3RvcmVNaWdyYXRpb25zW3ZdKGRhdGFiYXNlLCByZXF1ZXN0LnRyYW5zYWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGF0YWJhc2UuY2xvc2UoKTtcbiAgfTtcblxuICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChlOiBhbnkpID0+IHtcbiAgICBlLnRhcmdldC5yZXN1bHQuY2xvc2UoKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERlbGV0ZU9iamVjdFN0b3JlKGRiTmFtZTogc3RyaW5nLCB2ZXJzaW9uOiBudW1iZXIsIHN0b3JlTmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gIGlmICghZGJOYW1lIHx8ICF2ZXJzaW9uIHx8ICFzdG9yZU5hbWUpIHtcbiAgICB0aHJvdyBFcnJvcignUGFyYW1zOiBcImRiTmFtZVwiLCBcInZlcnNpb25cIiwgXCJzdG9yZU5hbWVcIiBhcmUgbWFuZGF0b3J5LicpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPGJvb2xlYW4+KChvYnM6IFN1YnNjcmliZXI8Ym9vbGVhbj4pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbmV3VmVyc2lvbiA9IHZlcnNpb24gKyAxO1xuICAgICAgY29uc3QgcmVxdWVzdDogSURCT3BlbkRCUmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgbmV3VmVyc2lvbik7XG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IChldmVudDogSURCVmVyc2lvbkNoYW5nZUV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGFiYXNlOiBJREJEYXRhYmFzZSA9IChldmVudC50YXJnZXQgYXMgYW55KS5yZXN1bHQ7XG5cbiAgICAgICAgZGF0YWJhc2UuZGVsZXRlT2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgZGF0YWJhc2UuY2xvc2UoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ29udXBncmFkZW5lZWRlZCcpO1xuICAgICAgICBvYnMubmV4dCh0cnVlKTtcbiAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4gb2JzLmVycm9yKGUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBvYnMuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG5cblxufVxuIl19","start":2749,"end":11035}]},"code":"import { Observable } from 'rxjs';\nexport function openDatabase(indexedDB, dbName, version, upgradeCallback) {\n    return new Promise((resolve, reject) => {\n        if (!indexedDB) {\n            reject('IndexedDB not available');\n        }\n        const request = indexedDB.open(dbName, version);\n        let db;\n        request.onsuccess = (event) => {\n            db = request.result;\n            resolve(db);\n        };\n        request.onerror = (event) => {\n            reject(`IndexedDB error: ${request.error}`);\n        };\n        if (typeof upgradeCallback === 'function') {\n            request.onupgradeneeded = (event) => {\n                upgradeCallback(event, db);\n            };\n        }\n    });\n}\nexport function CreateObjectStore(indexedDB, dbName, version, storeSchemas, migrationFactory) {\n    if (!indexedDB) {\n        return;\n    }\n    const request = indexedDB.open(dbName, version);\n    request.onupgradeneeded = (event) => {\n        const database = event.target.result;\n        storeSchemas.forEach((storeSchema) => {\n            if (!database.objectStoreNames.contains(storeSchema.store)) {\n                const objectStore = database.createObjectStore(storeSchema.store, storeSchema.storeConfig);\n                storeSchema.storeSchema.forEach((schema) => {\n                    objectStore.createIndex(schema.name, schema.keypath, schema.options);\n                });\n            }\n        });\n        const storeMigrations = migrationFactory && migrationFactory();\n        if (storeMigrations) {\n            Object.keys(storeMigrations)\n                .map((k) => parseInt(k, 10))\n                .filter((v) => v > event.oldVersion)\n                .sort((a, b) => a - b)\n                .forEach((v) => {\n                storeMigrations[v](database, request.transaction);\n            });\n        }\n        database.close();\n    };\n    request.onsuccess = (e) => {\n        e.target.result.close();\n    };\n}\nexport function DeleteObjectStore(dbName, version, storeName) {\n    if (!dbName || !version || !storeName) {\n        throw Error('Params: \"dbName\", \"version\", \"storeName\" are mandatory.');\n    }\n    return new Observable((obs) => {\n        try {\n            const newVersion = version + 1;\n            const request = indexedDB.open(dbName, newVersion);\n            request.onupgradeneeded = (event) => {\n                const database = event.target.result;\n                database.deleteObjectStore(storeName);\n                database.close();\n                console.log('onupgradeneeded');\n                obs.next(true);\n                obs.complete();\n            };\n            request.onerror = (e) => obs.error(e);\n        }\n        catch (error) {\n            obs.error(error);\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtaW5kZXhlZC1kYi9zcmMvbGliL25neC1pbmRleGVkLWRiLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxVQUFVLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFFOUMsTUFBTSxVQUFVLFlBQVksQ0FDMUIsU0FBcUIsRUFDckIsTUFBYyxFQUNkLE9BQWdCLEVBQ2hCLGVBQW9EO0lBRXBELE9BQU8sSUFBSSxPQUFPLENBQWMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7UUFDbEQsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNkLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1NBQ25DO1FBQ0QsTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDaEQsSUFBSSxFQUFlLENBQUM7UUFDcEIsT0FBTyxDQUFDLFNBQVMsR0FBRyxDQUFDLEtBQVksRUFBRSxFQUFFO1lBQ25DLEVBQUUsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO1lBQ3BCLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNkLENBQUMsQ0FBQztRQUNGLE9BQU8sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxLQUFZLEVBQUUsRUFBRTtZQUNqQyxNQUFNLENBQUMsb0JBQW9CLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQzlDLENBQUMsQ0FBQztRQUNGLElBQUksT0FBTyxlQUFlLEtBQUssVUFBVSxFQUFFO1lBQ3pDLE9BQU8sQ0FBQyxlQUFlLEdBQUcsQ0FBQyxLQUFZLEVBQUUsRUFBRTtnQkFDekMsZUFBZSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztZQUM3QixDQUFDLENBQUM7U0FDSDtJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELE1BQU0sVUFBVSxp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QUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBQy9CLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2YsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQztZQUVGLE9BQU8sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdkM7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDbEI7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUdMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYmplY3RTdG9yZU1ldGEsIE9iamVjdFN0b3JlU2NoZW1hIH0gZnJvbSAnLi9uZ3gtaW5kZXhlZC1kYi5tZXRhJztcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YnNjcmliZXIgfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5EYXRhYmFzZShcbiAgaW5kZXhlZERCOiBJREJGYWN0b3J5LFxuICBkYk5hbWU6IHN0cmluZyxcbiAgdmVyc2lvbj86IG51bWJlcixcbiAgdXBncmFkZUNhbGxiYWNrPzogKGE6IEV2ZW50LCBiOiBJREJEYXRhYmFzZSkgPT4gdm9pZFxuKTogUHJvbWlzZTxJREJEYXRhYmFzZT4ge1xuICByZXR1cm4gbmV3IFByb21pc2U8SURCRGF0YWJhc2U+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoIWluZGV4ZWREQikge1xuICAgICAgcmVqZWN0KCdJbmRleGVkREIgbm90IGF2YWlsYWJsZScpO1xuICAgIH1cbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oZGJOYW1lLCB2ZXJzaW9uKTtcbiAgICBsZXQgZGI6IElEQkRhdGFiYXNlO1xuICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgZGIgPSByZXF1ZXN0LnJlc3VsdDtcbiAgICAgIHJlc29sdmUoZGIpO1xuICAgIH07XG4gICAgcmVxdWVzdC5vbmVycm9yID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgcmVqZWN0KGBJbmRleGVkREIgZXJyb3I6ICR7cmVxdWVzdC5lcnJvcn1gKTtcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgdXBncmFkZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgdXBncmFkZUNhbGxiYWNrKGV2ZW50LCBkYik7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVPYmplY3RTdG9yZShcbiAgaW5kZXhlZERCOiBJREJGYWN0b3J5LFxuICBkYk5hbWU6IHN0cmluZyxcbiAgdmVyc2lvbjogbnVtYmVyLFxuICBzdG9yZVNjaGVtYXM6IE9iamVjdFN0b3JlTWV0YVtdLFxuICBtaWdyYXRpb25GYWN0b3J5PzogKCkgPT4geyBba2V5OiBudW1iZXJdOiAoZGI6IElEQkRhdGFiYXNlLCB0cmFuc2FjdGlvbjogSURCVHJhbnNhY3Rpb24pID0+IHZvaWQgfVxuKTogdm9pZCB7XG4gIGlmICghaW5kZXhlZERCKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJlcXVlc3Q6IElEQk9wZW5EQlJlcXVlc3QgPSBpbmRleGVkREIub3BlbihkYk5hbWUsIHZlcnNpb24pO1xuXG4gIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50OiBJREJWZXJzaW9uQ2hhbmdlRXZlbnQpID0+IHtcbiAgICBjb25zdCBkYXRhYmFzZTogSURCRGF0YWJhc2UgPSAoZXZlbnQudGFyZ2V0IGFzIGFueSkucmVzdWx0O1xuXG4gICAgc3RvcmVTY2hlbWFzLmZvckVhY2goKHN0b3JlU2NoZW1hOiBPYmplY3RTdG9yZU1ldGEpID0+IHtcbiAgICAgIGlmICghZGF0YWJhc2Uub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhzdG9yZVNjaGVtYS5zdG9yZSkpIHtcbiAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSBkYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShzdG9yZVNjaGVtYS5zdG9yZSwgc3RvcmVTY2hlbWEuc3RvcmVDb25maWcpO1xuICAgICAgICBzdG9yZVNjaGVtYS5zdG9yZVNjaGVtYS5mb3JFYWNoKChzY2hlbWE6IE9iamVjdFN0b3JlU2NoZW1hKSA9PiB7XG4gICAgICAgICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoc2NoZW1hLm5hbWUsIHNjaGVtYS5rZXlwYXRoLCBzY2hlbWEub3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3RvcmVNaWdyYXRpb25zID0gbWlncmF0aW9uRmFjdG9yeSAmJiBtaWdyYXRpb25GYWN0b3J5KCk7XG4gICAgaWYgKHN0b3JlTWlncmF0aW9ucykge1xuICAgICAgT2JqZWN0LmtleXMoc3RvcmVNaWdyYXRpb25zKVxuICAgICAgICAubWFwKChrKSA9PiBwYXJzZUludChrLCAxMCkpXG4gICAgICAgIC5maWx0ZXIoKHYpID0+IHYgPiBldmVudC5vbGRWZXJzaW9uKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYSAtIGIpXG4gICAgICAgIC5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgICAgc3RvcmVNaWdyYXRpb25zW3ZdKGRhdGFiYXNlLCByZXF1ZXN0LnRyYW5zYWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGF0YWJhc2UuY2xvc2UoKTtcbiAgfTtcblxuICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChlOiBhbnkpID0+IHtcbiAgICBlLnRhcmdldC5yZXN1bHQuY2xvc2UoKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERlbGV0ZU9iamVjdFN0b3JlKGRiTmFtZTogc3RyaW5nLCB2ZXJzaW9uOiBudW1iZXIsIHN0b3JlTmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gIGlmICghZGJOYW1lIHx8ICF2ZXJzaW9uIHx8ICFzdG9yZU5hbWUpIHtcbiAgICB0aHJvdyBFcnJvcignUGFyYW1zOiBcImRiTmFtZVwiLCBcInZlcnNpb25cIiwgXCJzdG9yZU5hbWVcIiBhcmUgbWFuZGF0b3J5LicpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPGJvb2xlYW4+KChvYnM6IFN1YnNjcmliZXI8Ym9vbGVhbj4pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbmV3VmVyc2lvbiA9IHZlcnNpb24gKyAxO1xuICAgICAgY29uc3QgcmVxdWVzdDogSURCT3BlbkRCUmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgbmV3VmVyc2lvbik7XG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IChldmVudDogSURCVmVyc2lvbkNoYW5nZUV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGFiYXNlOiBJREJEYXRhYmFzZSA9IChldmVudC50YXJnZXQgYXMgYW55KS5yZXN1bHQ7XG5cbiAgICAgICAgZGF0YWJhc2UuZGVsZXRlT2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgZGF0YWJhc2UuY2xvc2UoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ29udXBncmFkZW5lZWRlZCcpO1xuICAgICAgICBvYnMubmV4dCh0cnVlKTtcbiAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4gb2JzLmVycm9yKGUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBvYnMuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG5cblxufVxuIl19","customTransformCache":false,"dependencies":["rxjs"],"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Observable } from 'rxjs';\nexport function openDatabase(indexedDB, dbName, version, upgradeCallback) {\n    return new Promise((resolve, reject) => {\n        if (!indexedDB) {\n            reject('IndexedDB not available');\n        }\n        const request = indexedDB.open(dbName, version);\n        let db;\n        request.onsuccess = (event) => {\n            db = request.result;\n            resolve(db);\n        };\n        request.onerror = (event) => {\n            reject(`IndexedDB error: ${request.error}`);\n        };\n        if (typeof upgradeCallback === 'function') {\n            request.onupgradeneeded = (event) => {\n                upgradeCallback(event, db);\n            };\n        }\n    });\n}\nexport function CreateObjectStore(indexedDB, dbName, version, storeSchemas, migrationFactory) {\n    if (!indexedDB) {\n        return;\n    }\n    const request = indexedDB.open(dbName, version);\n    request.onupgradeneeded = (event) => {\n        const database = event.target.result;\n        storeSchemas.forEach((storeSchema) => {\n            if (!database.objectStoreNames.contains(storeSchema.store)) {\n                const objectStore = database.createObjectStore(storeSchema.store, storeSchema.storeConfig);\n                storeSchema.storeSchema.forEach((schema) => {\n                    objectStore.createIndex(schema.name, schema.keypath, schema.options);\n                });\n            }\n        });\n        const storeMigrations = migrationFactory && migrationFactory();\n        if (storeMigrations) {\n            Object.keys(storeMigrations)\n                .map((k) => parseInt(k, 10))\n                .filter((v) => v > event.oldVersion)\n                .sort((a, b) => a - b)\n                .forEach((v) => {\n                storeMigrations[v](database, request.transaction);\n            });\n        }\n        database.close();\n    };\n    request.onsuccess = (e) => {\n        e.target.result.close();\n    };\n}\nexport function DeleteObjectStore(dbName, version, storeName) {\n    if (!dbName || !version || !storeName) {\n        throw Error('Params: \"dbName\", \"version\", \"storeName\" are mandatory.');\n    }\n    return new Observable((obs) => {\n        try {\n            const newVersion = version + 1;\n            const request = indexedDB.open(dbName, newVersion);\n            request.onupgradeneeded = (event) => {\n                const database = event.target.result;\n                database.deleteObjectStore(storeName);\n                database.close();\n                console.log('onupgradeneeded');\n                obs.next(true);\n                obs.complete();\n            };\n            request.onerror = (e) => obs.error(e);\n        }\n        catch (error) {\n            obs.error(error);\n        }\n    });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtaW5kZXhlZC1kYi9zcmMvbGliL25neC1pbmRleGVkLWRiLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxVQUFVLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFFOUMsTUFBTSxVQUFVLFlBQVksQ0FDMUIsU0FBcUIsRUFDckIsTUFBYyxFQUNkLE9BQWdCLEVBQ2hCLGVBQW9EO0lBRXBELE9BQU8sSUFBSSxPQUFPLENBQWMsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFLEVBQUU7UUFDbEQsSUFBSSxDQUFDLFNBQVMsRUFBRTtZQUNkLE1BQU0sQ0FBQyx5QkFBeUIsQ0FBQyxDQUFDO1NBQ25DO1FBQ0QsTUFBTSxPQUFPLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDaEQsSUFBSSxFQUFlLENBQUM7UUFDcEIsT0FBTyxDQUFDLFNBQVMsR0FBRyxDQUFDLEtBQVksRUFBRSxFQUFFO1lBQ25DLEVBQUUsR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDO1lBQ3BCLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNkLENBQUMsQ0FBQztRQUNGLE9BQU8sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxLQUFZLEVBQUUsRUFBRTtZQUNqQyxNQUFNLENBQUMsb0JBQW9CLE9BQU8sQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO1FBQzlDLENBQUMsQ0FBQztRQUNGLElBQUksT0FBTyxlQUFlLEtBQUssVUFBVSxFQUFFO1lBQ3pDLE9BQU8sQ0FBQyxlQUFlLEdBQUcsQ0FBQyxLQUFZLEVBQUUsRUFBRTtnQkFDekMsZUFBZSxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsQ0FBQztZQUM3QixDQUFDLENBQUM7U0FDSDtJQUNILENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQztBQUVELE1BQU0sVUFBVSxp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QUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUM7Z0JBQy9CLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ2YsR0FBRyxDQUFDLFFBQVEsRUFBRSxDQUFDO1lBQ2pCLENBQUMsQ0FBQztZQUVGLE9BQU8sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7U0FDdkM7UUFBQyxPQUFPLEtBQUssRUFBRTtZQUNkLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDbEI7SUFDSCxDQUFDLENBQUMsQ0FBQztBQUdMLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBPYmplY3RTdG9yZU1ldGEsIE9iamVjdFN0b3JlU2NoZW1hIH0gZnJvbSAnLi9uZ3gtaW5kZXhlZC1kYi5tZXRhJztcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YnNjcmliZXIgfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG9wZW5EYXRhYmFzZShcbiAgaW5kZXhlZERCOiBJREJGYWN0b3J5LFxuICBkYk5hbWU6IHN0cmluZyxcbiAgdmVyc2lvbj86IG51bWJlcixcbiAgdXBncmFkZUNhbGxiYWNrPzogKGE6IEV2ZW50LCBiOiBJREJEYXRhYmFzZSkgPT4gdm9pZFxuKTogUHJvbWlzZTxJREJEYXRhYmFzZT4ge1xuICByZXR1cm4gbmV3IFByb21pc2U8SURCRGF0YWJhc2U+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBpZiAoIWluZGV4ZWREQikge1xuICAgICAgcmVqZWN0KCdJbmRleGVkREIgbm90IGF2YWlsYWJsZScpO1xuICAgIH1cbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4oZGJOYW1lLCB2ZXJzaW9uKTtcbiAgICBsZXQgZGI6IElEQkRhdGFiYXNlO1xuICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgZGIgPSByZXF1ZXN0LnJlc3VsdDtcbiAgICAgIHJlc29sdmUoZGIpO1xuICAgIH07XG4gICAgcmVxdWVzdC5vbmVycm9yID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgcmVqZWN0KGBJbmRleGVkREIgZXJyb3I6ICR7cmVxdWVzdC5lcnJvcn1gKTtcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgdXBncmFkZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgdXBncmFkZUNhbGxiYWNrKGV2ZW50LCBkYik7XG4gICAgICB9O1xuICAgIH1cbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVPYmplY3RTdG9yZShcbiAgaW5kZXhlZERCOiBJREJGYWN0b3J5LFxuICBkYk5hbWU6IHN0cmluZyxcbiAgdmVyc2lvbjogbnVtYmVyLFxuICBzdG9yZVNjaGVtYXM6IE9iamVjdFN0b3JlTWV0YVtdLFxuICBtaWdyYXRpb25GYWN0b3J5PzogKCkgPT4geyBba2V5OiBudW1iZXJdOiAoZGI6IElEQkRhdGFiYXNlLCB0cmFuc2FjdGlvbjogSURCVHJhbnNhY3Rpb24pID0+IHZvaWQgfVxuKTogdm9pZCB7XG4gIGlmICghaW5kZXhlZERCKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHJlcXVlc3Q6IElEQk9wZW5EQlJlcXVlc3QgPSBpbmRleGVkREIub3BlbihkYk5hbWUsIHZlcnNpb24pO1xuXG4gIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKGV2ZW50OiBJREJWZXJzaW9uQ2hhbmdlRXZlbnQpID0+IHtcbiAgICBjb25zdCBkYXRhYmFzZTogSURCRGF0YWJhc2UgPSAoZXZlbnQudGFyZ2V0IGFzIGFueSkucmVzdWx0O1xuXG4gICAgc3RvcmVTY2hlbWFzLmZvckVhY2goKHN0b3JlU2NoZW1hOiBPYmplY3RTdG9yZU1ldGEpID0+IHtcbiAgICAgIGlmICghZGF0YWJhc2Uub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhzdG9yZVNjaGVtYS5zdG9yZSkpIHtcbiAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSBkYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShzdG9yZVNjaGVtYS5zdG9yZSwgc3RvcmVTY2hlbWEuc3RvcmVDb25maWcpO1xuICAgICAgICBzdG9yZVNjaGVtYS5zdG9yZVNjaGVtYS5mb3JFYWNoKChzY2hlbWE6IE9iamVjdFN0b3JlU2NoZW1hKSA9PiB7XG4gICAgICAgICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoc2NoZW1hLm5hbWUsIHNjaGVtYS5rZXlwYXRoLCBzY2hlbWEub3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3Qgc3RvcmVNaWdyYXRpb25zID0gbWlncmF0aW9uRmFjdG9yeSAmJiBtaWdyYXRpb25GYWN0b3J5KCk7XG4gICAgaWYgKHN0b3JlTWlncmF0aW9ucykge1xuICAgICAgT2JqZWN0LmtleXMoc3RvcmVNaWdyYXRpb25zKVxuICAgICAgICAubWFwKChrKSA9PiBwYXJzZUludChrLCAxMCkpXG4gICAgICAgIC5maWx0ZXIoKHYpID0+IHYgPiBldmVudC5vbGRWZXJzaW9uKVxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYSAtIGIpXG4gICAgICAgIC5mb3JFYWNoKCh2KSA9PiB7XG4gICAgICAgICAgc3RvcmVNaWdyYXRpb25zW3ZdKGRhdGFiYXNlLCByZXF1ZXN0LnRyYW5zYWN0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZGF0YWJhc2UuY2xvc2UoKTtcbiAgfTtcblxuICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChlOiBhbnkpID0+IHtcbiAgICBlLnRhcmdldC5yZXN1bHQuY2xvc2UoKTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIERlbGV0ZU9iamVjdFN0b3JlKGRiTmFtZTogc3RyaW5nLCB2ZXJzaW9uOiBudW1iZXIsIHN0b3JlTmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gIGlmICghZGJOYW1lIHx8ICF2ZXJzaW9uIHx8ICFzdG9yZU5hbWUpIHtcbiAgICB0aHJvdyBFcnJvcignUGFyYW1zOiBcImRiTmFtZVwiLCBcInZlcnNpb25cIiwgXCJzdG9yZU5hbWVcIiBhcmUgbWFuZGF0b3J5LicpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlPGJvb2xlYW4+KChvYnM6IFN1YnNjcmliZXI8Ym9vbGVhbj4pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbmV3VmVyc2lvbiA9IHZlcnNpb24gKyAxO1xuICAgICAgY29uc3QgcmVxdWVzdDogSURCT3BlbkRCUmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgbmV3VmVyc2lvbik7XG4gICAgICByZXF1ZXN0Lm9udXBncmFkZW5lZWRlZCA9IChldmVudDogSURCVmVyc2lvbkNoYW5nZUV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGFiYXNlOiBJREJEYXRhYmFzZSA9IChldmVudC50YXJnZXQgYXMgYW55KS5yZXN1bHQ7XG5cbiAgICAgICAgZGF0YWJhc2UuZGVsZXRlT2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgZGF0YWJhc2UuY2xvc2UoKTtcbiAgICAgICAgY29uc29sZS5sb2coJ29udXBncmFkZW5lZWRlZCcpO1xuICAgICAgICBvYnMubmV4dCh0cnVlKTtcbiAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICB9O1xuXG4gICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoZSkgPT4gb2JzLmVycm9yKGUpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBvYnMuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfSk7XG5cblxufVxuIl19","originalSourcemap":{"version":3,"file":"ngx-indexed-db.js","sourceRoot":"","sources":["../../../../projects/ngx-indexed-db/src/lib/ngx-indexed-db.ts"],"names":[],"mappings":[[[0,0,1,0],[7,0,1,7],[9,0,1,9],[19,0,1,19],[21,0,1,33],[27,0,1,39],[33,0,1,45],[34,0,1,46]],[[0,0,3,0],[6,0,3,6],[16,0,3,16],[28,0,3,28],[29,0,4,2],[38,0,4,23],[40,0,5,2],[46,0,5,16],[48,0,6,2],[55,0,6,18],[57,0,7,2],[72,0,7,54]],[[4,0,9,2],[11,0,9,9],[15,0,9,13],[22,0,9,20],[23,0,9,34],[24,0,9,35],[31,0,9,42],[33,0,9,44],[39,0,9,50],[41,0,9,52],[43,0,9,54]],[[8,0,10,4],[12,0,10,8],[13,0,10,9],[22,0,10,18],[24,0,10,20]],[[12,0,11,6],[18,0,11,12],[19,0,11,13],[44,0,11,38],[45,0,11,39],[46,0,11,40]],[[9,0,12,5]],[[8,0,13,4],[14,0,13,10],[21,0,13,17],[24,0,13,20],[33,0,13,29],[34,0,13,30],[38,0,13,34],[39,0,13,35],[45,0,13,41],[47,0,13,43],[54,0,13,50],[55,0,13,51],[56,0,13,52]],[[8,0,14,4],[12,0,14,8],[14,0,14,23],[15,0,14,24]],[[8,0,15,4],[15,0,15,11],[16,0,15,12],[25,0,15,21],[28,0,15,24],[29,0,15,25],[34,0,15,37],[36,0,15,39],[38,0,15,41]],[[12,0,16,6],[14,0,16,8],[17,0,16,11],[24,0,16,18],[25,0,16,19],[31,0,16,25],[32,0,16,26]],[[12,0,17,6],[19,0,17,13],[20,0,17,14],[22,0,17,16],[23,0,17,17],[24,0,17,18]],[[8,0,18,4],[9,0,18,5],[10,0,18,6]],[[8,0,19,4],[15,0,19,11],[16,0,19,12],[23,0,19,19],[26,0,19,22],[27,0,19,23],[32,0,19,35],[34,0,19,37],[36,0,19,39]],[[12,0,20,6],[18,0,20,12],[19,0,20,13],[39,0,20,33],[46,0,20,40],[47,0,20,41],[52,0,20,46],[54,0,20,48],[55,0,20,49],[56,0,20,50]],[[8,0,21,4],[9,0,21,5],[10,0,21,6]],[[8,0,22,4],[12,0,22,8],[19,0,22,15],[34,0,22,30],[39,0,22,35],[49,0,22,45],[51,0,22,47]],[[12,0,23,6],[19,0,23,13],[20,0,23,14],[35,0,23,29],[38,0,23,32],[39,0,23,33],[44,0,23,45],[46,0,23,47],[48,0,23,49]],[[16,0,24,8],[31,0,24,23],[32,0,24,24],[37,0,24,29],[39,0,24,31],[41,0,24,33],[42,0,24,34],[43,0,24,35]],[[12,0,25,6],[13,0,25,7],[14,0,25,8]],[[9,0,26,5]],[[4,0,27,2],[5,0,27,3],[6,0,27,4],[7,0,27,5]],[[0,0,28,0],[1,0,28,1]],[[0,0,30,0],[6,0,30,6],[16,0,30,16],[33,0,30,33],[34,0,31,2],[43,0,31,23],[45,0,32,2],[51,0,32,16],[53,0,33,2],[60,0,33,17],[62,0,34,2],[74,0,34,33],[76,0,35,2],[92,0,35,100]],[[4,0,37,2],[8,0,37,6],[9,0,37,7],[18,0,37,16],[20,0,37,18]],[[8,0,38,4],[15,0,38,11]],[[5,0,39,3]],[[4,0,40,2],[10,0,40,8],[17,0,40,15],[20,0,40,36],[29,0,40,45],[30,0,40,46],[34,0,40,50],[35,0,40,51],[41,0,40,57],[43,0,40,59],[50,0,40,66],[51,0,40,67],[52,0,40,68]],[[4,0,42,2],[11,0,42,9],[12,0,42,10],[27,0,42,25],[30,0,42,28],[31,0,42,29],[36,0,42,57],[38,0,42,59],[40,0,42,61]],[[8,0,43,4],[14,0,43,10],[22,0,43,18],[25,0,43,35],[30,0,43,40],[31,0,43,41],[37,0,43,55],[38,0,43,56],[44,0,43,62],[45,0,43,63]],[[8,0,45,4],[20,0,45,16],[21,0,45,17],[28,0,45,24],[29,0,45,25],[30,0,45,26],[41,0,45,54],[43,0,45,56],[45,0,45,58]],[[12,0,46,6],[16,0,46,10],[17,0,46,11],[25,0,46,19],[26,0,46,20],[42,0,46,36],[43,0,46,37],[51,0,46,45],[52,0,46,46],[63,0,46,57],[64,0,46,58],[69,0,46,63],[70,0,46,64],[72,0,46,66]],[[16,0,47,8],[22,0,47,14],[33,0,47,25],[36,0,47,28],[44,0,47,36],[45,0,47,37],[62,0,47,54],[63,0,47,55],[74,0,47,66],[75,0,47,67],[80,0,47,72],[82,0,47,74],[93,0,47,85],[94,0,47,86],[105,0,47,97],[106,0,47,98],[107,0,47,99]],[[16,0,48,8],[27,0,48,19],[28,0,48,20],[39,0,48,31],[40,0,48,32],[47,0,48,39],[48,0,48,40],[49,0,48,41],[55,0,48,66],[57,0,48,68],[59,0,48,70]],[[20,0,49,10],[31,0,49,21],[32,0,49,22],[43,0,49,33],[44,0,49,34],[50,0,49,40],[51,0,49,41],[55,0,49,45],[57,0,49,47],[63,0,49,53],[64,0,49,54],[71,0,49,61],[73,0,49,63],[79,0,49,69],[80,0,49,70],[87,0,49,77],[88,0,49,78],[89,0,49,79]],[[16,0,50,8],[17,0,50,9],[18,0,50,10],[19,0,50,11]],[[13,0,51,7]],[[8,0,52,4],[9,0,52,5],[10,0,52,6],[11,0,52,7]],[[8,0,54,4],[14,0,54,10],[29,0,54,25],[32,0,54,28],[48,0,54,44],[52,0,54,48],[68,0,54,64],[70,0,54,66],[71,0,54,67]],[[8,0,55,4],[12,0,55,8],[27,0,55,23],[29,0,55,25]],[[12,0,56,6],[18,0,56,12],[19,0,56,13],[23,0,56,17],[24,0,56,18],[39,0,56,33],[40,0,56,34]],[[17,0,57,9],[20,0,57,12],[21,0,57,13],[22,0,57,14],[23,0,57,15],[25,0,57,17],[27,0,57,19],[28,0,57,20],[36,0,57,28],[37,0,57,29],[38,0,57,30],[40,0,57,32],[42,0,57,34],[43,0,57,35],[44,0,57,36]],[[17,0,58,9],[23,0,58,15],[24,0,58,16],[25,0,58,17],[26,0,58,18],[28,0,58,20],[30,0,58,22],[31,0,58,23],[32,0,58,24],[35,0,58,27],[40,0,58,32],[41,0,58,33],[51,0,58,43],[52,0,58,44]],[[17,0,59,9],[21,0,59,13],[22,0,59,14],[23,0,59,15],[24,0,59,16],[26,0,59,18],[27,0,59,19],[29,0,59,21],[31,0,59,23],[32,0,59,24],[33,0,59,25],[36,0,59,28],[37,0,59,29],[38,0,59,30]],[[17,0,60,9],[24,0,60,16],[25,0,60,17],[26,0,60,18],[27,0,60,19],[29,0,60,21],[31,0,60,23]],[[16,0,61,10],[31,0,61,25],[32,0,61,26],[33,0,61,27],[34,0,61,28],[35,0,61,29],[43,0,61,37],[45,0,61,39],[52,0,61,46],[53,0,61,47],[64,0,61,58],[65,0,61,59],[66,0,61,60]],[[12,0,62,8],[13,0,62,9],[14,0,62,10],[15,0,62,11]],[[9,0,63,5]],[[8,0,65,4],[16,0,65,12],[17,0,65,13],[22,0,65,18],[24,0,65,20],[25,0,65,21]],[[4,0,66,2],[5,0,66,3],[6,0,66,4]],[[4,0,68,2],[11,0,68,9],[12,0,68,10],[21,0,68,19],[24,0,68,22],[25,0,68,23],[26,0,68,29],[28,0,68,31],[30,0,68,33]],[[8,0,69,4],[9,0,69,5],[10,0,69,6],[16,0,69,12],[17,0,69,13],[23,0,69,19],[24,0,69,20],[29,0,69,25],[31,0,69,27],[32,0,69,28]],[[4,0,70,2],[5,0,70,3],[6,0,70,4]],[[0,0,71,0],[1,0,71,1]],[[0,0,73,0],[6,0,73,6],[16,0,73,16],[33,0,73,33],[34,0,73,34],[40,0,73,48],[42,0,73,50],[49,0,73,65],[51,0,73,67],[60,0,73,84]],[[4,0,74,2],[8,0,74,6],[9,0,74,7],[15,0,74,13],[19,0,74,17],[20,0,74,18],[27,0,74,25],[31,0,74,29],[32,0,74,30],[41,0,74,39],[43,0,74,41]],[[8,0,75,4],[14,0,75,10],[19,0,75,15],[20,0,75,16],[77,0,75,73],[78,0,75,74],[79,0,75,75]],[[5,0,76,3]],[[4,0,78,2],[11,0,78,9],[15,0,78,13],[25,0,78,23],[26,0,78,33],[27,0,78,34],[30,0,78,58],[32,0,78,60],[34,0,78,62]],[[8,0,79,4],[12,0,79,8]],[[12,0,80,6],[18,0,80,12],[28,0,80,22],[31,0,80,25],[38,0,80,32],[41,0,80,35],[42,0,80,36],[43,0,80,37]],[[12,0,81,6],[18,0,81,12],[25,0,81,19],[28,0,81,40],[37,0,81,49],[38,0,81,50],[42,0,81,54],[43,0,81,55],[49,0,81,61],[51,0,81,63],[61,0,81,73],[62,0,81,74],[63,0,81,75]],[[12,0,82,6],[19,0,82,13],[20,0,82,14],[35,0,82,29],[38,0,82,32],[39,0,82,33],[44,0,82,61],[46,0,82,63],[48,0,82,65]],[[16,0,83,8],[22,0,83,14],[30,0,83,22],[33,0,83,39],[38,0,83,44],[39,0,83,45],[45,0,83,59],[46,0,83,60],[52,0,83,66],[53,0,83,67]],[[16,0,85,8],[24,0,85,16],[25,0,85,17],[42,0,85,34],[43,0,85,35],[52,0,85,44],[53,0,85,45],[54,0,85,46]],[[16,0,86,8],[24,0,86,16],[25,0,86,17],[30,0,86,22],[32,0,86,24],[33,0,86,25]],[[16,0,87,8],[23,0,87,15],[24,0,87,16],[27,0,87,19],[28,0,87,20],[45,0,87,37],[46,0,87,38],[47,0,87,39]],[[16,0,88,8],[19,0,88,11],[20,0,88,12],[24,0,88,16],[25,0,88,17],[29,0,88,21],[30,0,88,22],[31,0,88,23]],[[16,0,89,8],[19,0,89,11],[20,0,89,12],[28,0,89,20],[30,0,89,22],[31,0,89,23]],[[12,0,90,6],[13,0,90,7],[14,0,90,8]],[[12,0,92,6],[19,0,92,13],[20,0,92,14],[27,0,92,21],[30,0,92,24],[31,0,92,25],[32,0,92,26],[34,0,92,28],[36,0,92,30],[37,0,92,31],[40,0,92,34],[41,0,92,35],[46,0,92,40],[47,0,92,41],[48,0,92,42],[49,0,92,43],[50,0,92,44]],[[9,0,93,5]],[[8,0,93,6],[15,0,93,13],[20,0,93,18],[22,0,93,20]],[[12,0,94,6],[15,0,94,9],[16,0,94,10],[21,0,94,15],[22,0,94,16],[27,0,94,21],[28,0,94,22],[29,0,94,23]],[[9,0,95,5]],[[4,0,96,2],[5,0,96,3],[6,0,96,4],[7,0,96,5]],[[0,0,99,0],[1,0,99,1]]],"sourcesContent":["import { ObjectStoreMeta, ObjectStoreSchema } from './ngx-indexed-db.meta';\nimport { Observable, Subscriber } from 'rxjs';\n\nexport function openDatabase(\n  indexedDB: IDBFactory,\n  dbName: string,\n  version?: number,\n  upgradeCallback?: (a: Event, b: IDBDatabase) => void\n): Promise<IDBDatabase> {\n  return new Promise<IDBDatabase>((resolve, reject) => {\n    if (!indexedDB) {\n      reject('IndexedDB not available');\n    }\n    const request = indexedDB.open(dbName, version);\n    let db: IDBDatabase;\n    request.onsuccess = (event: Event) => {\n      db = request.result;\n      resolve(db);\n    };\n    request.onerror = (event: Event) => {\n      reject(`IndexedDB error: ${request.error}`);\n    };\n    if (typeof upgradeCallback === 'function') {\n      request.onupgradeneeded = (event: Event) => {\n        upgradeCallback(event, db);\n      };\n    }\n  });\n}\n\nexport function CreateObjectStore(\n  indexedDB: IDBFactory,\n  dbName: string,\n  version: number,\n  storeSchemas: ObjectStoreMeta[],\n  migrationFactory?: () => { [key: number]: (db: IDBDatabase, transaction: IDBTransaction) => void }\n): void {\n  if (!indexedDB) {\n    return;\n  }\n  const request: IDBOpenDBRequest = indexedDB.open(dbName, version);\n\n  request.onupgradeneeded = (event: IDBVersionChangeEvent) => {\n    const database: IDBDatabase = (event.target as any).result;\n\n    storeSchemas.forEach((storeSchema: ObjectStoreMeta) => {\n      if (!database.objectStoreNames.contains(storeSchema.store)) {\n        const objectStore = database.createObjectStore(storeSchema.store, storeSchema.storeConfig);\n        storeSchema.storeSchema.forEach((schema: ObjectStoreSchema) => {\n          objectStore.createIndex(schema.name, schema.keypath, schema.options);\n        });\n      }\n    });\n\n    const storeMigrations = migrationFactory && migrationFactory();\n    if (storeMigrations) {\n      Object.keys(storeMigrations)\n        .map((k) => parseInt(k, 10))\n        .filter((v) => v > event.oldVersion)\n        .sort((a, b) => a - b)\n        .forEach((v) => {\n          storeMigrations[v](database, request.transaction);\n        });\n    }\n\n    database.close();\n  };\n\n  request.onsuccess = (e: any) => {\n    e.target.result.close();\n  };\n}\n\nexport function DeleteObjectStore(dbName: string, version: number, storeName: string): Observable<boolean> {\n  if (!dbName || !version || !storeName) {\n    throw Error('Params: \"dbName\", \"version\", \"storeName\" are mandatory.');\n  }\n\n  return new Observable<boolean>((obs: Subscriber<boolean>) => {\n    try {\n      const newVersion = version + 1;\n      const request: IDBOpenDBRequest = indexedDB.open(dbName, newVersion);\n      request.onupgradeneeded = (event: IDBVersionChangeEvent) => {\n        const database: IDBDatabase = (event.target as any).result;\n\n        database.deleteObjectStore(storeName);\n        database.close();\n        console.log('onupgradeneeded');\n        obs.next(true);\n        obs.complete();\n      };\n\n      request.onerror = (e) => obs.error(e);\n    } catch (error) {\n      obs.error(error);\n    }\n  });\n\n\n}\n"]},"resolvedIds":{"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":3936,"body":[{"type":"ExportNamedDeclaration","start":0,"end":104,"declaration":{"type":"FunctionDeclaration","start":7,"end":104,"id":{"type":"Identifier","start":16,"end":33,"name":"validateStoreName"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":34,"end":36,"name":"db"},{"type":"Identifier","start":38,"end":47,"name":"storeName"}],"body":{"type":"BlockStatement","start":49,"end":104,"body":[{"type":"ReturnStatement","start":55,"end":102,"argument":{"type":"CallExpression","start":62,"end":101,"callee":{"type":"MemberExpression","start":62,"end":90,"object":{"type":"MemberExpression","start":62,"end":81,"object":{"type":"Identifier","start":62,"end":64,"name":"db"},"property":{"type":"Identifier","start":65,"end":81,"name":"objectStoreNames"},"computed":false,"optional":false},"property":{"type":"Identifier","start":82,"end":90,"name":"contains"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":91,"end":100,"name":"storeName"}],"optional":false}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":105,"end":409,"declaration":{"type":"FunctionDeclaration","start":112,"end":409,"id":{"type":"Identifier","start":121,"end":146,"name":"validateBeforeTransaction"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":147,"end":149,"name":"db"},{"type":"Identifier","start":151,"end":160,"name":"storeName"},{"type":"Identifier","start":162,"end":168,"name":"reject"}],"body":{"type":"BlockStatement","start":170,"end":409,"body":[{"type":"IfStatement","start":176,"end":295,"test":{"type":"UnaryExpression","start":180,"end":183,"operator":"!","prefix":true,"argument":{"type":"Identifier","start":181,"end":183,"name":"db"}},"consequent":{"type":"BlockStatement","start":185,"end":295,"body":[{"type":"ExpressionStatement","start":195,"end":289,"expression":{"type":"CallExpression","start":195,"end":288,"callee":{"type":"Identifier","start":195,"end":201,"name":"reject"},"arguments":[{"type":"Literal","start":202,"end":287,"value":"You need to use the openDatabase function to create a database before you query it!","raw":"'You need to use the openDatabase function to create a database before you query it!'"}],"optional":false}}]},"alternate":null},{"type":"IfStatement","start":300,"end":407,"test":{"type":"UnaryExpression","start":304,"end":337,"operator":"!","prefix":true,"argument":{"type":"CallExpression","start":305,"end":337,"callee":{"type":"Identifier","start":305,"end":322,"name":"validateStoreName"},"arguments":[{"type":"Identifier","start":323,"end":325,"name":"db"},{"type":"Identifier","start":327,"end":336,"name":"storeName"}],"optional":false}},"consequent":{"type":"BlockStatement","start":339,"end":407,"body":[{"type":"ExpressionStatement","start":349,"end":401,"expression":{"type":"CallExpression","start":349,"end":400,"callee":{"type":"Identifier","start":349,"end":355,"name":"reject"},"arguments":[{"type":"TemplateLiteral","start":356,"end":399,"expressions":[{"type":"Identifier","start":388,"end":397,"name":"storeName"}],"quasis":[{"type":"TemplateElement","start":357,"end":386,"value":{"raw":"objectStore does not exists: ","cooked":"objectStore does not exists: "},"tail":false},{"type":"TemplateElement","start":398,"end":398,"value":{"raw":"","cooked":""},"tail":true}]}],"optional":false}}]},"alternate":null}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":410,"end":617,"declaration":{"type":"FunctionDeclaration","start":417,"end":617,"id":{"type":"Identifier","start":426,"end":443,"name":"createTransaction"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":444,"end":446,"name":"db"},{"type":"Identifier","start":448,"end":455,"name":"options"}],"body":{"type":"BlockStatement","start":457,"end":617,"body":[{"type":"VariableDeclaration","start":463,"end":527,"declarations":[{"type":"VariableDeclarator","start":469,"end":526,"id":{"type":"Identifier","start":469,"end":474,"name":"trans"},"init":{"type":"CallExpression","start":477,"end":526,"callee":{"type":"MemberExpression","start":477,"end":491,"object":{"type":"Identifier","start":477,"end":479,"name":"db"},"property":{"type":"Identifier","start":480,"end":491,"name":"transaction"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":492,"end":509,"object":{"type":"Identifier","start":492,"end":499,"name":"options"},"property":{"type":"Identifier","start":500,"end":509,"name":"storeName"},"computed":false,"optional":false},{"type":"MemberExpression","start":511,"end":525,"object":{"type":"Identifier","start":511,"end":518,"name":"options"},"property":{"type":"Identifier","start":519,"end":525,"name":"dbMode"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":532,"end":562,"expression":{"type":"AssignmentExpression","start":532,"end":561,"operator":"=","left":{"type":"MemberExpression","start":532,"end":545,"object":{"type":"Identifier","start":532,"end":537,"name":"trans"},"property":{"type":"Identifier","start":538,"end":545,"name":"onerror"},"computed":false,"optional":false},"right":{"type":"MemberExpression","start":548,"end":561,"object":{"type":"Identifier","start":548,"end":555,"name":"options"},"property":{"type":"Identifier","start":556,"end":561,"name":"error"},"computed":false,"optional":false}}},{"type":"ExpressionStatement","start":567,"end":597,"expression":{"type":"AssignmentExpression","start":567,"end":596,"operator":"=","left":{"type":"MemberExpression","start":567,"end":580,"object":{"type":"Identifier","start":567,"end":572,"name":"trans"},"property":{"type":"Identifier","start":573,"end":580,"name":"onabort"},"computed":false,"optional":false},"right":{"type":"MemberExpression","start":583,"end":596,"object":{"type":"Identifier","start":583,"end":590,"name":"options"},"property":{"type":"Identifier","start":591,"end":596,"name":"abort"},"computed":false,"optional":false}}},{"type":"ReturnStatement","start":602,"end":615,"argument":{"type":"Identifier","start":609,"end":614,"name":"trans"}}]}},"specifiers":[],"source":null},{"type":"ExportNamedDeclaration","start":618,"end":865,"declaration":{"type":"FunctionDeclaration","start":625,"end":865,"id":{"type":"Identifier","start":634,"end":650,"name":"optionsGenerator"},"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":651,"end":655,"name":"type"},{"type":"Identifier","start":657,"end":666,"name":"storeName"},{"type":"Identifier","start":668,"end":674,"name":"reject"},{"type":"Identifier","start":676,"end":683,"name":"resolve"}],"body":{"type":"BlockStatement","start":685,"end":865,"body":[{"type":"ReturnStatement","start":691,"end":863,"argument":{"type":"ObjectExpression","start":698,"end":862,"properties":[{"type":"Property","start":708,"end":717,"method":false,"shorthand":true,"computed":false,"key":{"type":"Identifier","start":708,"end":717,"name":"storeName"},"kind":"init","value":{"type":"Identifier","start":708,"end":717,"name":"storeName"}},{"type":"Property","start":727,"end":739,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":727,"end":733,"name":"dbMode"},"value":{"type":"Identifier","start":735,"end":739,"name":"type"},"kind":"init"},{"type":"Property","start":749,"end":797,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":749,"end":754,"name":"error"},"value":{"type":"ArrowFunctionExpression","start":756,"end":797,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":757,"end":758,"name":"e"}],"body":{"type":"BlockStatement","start":763,"end":797,"body":[{"type":"ExpressionStatement","start":777,"end":787,"expression":{"type":"CallExpression","start":777,"end":786,"callee":{"type":"Identifier","start":777,"end":783,"name":"reject"},"arguments":[{"type":"Identifier","start":784,"end":785,"name":"e"}],"optional":false}}]}},"kind":"init"},{"type":"Property","start":807,"end":855,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":807,"end":812,"name":"abort"},"value":{"type":"ArrowFunctionExpression","start":814,"end":855,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":815,"end":816,"name":"e"}],"body":{"type":"BlockStatement","start":821,"end":855,"body":[{"type":"ExpressionStatement","start":835,"end":845,"expression":{"type":"CallExpression","start":835,"end":844,"callee":{"type":"Identifier","start":835,"end":841,"name":"reject"},"arguments":[{"type":"Identifier","start":842,"end":843,"name":"e"}],"optional":false}}]}},"kind":"init"}]}}]}},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtaW5kZXhlZC1kYi9zcmMvdXRpbHMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBUUEsTUFBTSxVQUFVLGlCQUFpQixDQUFDLEVBQWUsRUFBRSxTQUFpQjtJQUNsRSxPQUFPLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDakQsQ0FBQztBQUVELE1BQU0sVUFBVSx5QkFBeUIsQ0FBQyxFQUFlLEVBQUUsU0FBaUIsRUFBRSxNQUFpQztJQUM3RyxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ1AsTUFBTSxDQUFDLHFGQUFxRixDQUFDLENBQUM7S0FDL0Y7SUFDRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxFQUFFO1FBQ3JDLE1BQU0sQ0FBQyxnQ0FBZ0MsU0FBUyxFQUFFLENBQUMsQ0FBQztLQUNyRDtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsRUFBZSxFQUFFLE9BQWdCO0lBQ2pFLE1BQU0sS0FBSyxHQUFtQixFQUFFLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hGLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQztJQUM5QixLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7SUFDOUIsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUM5QixJQUFTLEVBQ1QsU0FBYyxFQUNkLE1BQThCLEVBQzlCLE9BQTBCO0lBRTFCLE9BQU87UUFDTCxTQUFTO1FBQ1QsTUFBTSxFQUFFLElBQUk7UUFDWixLQUFLLEVBQUUsQ0FBQyxDQUFRLEVBQUUsRUFBRTtZQUNsQixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDWixDQUFDO1FBQ0QsS0FBSyxFQUFFLENBQUMsQ0FBUSxFQUFFLEVBQUU7WUFDbEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1osQ0FBQztLQUNGLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBPcHRpb25zIHtcbiAgc3RvcmVOYW1lOiBzdHJpbmc7XG4gIGRiTW9kZTogSURCVHJhbnNhY3Rpb25Nb2RlO1xuICBlcnJvcjogKGU6IEV2ZW50KSA9PiBhbnk7XG4gIGNvbXBsZXRlPzogKGU6IEV2ZW50KSA9PiBhbnk7XG4gIGFib3J0PzogYW55O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVTdG9yZU5hbWUoZGI6IElEQkRhdGFiYXNlLCBzdG9yZU5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhzdG9yZU5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVCZWZvcmVUcmFuc2FjdGlvbihkYjogSURCRGF0YWJhc2UsIHN0b3JlTmFtZTogc3RyaW5nLCByZWplY3Q6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcbiAgaWYgKCFkYikge1xuICAgIHJlamVjdCgnWW91IG5lZWQgdG8gdXNlIHRoZSBvcGVuRGF0YWJhc2UgZnVuY3Rpb24gdG8gY3JlYXRlIGEgZGF0YWJhc2UgYmVmb3JlIHlvdSBxdWVyeSBpdCEnKTtcbiAgfVxuICBpZiAoIXZhbGlkYXRlU3RvcmVOYW1lKGRiLCBzdG9yZU5hbWUpKSB7XG4gICAgcmVqZWN0KGBvYmplY3RTdG9yZSBkb2VzIG5vdCBleGlzdHM6ICR7c3RvcmVOYW1lfWApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc2FjdGlvbihkYjogSURCRGF0YWJhc2UsIG9wdGlvbnM6IE9wdGlvbnMpOiBJREJUcmFuc2FjdGlvbiB7XG4gIGNvbnN0IHRyYW5zOiBJREJUcmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKG9wdGlvbnMuc3RvcmVOYW1lLCBvcHRpb25zLmRiTW9kZSk7XG4gIHRyYW5zLm9uZXJyb3IgPSBvcHRpb25zLmVycm9yO1xuICB0cmFucy5vbmFib3J0ID0gb3B0aW9ucy5hYm9ydDtcbiAgcmV0dXJuIHRyYW5zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3B0aW9uc0dlbmVyYXRvcihcbiAgdHlwZTogYW55LFxuICBzdG9yZU5hbWU6IGFueSxcbiAgcmVqZWN0OiAocmVhc29uPzogYW55KSA9PiB2b2lkLFxuICByZXNvbHZlPzogKGU6IGFueSkgPT4gdm9pZFxuKTogT3B0aW9ucyB7XG4gIHJldHVybiB7XG4gICAgc3RvcmVOYW1lLFxuICAgIGRiTW9kZTogdHlwZSxcbiAgICBlcnJvcjogKGU6IEV2ZW50KSA9PiB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSxcbiAgICBhYm9ydDogKGU6IEV2ZW50KSA9PiB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSxcbiAgfTtcbn1cbiJdfQ==","start":866,"end":3936}]},"code":"export function validateStoreName(db, storeName) {\n    return db.objectStoreNames.contains(storeName);\n}\nexport function validateBeforeTransaction(db, storeName, reject) {\n    if (!db) {\n        reject('You need to use the openDatabase function to create a database before you query it!');\n    }\n    if (!validateStoreName(db, storeName)) {\n        reject(`objectStore does not exists: ${storeName}`);\n    }\n}\nexport function createTransaction(db, options) {\n    const trans = db.transaction(options.storeName, options.dbMode);\n    trans.onerror = options.error;\n    trans.onabort = options.abort;\n    return trans;\n}\nexport function optionsGenerator(type, storeName, reject, resolve) {\n    return {\n        storeName,\n        dbMode: type,\n        error: (e) => {\n            reject(e);\n        },\n        abort: (e) => {\n            reject(e);\n        },\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtaW5kZXhlZC1kYi9zcmMvdXRpbHMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBUUEsTUFBTSxVQUFVLGlCQUFpQixDQUFDLEVBQWUsRUFBRSxTQUFpQjtJQUNsRSxPQUFPLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDakQsQ0FBQztBQUVELE1BQU0sVUFBVSx5QkFBeUIsQ0FBQyxFQUFlLEVBQUUsU0FBaUIsRUFBRSxNQUFpQztJQUM3RyxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ1AsTUFBTSxDQUFDLHFGQUFxRixDQUFDLENBQUM7S0FDL0Y7SUFDRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxFQUFFO1FBQ3JDLE1BQU0sQ0FBQyxnQ0FBZ0MsU0FBUyxFQUFFLENBQUMsQ0FBQztLQUNyRDtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsRUFBZSxFQUFFLE9BQWdCO0lBQ2pFLE1BQU0sS0FBSyxHQUFtQixFQUFFLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hGLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQztJQUM5QixLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7SUFDOUIsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUM5QixJQUFTLEVBQ1QsU0FBYyxFQUNkLE1BQThCLEVBQzlCLE9BQTBCO0lBRTFCLE9BQU87UUFDTCxTQUFTO1FBQ1QsTUFBTSxFQUFFLElBQUk7UUFDWixLQUFLLEVBQUUsQ0FBQyxDQUFRLEVBQUUsRUFBRTtZQUNsQixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDWixDQUFDO1FBQ0QsS0FBSyxFQUFFLENBQUMsQ0FBUSxFQUFFLEVBQUU7WUFDbEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1osQ0FBQztLQUNGLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBPcHRpb25zIHtcbiAgc3RvcmVOYW1lOiBzdHJpbmc7XG4gIGRiTW9kZTogSURCVHJhbnNhY3Rpb25Nb2RlO1xuICBlcnJvcjogKGU6IEV2ZW50KSA9PiBhbnk7XG4gIGNvbXBsZXRlPzogKGU6IEV2ZW50KSA9PiBhbnk7XG4gIGFib3J0PzogYW55O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVTdG9yZU5hbWUoZGI6IElEQkRhdGFiYXNlLCBzdG9yZU5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhzdG9yZU5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVCZWZvcmVUcmFuc2FjdGlvbihkYjogSURCRGF0YWJhc2UsIHN0b3JlTmFtZTogc3RyaW5nLCByZWplY3Q6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcbiAgaWYgKCFkYikge1xuICAgIHJlamVjdCgnWW91IG5lZWQgdG8gdXNlIHRoZSBvcGVuRGF0YWJhc2UgZnVuY3Rpb24gdG8gY3JlYXRlIGEgZGF0YWJhc2UgYmVmb3JlIHlvdSBxdWVyeSBpdCEnKTtcbiAgfVxuICBpZiAoIXZhbGlkYXRlU3RvcmVOYW1lKGRiLCBzdG9yZU5hbWUpKSB7XG4gICAgcmVqZWN0KGBvYmplY3RTdG9yZSBkb2VzIG5vdCBleGlzdHM6ICR7c3RvcmVOYW1lfWApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc2FjdGlvbihkYjogSURCRGF0YWJhc2UsIG9wdGlvbnM6IE9wdGlvbnMpOiBJREJUcmFuc2FjdGlvbiB7XG4gIGNvbnN0IHRyYW5zOiBJREJUcmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKG9wdGlvbnMuc3RvcmVOYW1lLCBvcHRpb25zLmRiTW9kZSk7XG4gIHRyYW5zLm9uZXJyb3IgPSBvcHRpb25zLmVycm9yO1xuICB0cmFucy5vbmFib3J0ID0gb3B0aW9ucy5hYm9ydDtcbiAgcmV0dXJuIHRyYW5zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3B0aW9uc0dlbmVyYXRvcihcbiAgdHlwZTogYW55LFxuICBzdG9yZU5hbWU6IGFueSxcbiAgcmVqZWN0OiAocmVhc29uPzogYW55KSA9PiB2b2lkLFxuICByZXNvbHZlPzogKGU6IGFueSkgPT4gdm9pZFxuKTogT3B0aW9ucyB7XG4gIHJldHVybiB7XG4gICAgc3RvcmVOYW1lLFxuICAgIGRiTW9kZTogdHlwZSxcbiAgICBlcnJvcjogKGU6IEV2ZW50KSA9PiB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSxcbiAgICBhYm9ydDogKGU6IEV2ZW50KSA9PiB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSxcbiAgfTtcbn1cbiJdfQ==","customTransformCache":false,"dependencies":[],"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/utils/index.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export function validateStoreName(db, storeName) {\n    return db.objectStoreNames.contains(storeName);\n}\nexport function validateBeforeTransaction(db, storeName, reject) {\n    if (!db) {\n        reject('You need to use the openDatabase function to create a database before you query it!');\n    }\n    if (!validateStoreName(db, storeName)) {\n        reject(`objectStore does not exists: ${storeName}`);\n    }\n}\nexport function createTransaction(db, options) {\n    const trans = db.transaction(options.storeName, options.dbMode);\n    trans.onerror = options.error;\n    trans.onabort = options.abort;\n    return trans;\n}\nexport function optionsGenerator(type, storeName, reject, resolve) {\n    return {\n        storeName,\n        dbMode: type,\n        error: (e) => {\n            reject(e);\n        },\n        abort: (e) => {\n            reject(e);\n        },\n    };\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtaW5kZXhlZC1kYi9zcmMvdXRpbHMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBUUEsTUFBTSxVQUFVLGlCQUFpQixDQUFDLEVBQWUsRUFBRSxTQUFpQjtJQUNsRSxPQUFPLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDakQsQ0FBQztBQUVELE1BQU0sVUFBVSx5QkFBeUIsQ0FBQyxFQUFlLEVBQUUsU0FBaUIsRUFBRSxNQUFpQztJQUM3RyxJQUFJLENBQUMsRUFBRSxFQUFFO1FBQ1AsTUFBTSxDQUFDLHFGQUFxRixDQUFDLENBQUM7S0FDL0Y7SUFDRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxFQUFFO1FBQ3JDLE1BQU0sQ0FBQyxnQ0FBZ0MsU0FBUyxFQUFFLENBQUMsQ0FBQztLQUNyRDtBQUNILENBQUM7QUFFRCxNQUFNLFVBQVUsaUJBQWlCLENBQUMsRUFBZSxFQUFFLE9BQWdCO0lBQ2pFLE1BQU0sS0FBSyxHQUFtQixFQUFFLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ2hGLEtBQUssQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQztJQUM5QixLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUM7SUFDOUIsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUM5QixJQUFTLEVBQ1QsU0FBYyxFQUNkLE1BQThCLEVBQzlCLE9BQTBCO0lBRTFCLE9BQU87UUFDTCxTQUFTO1FBQ1QsTUFBTSxFQUFFLElBQUk7UUFDWixLQUFLLEVBQUUsQ0FBQyxDQUFRLEVBQUUsRUFBRTtZQUNsQixNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDWixDQUFDO1FBQ0QsS0FBSyxFQUFFLENBQUMsQ0FBUSxFQUFFLEVBQUU7WUFDbEIsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ1osQ0FBQztLQUNGLENBQUM7QUFDSixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBPcHRpb25zIHtcbiAgc3RvcmVOYW1lOiBzdHJpbmc7XG4gIGRiTW9kZTogSURCVHJhbnNhY3Rpb25Nb2RlO1xuICBlcnJvcjogKGU6IEV2ZW50KSA9PiBhbnk7XG4gIGNvbXBsZXRlPzogKGU6IEV2ZW50KSA9PiBhbnk7XG4gIGFib3J0PzogYW55O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVTdG9yZU5hbWUoZGI6IElEQkRhdGFiYXNlLCBzdG9yZU5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICByZXR1cm4gZGIub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhzdG9yZU5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVCZWZvcmVUcmFuc2FjdGlvbihkYjogSURCRGF0YWJhc2UsIHN0b3JlTmFtZTogc3RyaW5nLCByZWplY3Q6IChtZXNzYWdlOiBzdHJpbmcpID0+IHZvaWQpOiB2b2lkIHtcbiAgaWYgKCFkYikge1xuICAgIHJlamVjdCgnWW91IG5lZWQgdG8gdXNlIHRoZSBvcGVuRGF0YWJhc2UgZnVuY3Rpb24gdG8gY3JlYXRlIGEgZGF0YWJhc2UgYmVmb3JlIHlvdSBxdWVyeSBpdCEnKTtcbiAgfVxuICBpZiAoIXZhbGlkYXRlU3RvcmVOYW1lKGRiLCBzdG9yZU5hbWUpKSB7XG4gICAgcmVqZWN0KGBvYmplY3RTdG9yZSBkb2VzIG5vdCBleGlzdHM6ICR7c3RvcmVOYW1lfWApO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUcmFuc2FjdGlvbihkYjogSURCRGF0YWJhc2UsIG9wdGlvbnM6IE9wdGlvbnMpOiBJREJUcmFuc2FjdGlvbiB7XG4gIGNvbnN0IHRyYW5zOiBJREJUcmFuc2FjdGlvbiA9IGRiLnRyYW5zYWN0aW9uKG9wdGlvbnMuc3RvcmVOYW1lLCBvcHRpb25zLmRiTW9kZSk7XG4gIHRyYW5zLm9uZXJyb3IgPSBvcHRpb25zLmVycm9yO1xuICB0cmFucy5vbmFib3J0ID0gb3B0aW9ucy5hYm9ydDtcbiAgcmV0dXJuIHRyYW5zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gb3B0aW9uc0dlbmVyYXRvcihcbiAgdHlwZTogYW55LFxuICBzdG9yZU5hbWU6IGFueSxcbiAgcmVqZWN0OiAocmVhc29uPzogYW55KSA9PiB2b2lkLFxuICByZXNvbHZlPzogKGU6IGFueSkgPT4gdm9pZFxuKTogT3B0aW9ucyB7XG4gIHJldHVybiB7XG4gICAgc3RvcmVOYW1lLFxuICAgIGRiTW9kZTogdHlwZSxcbiAgICBlcnJvcjogKGU6IEV2ZW50KSA9PiB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSxcbiAgICBhYm9ydDogKGU6IEV2ZW50KSA9PiB7XG4gICAgICByZWplY3QoZSk7XG4gICAgfSxcbiAgfTtcbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../projects/ngx-indexed-db/src/utils/index.ts"],"names":[],"mappings":[[[0,0,8,0],[6,0,8,6],[16,0,8,16],[33,0,8,33],[34,0,8,34],[36,0,8,49],[38,0,8,51],[47,0,8,68]],[[4,0,9,2],[11,0,9,9],[13,0,9,11],[14,0,9,12],[30,0,9,28],[31,0,9,29],[39,0,9,37],[40,0,9,38],[49,0,9,47],[50,0,9,48],[51,0,9,49]],[[0,0,10,0],[1,0,10,1]],[[0,0,12,0],[6,0,12,6],[16,0,12,16],[41,0,12,41],[42,0,12,42],[44,0,12,57],[46,0,12,59],[55,0,12,76],[57,0,12,78],[63,0,12,111]],[[4,0,13,2],[8,0,13,6],[9,0,13,7],[11,0,13,9],[13,0,13,11]],[[8,0,14,4],[14,0,14,10],[15,0,14,11],[100,0,14,96],[101,0,14,97],[102,0,14,98]],[[5,0,15,3]],[[4,0,16,2],[8,0,16,6],[9,0,16,7],[26,0,16,24],[27,0,16,25],[29,0,16,27],[31,0,16,29],[40,0,16,38],[41,0,16,39],[43,0,16,41]],[[8,0,17,4],[14,0,17,10],[15,0,17,11],[47,0,17,43],[56,0,17,52],[58,0,17,54],[59,0,17,55],[60,0,17,56]],[[5,0,18,3]],[[0,0,19,0],[1,0,19,1]],[[0,0,21,0],[6,0,21,6],[16,0,21,16],[33,0,21,33],[34,0,21,34],[36,0,21,49],[38,0,21,51],[45,0,21,67]],[[4,0,22,2],[10,0,22,8],[15,0,22,13],[18,0,22,32],[20,0,22,34],[21,0,22,35],[32,0,22,46],[33,0,22,47],[40,0,22,54],[41,0,22,55],[50,0,22,64],[52,0,22,66],[59,0,22,73],[60,0,22,74],[66,0,22,80],[67,0,22,81],[68,0,22,82]],[[4,0,23,2],[9,0,23,7],[10,0,23,8],[17,0,23,15],[20,0,23,18],[27,0,23,25],[28,0,23,26],[33,0,23,31],[34,0,23,32]],[[4,0,24,2],[9,0,24,7],[10,0,24,8],[17,0,24,15],[20,0,24,18],[27,0,24,25],[28,0,24,26],[33,0,24,31],[34,0,24,32]],[[4,0,25,2],[11,0,25,9],[16,0,25,14],[17,0,25,15]],[[0,0,26,0],[1,0,26,1]],[[0,0,28,0],[6,0,28,6],[16,0,28,16],[32,0,28,32],[33,0,29,2],[37,0,29,11],[39,0,30,2],[48,0,30,16],[50,0,31,2],[56,0,31,32],[58,0,32,2],[65,0,32,28]],[[4,0,34,2],[11,0,34,9]],[[8,0,35,4],[17,0,35,13]],[[8,0,36,4],[14,0,36,10],[16,0,36,12],[20,0,36,16]],[[8,0,37,4],[13,0,37,9],[15,0,37,11],[16,0,37,12],[17,0,37,20],[19,0,37,22],[21,0,37,24]],[[12,0,38,6],[18,0,38,12],[19,0,38,13],[20,0,38,14],[21,0,38,15],[22,0,38,16]],[[8,0,39,4],[9,0,39,5]],[[8,0,40,4],[13,0,40,9],[15,0,40,11],[16,0,40,12],[17,0,40,20],[19,0,40,22],[21,0,40,24]],[[12,0,41,6],[18,0,41,12],[19,0,41,13],[20,0,41,14],[21,0,41,15],[22,0,41,16]],[[8,0,42,4],[9,0,42,5]],[[5,0,43,3],[6,0,43,4]],[[0,0,44,0],[1,0,44,1]]],"sourcesContent":["export interface Options {\n  storeName: string;\n  dbMode: IDBTransactionMode;\n  error: (e: Event) => any;\n  complete?: (e: Event) => any;\n  abort?: any;\n}\n\nexport function validateStoreName(db: IDBDatabase, storeName: string): boolean {\n  return db.objectStoreNames.contains(storeName);\n}\n\nexport function validateBeforeTransaction(db: IDBDatabase, storeName: string, reject: (message: string) => void): void {\n  if (!db) {\n    reject('You need to use the openDatabase function to create a database before you query it!');\n  }\n  if (!validateStoreName(db, storeName)) {\n    reject(`objectStore does not exists: ${storeName}`);\n  }\n}\n\nexport function createTransaction(db: IDBDatabase, options: Options): IDBTransaction {\n  const trans: IDBTransaction = db.transaction(options.storeName, options.dbMode);\n  trans.onerror = options.error;\n  trans.onabort = options.abort;\n  return trans;\n}\n\nexport function optionsGenerator(\n  type: any,\n  storeName: any,\n  reject: (reason?: any) => void,\n  resolve?: (e: any) => void\n): Options {\n  return {\n    storeName,\n    dbMode: type,\n    error: (e: Event) => {\n      reject(e);\n    },\n    abort: (e: Event) => {\n      reject(e);\n    },\n  };\n}\n"]},"resolvedIds":{},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":2357,"body":[{"type":"ImportDeclaration","start":0,"end":47,"specifiers":[{"type":"ImportSpecifier","start":9,"end":23,"imported":{"type":"Identifier","start":9,"end":23,"name":"InjectionToken"},"local":{"type":"Identifier","start":9,"end":23,"name":"InjectionToken"}}],"source":{"type":"Literal","start":31,"end":46,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ExportNamedDeclaration","start":48,"end":66,"declaration":{"type":"VariableDeclaration","start":55,"end":66,"declarations":[{"type":"VariableDeclarator","start":59,"end":65,"id":{"type":"Identifier","start":59,"end":65,"name":"DBMode"},"init":null}],"kind":"var"},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":67,"end":192,"expression":{"type":"CallExpression","start":67,"end":191,"callee":{"type":"FunctionExpression","start":68,"end":165,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":78,"end":84,"name":"DBMode"}],"body":{"type":"BlockStatement","start":86,"end":165,"body":[{"type":"ExpressionStatement","start":92,"end":124,"expression":{"type":"AssignmentExpression","start":92,"end":123,"operator":"=","left":{"type":"MemberExpression","start":92,"end":110,"object":{"type":"Identifier","start":92,"end":98,"name":"DBMode"},"property":{"type":"Literal","start":99,"end":109,"value":"readonly","raw":"\"readonly\""},"computed":true,"optional":false},"right":{"type":"Literal","start":113,"end":123,"value":"readonly","raw":"\"readonly\""}}},{"type":"ExpressionStatement","start":129,"end":163,"expression":{"type":"AssignmentExpression","start":129,"end":162,"operator":"=","left":{"type":"MemberExpression","start":129,"end":148,"object":{"type":"Identifier","start":129,"end":135,"name":"DBMode"},"property":{"type":"Literal","start":136,"end":147,"value":"readwrite","raw":"\"readwrite\""},"computed":true,"optional":false},"right":{"type":"Literal","start":151,"end":162,"value":"readwrite","raw":"\"readwrite\""}}}]}},"arguments":[{"type":"LogicalExpression","start":167,"end":190,"left":{"type":"Identifier","start":167,"end":173,"name":"DBMode"},"operator":"||","right":{"type":"AssignmentExpression","start":178,"end":189,"operator":"=","left":{"type":"Identifier","start":178,"end":184,"name":"DBMode"},"right":{"type":"ObjectExpression","start":187,"end":189,"properties":[]}}}],"optional":false}},{"type":"ExportNamedDeclaration","start":193,"end":246,"declaration":{"type":"VariableDeclaration","start":200,"end":246,"declarations":[{"type":"VariableDeclarator","start":206,"end":245,"id":{"type":"Identifier","start":206,"end":218,"name":"CONFIG_TOKEN"},"init":{"type":"NewExpression","start":221,"end":245,"callee":{"type":"Identifier","start":225,"end":239,"name":"InjectionToken"},"arguments":[{"type":"Literal","start":240,"end":244,"value":null,"raw":"null"}]}}],"kind":"const"},"specifiers":[],"source":null}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIubWV0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9saWIvbmd4LWluZGV4ZWQtZGIubWV0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBa0MvQyxNQUFNLENBQU4sSUFBWSxNQUdYO0FBSEQsV0FBWSxNQUFNO0lBQ2hCLCtCQUFxQixDQUFBO0lBQ3JCLGlDQUF1QixDQUFBO0FBQ3pCLENBQUMsRUFIVyxNQUFNLEtBQU4sTUFBTSxRQUdqQjtBQU1ELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxJQUFJLGNBQWMsQ0FBVyxJQUFJLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgREJDb25maWcge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZlcnNpb246IG51bWJlcjtcbiAgb2JqZWN0U3RvcmVzTWV0YTogT2JqZWN0U3RvcmVNZXRhW107XG4gIG1pZ3JhdGlvbkZhY3Rvcnk/OiAoKSA9PiB7IFtrZXk6IG51bWJlcl06IChkYjogSURCRGF0YWJhc2UsIHRyYW5zYWN0aW9uOiBJREJUcmFuc2FjdGlvbikgPT4gdm9pZCB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9iamVjdFN0b3JlTWV0YSB7XG4gIHN0b3JlOiBzdHJpbmc7XG4gIHN0b3JlQ29uZmlnOiB7IGtleVBhdGg6IHN0cmluZyB8IHN0cmluZ1tdOyBhdXRvSW5jcmVtZW50OiBib29sZWFuOyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgc3RvcmVTY2hlbWE6IE9iamVjdFN0b3JlU2NoZW1hW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0U3RvcmVTY2hlbWEge1xuICBuYW1lOiBzdHJpbmc7XG4gIGtleXBhdGg6IHN0cmluZyB8IHN0cmluZ1tdO1xuICBvcHRpb25zOiB7IHVuaXF1ZTogYm9vbGVhbjsgW2tleTogc3RyaW5nXTogYW55IH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5kZXhEZXRhaWxzIHtcbiAgaW5kZXhOYW1lOiBzdHJpbmc7XG4gIG9yZGVyOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdEV2ZW50PFQ+IGV4dGVuZHMgRXZlbnQge1xuICB0YXJnZXQ6IFJlcXVlc3RFdmVudFRhcmdldDxUPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0RXZlbnRUYXJnZXQ8VD4gZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIHJlc3VsdDogVCB8IFRbXTtcbn1cblxuZXhwb3J0IGVudW0gREJNb2RlIHtcbiAgcmVhZG9ubHkgPSAncmVhZG9ubHknLFxuICByZWFkd3JpdGUgPSAncmVhZHdyaXRlJyxcbn1cblxuZXhwb3J0IHR5cGUgS2V5ID0gc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSB8IEFycmF5QnVmZmVyVmlldyB8IEFycmF5QnVmZmVyIHwgSURCVmFsaWRLZXkgfCBJREJLZXlSYW5nZTtcblxuZXhwb3J0IHR5cGUgV2l0aElEID0ge2lkOiBudW1iZXJ9O1xuXG5leHBvcnQgY29uc3QgQ09ORklHX1RPS0VOID0gbmV3IEluamVjdGlvblRva2VuPERCQ29uZmlnPihudWxsKTtcbiJdfQ==","start":247,"end":2357}]},"code":"import { InjectionToken } from '@angular/core';\nexport var DBMode;\n(function (DBMode) {\n    DBMode[\"readonly\"] = \"readonly\";\n    DBMode[\"readwrite\"] = \"readwrite\";\n})(DBMode || (DBMode = {}));\nexport const CONFIG_TOKEN = new InjectionToken(null);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIubWV0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9saWIvbmd4LWluZGV4ZWQtZGIubWV0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBa0MvQyxNQUFNLENBQU4sSUFBWSxNQUdYO0FBSEQsV0FBWSxNQUFNO0lBQ2hCLCtCQUFxQixDQUFBO0lBQ3JCLGlDQUF1QixDQUFBO0FBQ3pCLENBQUMsRUFIVyxNQUFNLEtBQU4sTUFBTSxRQUdqQjtBQU1ELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxJQUFJLGNBQWMsQ0FBVyxJQUFJLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgREJDb25maWcge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZlcnNpb246IG51bWJlcjtcbiAgb2JqZWN0U3RvcmVzTWV0YTogT2JqZWN0U3RvcmVNZXRhW107XG4gIG1pZ3JhdGlvbkZhY3Rvcnk/OiAoKSA9PiB7IFtrZXk6IG51bWJlcl06IChkYjogSURCRGF0YWJhc2UsIHRyYW5zYWN0aW9uOiBJREJUcmFuc2FjdGlvbikgPT4gdm9pZCB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9iamVjdFN0b3JlTWV0YSB7XG4gIHN0b3JlOiBzdHJpbmc7XG4gIHN0b3JlQ29uZmlnOiB7IGtleVBhdGg6IHN0cmluZyB8IHN0cmluZ1tdOyBhdXRvSW5jcmVtZW50OiBib29sZWFuOyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgc3RvcmVTY2hlbWE6IE9iamVjdFN0b3JlU2NoZW1hW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0U3RvcmVTY2hlbWEge1xuICBuYW1lOiBzdHJpbmc7XG4gIGtleXBhdGg6IHN0cmluZyB8IHN0cmluZ1tdO1xuICBvcHRpb25zOiB7IHVuaXF1ZTogYm9vbGVhbjsgW2tleTogc3RyaW5nXTogYW55IH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5kZXhEZXRhaWxzIHtcbiAgaW5kZXhOYW1lOiBzdHJpbmc7XG4gIG9yZGVyOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdEV2ZW50PFQ+IGV4dGVuZHMgRXZlbnQge1xuICB0YXJnZXQ6IFJlcXVlc3RFdmVudFRhcmdldDxUPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0RXZlbnRUYXJnZXQ8VD4gZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIHJlc3VsdDogVCB8IFRbXTtcbn1cblxuZXhwb3J0IGVudW0gREJNb2RlIHtcbiAgcmVhZG9ubHkgPSAncmVhZG9ubHknLFxuICByZWFkd3JpdGUgPSAncmVhZHdyaXRlJyxcbn1cblxuZXhwb3J0IHR5cGUgS2V5ID0gc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSB8IEFycmF5QnVmZmVyVmlldyB8IEFycmF5QnVmZmVyIHwgSURCVmFsaWRLZXkgfCBJREJLZXlSYW5nZTtcblxuZXhwb3J0IHR5cGUgV2l0aElEID0ge2lkOiBudW1iZXJ9O1xuXG5leHBvcnQgY29uc3QgQ09ORklHX1RPS0VOID0gbmV3IEluamVjdGlvblRva2VuPERCQ29uZmlnPihudWxsKTtcbiJdfQ==","customTransformCache":false,"dependencies":["@angular/core"],"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.meta.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { InjectionToken } from '@angular/core';\nexport var DBMode;\n(function (DBMode) {\n    DBMode[\"readonly\"] = \"readonly\";\n    DBMode[\"readwrite\"] = \"readwrite\";\n})(DBMode || (DBMode = {}));\nexport const CONFIG_TOKEN = new InjectionToken(null);\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIubWV0YS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9saWIvbmd4LWluZGV4ZWQtZGIubWV0YS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBa0MvQyxNQUFNLENBQU4sSUFBWSxNQUdYO0FBSEQsV0FBWSxNQUFNO0lBQ2hCLCtCQUFxQixDQUFBO0lBQ3JCLGlDQUF1QixDQUFBO0FBQ3pCLENBQUMsRUFIVyxNQUFNLEtBQU4sTUFBTSxRQUdqQjtBQU1ELE1BQU0sQ0FBQyxNQUFNLFlBQVksR0FBRyxJQUFJLGNBQWMsQ0FBVyxJQUFJLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgREJDb25maWcge1xuICBuYW1lOiBzdHJpbmc7XG4gIHZlcnNpb246IG51bWJlcjtcbiAgb2JqZWN0U3RvcmVzTWV0YTogT2JqZWN0U3RvcmVNZXRhW107XG4gIG1pZ3JhdGlvbkZhY3Rvcnk/OiAoKSA9PiB7IFtrZXk6IG51bWJlcl06IChkYjogSURCRGF0YWJhc2UsIHRyYW5zYWN0aW9uOiBJREJUcmFuc2FjdGlvbikgPT4gdm9pZCB9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE9iamVjdFN0b3JlTWV0YSB7XG4gIHN0b3JlOiBzdHJpbmc7XG4gIHN0b3JlQ29uZmlnOiB7IGtleVBhdGg6IHN0cmluZyB8IHN0cmluZ1tdOyBhdXRvSW5jcmVtZW50OiBib29sZWFuOyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgc3RvcmVTY2hlbWE6IE9iamVjdFN0b3JlU2NoZW1hW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgT2JqZWN0U3RvcmVTY2hlbWEge1xuICBuYW1lOiBzdHJpbmc7XG4gIGtleXBhdGg6IHN0cmluZyB8IHN0cmluZ1tdO1xuICBvcHRpb25zOiB7IHVuaXF1ZTogYm9vbGVhbjsgW2tleTogc3RyaW5nXTogYW55IH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW5kZXhEZXRhaWxzIHtcbiAgaW5kZXhOYW1lOiBzdHJpbmc7XG4gIG9yZGVyOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVxdWVzdEV2ZW50PFQ+IGV4dGVuZHMgRXZlbnQge1xuICB0YXJnZXQ6IFJlcXVlc3RFdmVudFRhcmdldDxUPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0RXZlbnRUYXJnZXQ8VD4gZXh0ZW5kcyBFdmVudFRhcmdldCB7XG4gIHJlc3VsdDogVCB8IFRbXTtcbn1cblxuZXhwb3J0IGVudW0gREJNb2RlIHtcbiAgcmVhZG9ubHkgPSAncmVhZG9ubHknLFxuICByZWFkd3JpdGUgPSAncmVhZHdyaXRlJyxcbn1cblxuZXhwb3J0IHR5cGUgS2V5ID0gc3RyaW5nIHwgbnVtYmVyIHwgRGF0ZSB8IEFycmF5QnVmZmVyVmlldyB8IEFycmF5QnVmZmVyIHwgSURCVmFsaWRLZXkgfCBJREJLZXlSYW5nZTtcblxuZXhwb3J0IHR5cGUgV2l0aElEID0ge2lkOiBudW1iZXJ9O1xuXG5leHBvcnQgY29uc3QgQ09ORklHX1RPS0VOID0gbmV3IEluamVjdGlvblRva2VuPERCQ29uZmlnPihudWxsKTtcbiJdfQ==","originalSourcemap":{"version":3,"file":"ngx-indexed-db.meta.js","sourceRoot":"","sources":["../../../../projects/ngx-indexed-db/src/lib/ngx-indexed-db.meta.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[23,0,0,23],[25,0,0,25],[31,0,0,31],[46,0,0,46],[47,0,0,47]],[[0,0,34,0],[6,0,34,6],[7,0,34,0],[11,0,34,12],[17,0,37,1]],[[0,0,34,0],[11,0,34,12],[17,0,34,18]],[[4,0,35,2],[35,0,35,23],[36,0,35,23]],[[4,0,36,2],[37,0,36,25],[38,0,36,25]],[[0,0,37,0],[1,0,37,1],[3,0,34,12],[9,0,34,18],[14,0,34,12],[20,0,34,18],[28,0,37,1]],[[0,0,43,0],[6,0,43,6],[7,0,43,7],[13,0,43,13],[25,0,43,25],[28,0,43,28],[32,0,43,32],[46,0,43,46],[47,0,43,57],[51,0,43,61],[52,0,43,62],[53,0,43,63]]],"sourcesContent":["import { InjectionToken } from '@angular/core';\n\nexport interface DBConfig {\n  name: string;\n  version: number;\n  objectStoresMeta: ObjectStoreMeta[];\n  migrationFactory?: () => { [key: number]: (db: IDBDatabase, transaction: IDBTransaction) => void };\n}\n\nexport interface ObjectStoreMeta {\n  store: string;\n  storeConfig: { keyPath: string | string[]; autoIncrement: boolean; [key: string]: any };\n  storeSchema: ObjectStoreSchema[];\n}\n\nexport interface ObjectStoreSchema {\n  name: string;\n  keypath: string | string[];\n  options: { unique: boolean; [key: string]: any };\n}\n\nexport interface IndexDetails {\n  indexName: string;\n  order: string;\n}\n\nexport interface RequestEvent<T> extends Event {\n  target: RequestEventTarget<T>;\n}\n\nexport interface RequestEventTarget<T> extends EventTarget {\n  result: T | T[];\n}\n\nexport enum DBMode {\n  readonly = 'readonly',\n  readwrite = 'readwrite',\n}\n\nexport type Key = string | number | Date | ArrayBufferView | ArrayBuffer | IDBValidKey | IDBKeyRange;\n\nexport type WithID = {id: number};\n\nexport const CONFIG_TOKEN = new InjectionToken<DBConfig>(null);\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":78709,"body":[{"type":"ImportDeclaration","start":0,"end":64,"specifiers":[{"type":"ImportSpecifier","start":9,"end":19,"imported":{"type":"Identifier","start":9,"end":19,"name":"Injectable"},"local":{"type":"Identifier","start":9,"end":19,"name":"Injectable"}},{"type":"ImportSpecifier","start":21,"end":27,"imported":{"type":"Identifier","start":21,"end":27,"name":"Inject"},"local":{"type":"Identifier","start":21,"end":27,"name":"Inject"}},{"type":"ImportSpecifier","start":29,"end":40,"imported":{"type":"Identifier","start":29,"end":40,"name":"PLATFORM_ID"},"local":{"type":"Identifier","start":29,"end":40,"name":"PLATFORM_ID"}}],"source":{"type":"Literal","start":48,"end":63,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":65,"end":151,"specifiers":[{"type":"ImportSpecifier","start":74,"end":86,"imported":{"type":"Identifier","start":74,"end":86,"name":"openDatabase"},"local":{"type":"Identifier","start":74,"end":86,"name":"openDatabase"}},{"type":"ImportSpecifier","start":88,"end":105,"imported":{"type":"Identifier","start":88,"end":105,"name":"CreateObjectStore"},"local":{"type":"Identifier","start":88,"end":105,"name":"CreateObjectStore"}},{"type":"ImportSpecifier","start":107,"end":124,"imported":{"type":"Identifier","start":107,"end":124,"name":"DeleteObjectStore"},"local":{"type":"Identifier","start":107,"end":124,"name":"DeleteObjectStore"}}],"source":{"type":"Literal","start":132,"end":150,"value":"./ngx-indexed-db","raw":"'./ngx-indexed-db'"}},{"type":"ImportDeclaration","start":152,"end":242,"specifiers":[{"type":"ImportSpecifier","start":161,"end":178,"imported":{"type":"Identifier","start":161,"end":178,"name":"createTransaction"},"local":{"type":"Identifier","start":161,"end":178,"name":"createTransaction"}},{"type":"ImportSpecifier","start":180,"end":196,"imported":{"type":"Identifier","start":180,"end":196,"name":"optionsGenerator"},"local":{"type":"Identifier","start":180,"end":196,"name":"optionsGenerator"}},{"type":"ImportSpecifier","start":198,"end":223,"imported":{"type":"Identifier","start":198,"end":223,"name":"validateBeforeTransaction"},"local":{"type":"Identifier","start":198,"end":223,"name":"validateBeforeTransaction"}}],"source":{"type":"Literal","start":231,"end":241,"value":"../utils","raw":"'../utils'"}},{"type":"ImportDeclaration","start":243,"end":304,"specifiers":[{"type":"ImportSpecifier","start":252,"end":264,"imported":{"type":"Identifier","start":252,"end":264,"name":"CONFIG_TOKEN"},"local":{"type":"Identifier","start":252,"end":264,"name":"CONFIG_TOKEN"}},{"type":"ImportSpecifier","start":266,"end":272,"imported":{"type":"Identifier","start":266,"end":272,"name":"DBMode"},"local":{"type":"Identifier","start":266,"end":272,"name":"DBMode"}}],"source":{"type":"Literal","start":280,"end":303,"value":"./ngx-indexed-db.meta","raw":"'./ngx-indexed-db.meta'"}},{"type":"ImportDeclaration","start":305,"end":357,"specifiers":[{"type":"ImportSpecifier","start":314,"end":331,"imported":{"type":"Identifier","start":314,"end":331,"name":"isPlatformBrowser"},"local":{"type":"Identifier","start":314,"end":331,"name":"isPlatformBrowser"}}],"source":{"type":"Literal","start":339,"end":356,"value":"@angular/common","raw":"'@angular/common'"}},{"type":"ImportDeclaration","start":358,"end":422,"specifiers":[{"type":"ImportSpecifier","start":367,"end":377,"imported":{"type":"Identifier","start":367,"end":377,"name":"Observable"},"local":{"type":"Identifier","start":367,"end":377,"name":"Observable"}},{"type":"ImportSpecifier","start":379,"end":386,"imported":{"type":"Identifier","start":379,"end":386,"name":"Subject"},"local":{"type":"Identifier","start":379,"end":386,"name":"Subject"}},{"type":"ImportSpecifier","start":388,"end":401,"imported":{"type":"Identifier","start":388,"end":401,"name":"combineLatest"},"local":{"type":"Identifier","start":388,"end":401,"name":"combineLatest"}},{"type":"ImportSpecifier","start":403,"end":407,"imported":{"type":"Identifier","start":403,"end":407,"name":"from"},"local":{"type":"Identifier","start":403,"end":407,"name":"from"}}],"source":{"type":"Literal","start":415,"end":421,"value":"rxjs","raw":"'rxjs'"}},{"type":"ImportDeclaration","start":423,"end":461,"specifiers":[{"type":"ImportSpecifier","start":432,"end":436,"imported":{"type":"Identifier","start":432,"end":436,"name":"take"},"local":{"type":"Identifier","start":432,"end":436,"name":"take"}}],"source":{"type":"Literal","start":444,"end":460,"value":"rxjs/operators","raw":"'rxjs/operators'"}},{"type":"ImportDeclaration","start":462,"end":498,"specifiers":[{"type":"ImportNamespaceSpecifier","start":469,"end":476,"local":{"type":"Identifier","start":474,"end":476,"name":"i0"}}],"source":{"type":"Literal","start":482,"end":497,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":499,"end":22400,"declaration":{"type":"ClassDeclaration","start":506,"end":22400,"id":{"type":"Identifier","start":512,"end":531,"name":"NgxIndexedDBService"},"superClass":null,"body":{"type":"ClassBody","start":532,"end":22400,"body":[{"type":"MethodDefinition","start":538,"end":2014,"static":false,"computed":false,"key":{"type":"Identifier","start":538,"end":549,"name":"constructor"},"kind":"constructor","value":{"type":"FunctionExpression","start":549,"end":2014,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":550,"end":558,"name":"dbConfig"},{"type":"Identifier","start":560,"end":570,"name":"platformId"}],"body":{"type":"BlockStatement","start":572,"end":2014,"body":[{"type":"ExpressionStatement","start":582,"end":607,"expression":{"type":"AssignmentExpression","start":582,"end":606,"operator":"=","left":{"type":"MemberExpression","start":582,"end":595,"object":{"type":"ThisExpression","start":582,"end":586},"property":{"type":"Identifier","start":587,"end":595,"name":"dbConfig"},"computed":false,"optional":false},"right":{"type":"Identifier","start":598,"end":606,"name":"dbConfig"}}},{"type":"ExpressionStatement","start":616,"end":645,"expression":{"type":"AssignmentExpression","start":616,"end":644,"operator":"=","left":{"type":"MemberExpression","start":616,"end":631,"object":{"type":"ThisExpression","start":616,"end":620},"property":{"type":"Identifier","start":621,"end":631,"name":"platformId"},"computed":false,"optional":false},"right":{"type":"Identifier","start":634,"end":644,"name":"platformId"}}},{"type":"IfStatement","start":654,"end":779,"test":{"type":"UnaryExpression","start":658,"end":672,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":659,"end":672,"object":{"type":"Identifier","start":659,"end":667,"name":"dbConfig"},"property":{"type":"Identifier","start":668,"end":672,"name":"name"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":674,"end":779,"body":[{"type":"ThrowStatement","start":688,"end":769,"argument":{"type":"NewExpression","start":694,"end":768,"callee":{"type":"Identifier","start":698,"end":703,"name":"Error"},"arguments":[{"type":"Literal","start":704,"end":767,"value":"NgxIndexedDB: Please, provide the dbName in the configuration","raw":"'NgxIndexedDB: Please, provide the dbName in the configuration'"}]}}]},"alternate":null},{"type":"IfStatement","start":788,"end":920,"test":{"type":"UnaryExpression","start":792,"end":809,"operator":"!","prefix":true,"argument":{"type":"MemberExpression","start":793,"end":809,"object":{"type":"Identifier","start":793,"end":801,"name":"dbConfig"},"property":{"type":"Identifier","start":802,"end":809,"name":"version"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":811,"end":920,"body":[{"type":"ThrowStatement","start":825,"end":910,"argument":{"type":"NewExpression","start":831,"end":909,"callee":{"type":"Identifier","start":835,"end":840,"name":"Error"},"arguments":[{"type":"Literal","start":841,"end":908,"value":"NgxIndexedDB: Please, provide the db version in the configuration","raw":"'NgxIndexedDB: Please, provide the db version in the configuration'"}]}}]},"alternate":null},{"type":"ExpressionStatement","start":929,"end":981,"expression":{"type":"AssignmentExpression","start":929,"end":980,"operator":"=","left":{"type":"MemberExpression","start":929,"end":943,"object":{"type":"ThisExpression","start":929,"end":933},"property":{"type":"Identifier","start":934,"end":943,"name":"isBrowser"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":946,"end":980,"callee":{"type":"Identifier","start":946,"end":963,"name":"isPlatformBrowser"},"arguments":[{"type":"MemberExpression","start":964,"end":979,"object":{"type":"ThisExpression","start":964,"end":968},"property":{"type":"Identifier","start":969,"end":979,"name":"platformId"},"computed":false,"optional":false}],"optional":false}}},{"type":"IfStatement","start":990,"end":2008,"test":{"type":"MemberExpression","start":994,"end":1008,"object":{"type":"ThisExpression","start":994,"end":998},"property":{"type":"Identifier","start":999,"end":1008,"name":"isBrowser"},"computed":false,"optional":false},"consequent":{"type":"BlockStatement","start":1010,"end":2008,"body":[{"type":"ExpressionStatement","start":1024,"end":1205,"expression":{"type":"AssignmentExpression","start":1024,"end":1204,"operator":"=","left":{"type":"MemberExpression","start":1024,"end":1038,"object":{"type":"ThisExpression","start":1024,"end":1028},"property":{"type":"Identifier","start":1029,"end":1038,"name":"indexedDB"},"computed":false,"optional":false},"right":{"type":"LogicalExpression","start":1057,"end":1204,"left":{"type":"LogicalExpression","start":1057,"end":1162,"left":{"type":"LogicalExpression","start":1057,"end":1116,"left":{"type":"MemberExpression","start":1057,"end":1073,"object":{"type":"Identifier","start":1057,"end":1063,"name":"window"},"property":{"type":"Identifier","start":1064,"end":1073,"name":"indexedDB"},"computed":false,"optional":false},"operator":"||","right":{"type":"MemberExpression","start":1097,"end":1116,"object":{"type":"Identifier","start":1097,"end":1103,"name":"window"},"property":{"type":"Identifier","start":1104,"end":1116,"name":"mozIndexedDB"},"computed":false,"optional":false}},"operator":"||","right":{"type":"MemberExpression","start":1140,"end":1162,"object":{"type":"Identifier","start":1140,"end":1146,"name":"window"},"property":{"type":"Identifier","start":1147,"end":1162,"name":"webkitIndexedDB"},"computed":false,"optional":false}},"operator":"||","right":{"type":"MemberExpression","start":1186,"end":1204,"object":{"type":"Identifier","start":1186,"end":1192,"name":"window"},"property":{"type":"Identifier","start":1193,"end":1204,"name":"msIndexedDB"},"computed":false,"optional":false}}}},{"type":"ExpressionStatement","start":1218,"end":1339,"expression":{"type":"CallExpression","start":1218,"end":1338,"callee":{"type":"Identifier","start":1218,"end":1235,"name":"CreateObjectStore"},"arguments":[{"type":"MemberExpression","start":1236,"end":1250,"object":{"type":"ThisExpression","start":1236,"end":1240},"property":{"type":"Identifier","start":1241,"end":1250,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":1252,"end":1265,"object":{"type":"Identifier","start":1252,"end":1260,"name":"dbConfig"},"property":{"type":"Identifier","start":1261,"end":1265,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":1267,"end":1283,"object":{"type":"Identifier","start":1267,"end":1275,"name":"dbConfig"},"property":{"type":"Identifier","start":1276,"end":1283,"name":"version"},"computed":false,"optional":false},{"type":"MemberExpression","start":1285,"end":1310,"object":{"type":"Identifier","start":1285,"end":1293,"name":"dbConfig"},"property":{"type":"Identifier","start":1294,"end":1310,"name":"objectStoresMeta"},"computed":false,"optional":false},{"type":"MemberExpression","start":1312,"end":1337,"object":{"type":"Identifier","start":1312,"end":1320,"name":"dbConfig"},"property":{"type":"Identifier","start":1321,"end":1337,"name":"migrationFactory"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":1352,"end":1998,"expression":{"type":"CallExpression","start":1352,"end":1997,"callee":{"type":"MemberExpression","start":1352,"end":1400,"object":{"type":"CallExpression","start":1352,"end":1395,"callee":{"type":"Identifier","start":1352,"end":1364,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":1365,"end":1379,"object":{"type":"ThisExpression","start":1365,"end":1369},"property":{"type":"Identifier","start":1370,"end":1379,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":1381,"end":1394,"object":{"type":"Identifier","start":1381,"end":1389,"name":"dbConfig"},"property":{"type":"Identifier","start":1390,"end":1394,"name":"name"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":1396,"end":1400,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":1401,"end":1996,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":1402,"end":1404,"name":"db"}],"body":{"type":"BlockStatement","start":1409,"end":1996,"body":[{"type":"IfStatement","start":1427,"end":1982,"test":{"type":"BinaryExpression","start":1431,"end":1462,"left":{"type":"MemberExpression","start":1431,"end":1441,"object":{"type":"Identifier","start":1431,"end":1433,"name":"db"},"property":{"type":"Identifier","start":1434,"end":1441,"name":"version"},"computed":false,"optional":false},"operator":"!==","right":{"type":"MemberExpression","start":1446,"end":1462,"object":{"type":"Identifier","start":1446,"end":1454,"name":"dbConfig"},"property":{"type":"Identifier","start":1455,"end":1462,"name":"version"},"computed":false,"optional":false}},"consequent":{"type":"BlockStatement","start":1464,"end":1982,"body":[{"type":"IfStatement","start":1486,"end":1908,"test":{"type":"BinaryExpression","start":1490,"end":1527,"left":{"type":"MemberExpression","start":1490,"end":1510,"object":{"type":"MemberExpression","start":1490,"end":1501,"object":{"type":"Identifier","start":1490,"end":1497,"name":"process"},"property":{"type":"Identifier","start":1498,"end":1501,"name":"env"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1502,"end":1510,"name":"NODE_ENV"},"computed":false,"optional":false},"operator":"!==","right":{"type":"Literal","start":1515,"end":1527,"value":"production","raw":"'production'"}},"consequent":{"type":"BlockStatement","start":1529,"end":1908,"body":[{"type":"ExpressionStatement","start":1555,"end":1810,"expression":{"type":"CallExpression","start":1555,"end":1809,"callee":{"type":"MemberExpression","start":1555,"end":1567,"object":{"type":"Identifier","start":1555,"end":1562,"name":"console"},"property":{"type":"Identifier","start":1563,"end":1567,"name":"warn"},"computed":false,"optional":false},"arguments":[{"type":"TemplateLiteral","start":1568,"end":1808,"expressions":[{"type":"MemberExpression","start":1657,"end":1675,"object":{"type":"MemberExpression","start":1657,"end":1670,"object":{"type":"ThisExpression","start":1657,"end":1661},"property":{"type":"Identifier","start":1662,"end":1670,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1671,"end":1675,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":1729,"end":1739,"object":{"type":"Identifier","start":1729,"end":1731,"name":"db"},"property":{"type":"Identifier","start":1732,"end":1739,"name":"version"},"computed":false,"optional":false},{"type":"MemberExpression","start":1776,"end":1792,"object":{"type":"Identifier","start":1776,"end":1784,"name":"dbConfig"},"property":{"type":"Identifier","start":1785,"end":1792,"name":"version"},"computed":false,"optional":false}],"quasis":[{"type":"TemplateElement","start":1569,"end":1655,"value":{"raw":"\n            Your DB Config doesn't match the most recent version of the DB with name ","cooked":"\n            Your DB Config doesn't match the most recent version of the DB with name "},"tail":false},{"type":"TemplateElement","start":1676,"end":1727,"value":{"raw":", please update it\n            DB current version: ","cooked":", please update it\n            DB current version: "},"tail":false},{"type":"TemplateElement","start":1740,"end":1774,"value":{"raw":";\n            Your configuration: ","cooked":";\n            Your configuration: "},"tail":false},{"type":"TemplateElement","start":1793,"end":1807,"value":{"raw":";\n            ","cooked":";\n            "},"tail":true}]}],"optional":false}},{"type":"ExpressionStatement","start":1835,"end":1886,"expression":{"type":"CallExpression","start":1835,"end":1885,"callee":{"type":"MemberExpression","start":1835,"end":1847,"object":{"type":"Identifier","start":1835,"end":1842,"name":"console"},"property":{"type":"Identifier","start":1843,"end":1847,"name":"warn"},"computed":false,"optional":false},"arguments":[{"type":"TemplateLiteral","start":1848,"end":1884,"expressions":[{"type":"MemberExpression","start":1872,"end":1882,"object":{"type":"Identifier","start":1872,"end":1874,"name":"db"},"property":{"type":"Identifier","start":1875,"end":1882,"name":"version"},"computed":false,"optional":false}],"quasis":[{"type":"TemplateElement","start":1849,"end":1870,"value":{"raw":"Using latest version ","cooked":"Using latest version "},"tail":false},{"type":"TemplateElement","start":1883,"end":1883,"value":{"raw":"","cooked":""},"tail":true}]}],"optional":false}}]},"alternate":null},{"type":"ExpressionStatement","start":1929,"end":1964,"expression":{"type":"AssignmentExpression","start":1929,"end":1963,"operator":"=","left":{"type":"MemberExpression","start":1929,"end":1950,"object":{"type":"MemberExpression","start":1929,"end":1942,"object":{"type":"ThisExpression","start":1929,"end":1933},"property":{"type":"Identifier","start":1934,"end":1942,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":1943,"end":1950,"name":"version"},"computed":false,"optional":false},"right":{"type":"MemberExpression","start":1953,"end":1963,"object":{"type":"Identifier","start":1953,"end":1955,"name":"db"},"property":{"type":"Identifier","start":1956,"end":1963,"name":"version"},"computed":false,"optional":false}}}]},"alternate":null}]}}],"optional":false}}]},"alternate":null}]}}},{"type":"MethodDefinition","start":2207,"end":2427,"static":false,"computed":false,"key":{"type":"Identifier","start":2207,"end":2224,"name":"createObjectStore"},"kind":"method","value":{"type":"FunctionExpression","start":2224,"end":2427,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2225,"end":2236,"name":"storeSchema"},{"type":"Identifier","start":2238,"end":2254,"name":"migrationFactory"}],"body":{"type":"BlockStatement","start":2256,"end":2427,"body":[{"type":"VariableDeclaration","start":2266,"end":2301,"declarations":[{"type":"VariableDeclarator","start":2272,"end":2300,"id":{"type":"Identifier","start":2272,"end":2284,"name":"storeSchemas"},"init":{"type":"ArrayExpression","start":2287,"end":2300,"elements":[{"type":"Identifier","start":2288,"end":2299,"name":"storeSchema"}]}}],"kind":"const"},{"type":"ExpressionStatement","start":2310,"end":2421,"expression":{"type":"CallExpression","start":2310,"end":2420,"callee":{"type":"Identifier","start":2310,"end":2327,"name":"CreateObjectStore"},"arguments":[{"type":"MemberExpression","start":2328,"end":2342,"object":{"type":"ThisExpression","start":2328,"end":2332},"property":{"type":"Identifier","start":2333,"end":2342,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":2344,"end":2362,"object":{"type":"MemberExpression","start":2344,"end":2357,"object":{"type":"ThisExpression","start":2344,"end":2348},"property":{"type":"Identifier","start":2349,"end":2357,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2358,"end":2362,"name":"name"},"computed":false,"optional":false},{"type":"UpdateExpression","start":2364,"end":2387,"operator":"++","prefix":true,"argument":{"type":"MemberExpression","start":2366,"end":2387,"object":{"type":"MemberExpression","start":2366,"end":2379,"object":{"type":"ThisExpression","start":2366,"end":2370},"property":{"type":"Identifier","start":2371,"end":2379,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2380,"end":2387,"name":"version"},"computed":false,"optional":false}},{"type":"Identifier","start":2389,"end":2401,"name":"storeSchemas"},{"type":"Identifier","start":2403,"end":2419,"name":"migrationFactory"}],"optional":false}}]}}},{"type":"MethodDefinition","start":2656,"end":3581,"static":false,"computed":false,"key":{"type":"Identifier","start":2656,"end":2659,"name":"add"},"kind":"method","value":{"type":"FunctionExpression","start":2659,"end":3581,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2660,"end":2669,"name":"storeName"},{"type":"Identifier","start":2671,"end":2676,"name":"value"},{"type":"Identifier","start":2678,"end":2681,"name":"key"}],"body":{"type":"BlockStatement","start":2683,"end":3581,"body":[{"type":"ReturnStatement","start":2693,"end":3575,"argument":{"type":"NewExpression","start":2700,"end":3574,"callee":{"type":"Identifier","start":2704,"end":2714,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":2715,"end":3573,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2716,"end":2719,"name":"obs"}],"body":{"type":"BlockStatement","start":2724,"end":3573,"body":[{"type":"ExpressionStatement","start":2738,"end":3563,"expression":{"type":"CallExpression","start":2738,"end":3562,"callee":{"type":"MemberExpression","start":2738,"end":3533,"object":{"type":"CallExpression","start":2738,"end":3510,"callee":{"type":"MemberExpression","start":2738,"end":2831,"object":{"type":"CallExpression","start":2738,"end":2809,"callee":{"type":"Identifier","start":2738,"end":2750,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":2751,"end":2765,"object":{"type":"ThisExpression","start":2751,"end":2755},"property":{"type":"Identifier","start":2756,"end":2765,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":2767,"end":2785,"object":{"type":"MemberExpression","start":2767,"end":2780,"object":{"type":"ThisExpression","start":2767,"end":2771},"property":{"type":"Identifier","start":2772,"end":2780,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2781,"end":2785,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":2787,"end":2808,"object":{"type":"MemberExpression","start":2787,"end":2800,"object":{"type":"ThisExpression","start":2787,"end":2791},"property":{"type":"Identifier","start":2792,"end":2800,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":2801,"end":2808,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":2827,"end":2831,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":2832,"end":3509,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":2833,"end":2835,"name":"db"}],"body":{"type":"BlockStatement","start":2840,"end":3509,"body":[{"type":"VariableDeclaration","start":2858,"end":2958,"declarations":[{"type":"VariableDeclarator","start":2864,"end":2957,"id":{"type":"Identifier","start":2864,"end":2875,"name":"transaction"},"init":{"type":"CallExpression","start":2878,"end":2957,"callee":{"type":"Identifier","start":2878,"end":2895,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":2896,"end":2898,"name":"db"},{"type":"CallExpression","start":2900,"end":2956,"callee":{"type":"Identifier","start":2900,"end":2916,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":2917,"end":2933,"object":{"type":"Identifier","start":2917,"end":2923,"name":"DBMode"},"property":{"type":"Identifier","start":2924,"end":2933,"name":"readwrite"},"computed":false,"optional":false},{"type":"Identifier","start":2935,"end":2944,"name":"storeName"},{"type":"MemberExpression","start":2946,"end":2955,"object":{"type":"Identifier","start":2946,"end":2949,"name":"obs"},"property":{"type":"Identifier","start":2950,"end":2955,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":2975,"end":3030,"declarations":[{"type":"VariableDeclarator","start":2981,"end":3029,"id":{"type":"Identifier","start":2981,"end":2992,"name":"objectStore"},"init":{"type":"CallExpression","start":2995,"end":3029,"callee":{"type":"MemberExpression","start":2995,"end":3018,"object":{"type":"Identifier","start":2995,"end":3006,"name":"transaction"},"property":{"type":"Identifier","start":3007,"end":3018,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3019,"end":3028,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":3047,"end":3131,"declarations":[{"type":"VariableDeclarator","start":3053,"end":3130,"id":{"type":"Identifier","start":3053,"end":3060,"name":"request"},"init":{"type":"ConditionalExpression","start":3063,"end":3130,"test":{"type":"CallExpression","start":3063,"end":3075,"callee":{"type":"Identifier","start":3063,"end":3070,"name":"Boolean"},"arguments":[{"type":"Identifier","start":3071,"end":3074,"name":"key"}],"optional":false},"consequent":{"type":"CallExpression","start":3078,"end":3105,"callee":{"type":"MemberExpression","start":3078,"end":3093,"object":{"type":"Identifier","start":3078,"end":3089,"name":"objectStore"},"property":{"type":"Identifier","start":3090,"end":3093,"name":"add"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3094,"end":3099,"name":"value"},{"type":"Identifier","start":3101,"end":3104,"name":"key"}],"optional":false},"alternate":{"type":"CallExpression","start":3108,"end":3130,"callee":{"type":"MemberExpression","start":3108,"end":3123,"object":{"type":"Identifier","start":3108,"end":3119,"name":"objectStore"},"property":{"type":"Identifier","start":3120,"end":3123,"name":"add"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3124,"end":3129,"name":"value"}],"optional":false}}}],"kind":"const"},{"type":"ExpressionStatement","start":3148,"end":3495,"expression":{"type":"AssignmentExpression","start":3148,"end":3494,"operator":"=","left":{"type":"MemberExpression","start":3148,"end":3165,"object":{"type":"Identifier","start":3148,"end":3155,"name":"request"},"property":{"type":"Identifier","start":3156,"end":3165,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":3168,"end":3494,"id":null,"expression":false,"generator":false,"async":true,"params":[{"type":"Identifier","start":3175,"end":3178,"name":"evt"}],"body":{"type":"BlockStatement","start":3183,"end":3494,"body":[{"type":"VariableDeclaration","start":3205,"end":3238,"declarations":[{"type":"VariableDeclarator","start":3211,"end":3237,"id":{"type":"Identifier","start":3211,"end":3217,"name":"result"},"init":{"type":"MemberExpression","start":3220,"end":3237,"object":{"type":"MemberExpression","start":3220,"end":3230,"object":{"type":"Identifier","start":3220,"end":3223,"name":"evt"},"property":{"type":"Identifier","start":3224,"end":3230,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3231,"end":3237,"name":"result"},"computed":false,"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":3259,"end":3302,"declarations":[{"type":"VariableDeclarator","start":3265,"end":3301,"id":{"type":"Identifier","start":3265,"end":3275,"name":"getRequest"},"init":{"type":"CallExpression","start":3278,"end":3301,"callee":{"type":"MemberExpression","start":3278,"end":3293,"object":{"type":"Identifier","start":3278,"end":3289,"name":"objectStore"},"property":{"type":"Identifier","start":3290,"end":3293,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3294,"end":3300,"name":"result"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":3323,"end":3476,"expression":{"type":"AssignmentExpression","start":3323,"end":3475,"operator":"=","left":{"type":"MemberExpression","start":3323,"end":3343,"object":{"type":"Identifier","start":3323,"end":3333,"name":"getRequest"},"property":{"type":"Identifier","start":3334,"end":3343,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":3346,"end":3475,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3347,"end":3352,"name":"event"}],"body":{"type":"BlockStatement","start":3357,"end":3475,"body":[{"type":"ExpressionStatement","start":3383,"end":3413,"expression":{"type":"CallExpression","start":3383,"end":3412,"callee":{"type":"MemberExpression","start":3383,"end":3391,"object":{"type":"Identifier","start":3383,"end":3386,"name":"obs"},"property":{"type":"Identifier","start":3387,"end":3391,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":3392,"end":3411,"object":{"type":"MemberExpression","start":3392,"end":3404,"object":{"type":"Identifier","start":3392,"end":3397,"name":"event"},"property":{"type":"Identifier","start":3398,"end":3404,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3405,"end":3411,"name":"result"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":3438,"end":3453,"expression":{"type":"CallExpression","start":3438,"end":3452,"callee":{"type":"MemberExpression","start":3438,"end":3450,"object":{"type":"Identifier","start":3438,"end":3441,"name":"obs"},"property":{"type":"Identifier","start":3442,"end":3450,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":3528,"end":3533,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":3534,"end":3561,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":3535,"end":3540,"name":"error"}],"body":{"type":"CallExpression","start":3545,"end":3561,"callee":{"type":"MemberExpression","start":3545,"end":3554,"object":{"type":"Identifier","start":3545,"end":3548,"name":"obs"},"property":{"type":"Identifier","start":3549,"end":3554,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":3555,"end":3560,"name":"error"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":3800,"end":4953,"static":false,"computed":false,"key":{"type":"Identifier","start":3800,"end":3807,"name":"bulkAdd"},"kind":"method","value":{"type":"FunctionExpression","start":3807,"end":4953,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3808,"end":3817,"name":"storeName"},{"type":"Identifier","start":3819,"end":3825,"name":"values"}],"body":{"type":"BlockStatement","start":3827,"end":4953,"body":[{"type":"VariableDeclaration","start":3837,"end":4916,"declarations":[{"type":"VariableDeclarator","start":3843,"end":4915,"id":{"type":"Identifier","start":3843,"end":3851,"name":"promises"},"init":{"type":"NewExpression","start":3854,"end":4915,"callee":{"type":"Identifier","start":3858,"end":3865,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":3866,"end":4914,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3867,"end":3874,"name":"resolve"},{"type":"Identifier","start":3876,"end":3882,"name":"reject"}],"body":{"type":"BlockStatement","start":3887,"end":4914,"body":[{"type":"ExpressionStatement","start":3901,"end":4904,"expression":{"type":"CallExpression","start":3901,"end":4903,"callee":{"type":"MemberExpression","start":3901,"end":4875,"object":{"type":"CallExpression","start":3901,"end":4869,"callee":{"type":"MemberExpression","start":3901,"end":3994,"object":{"type":"CallExpression","start":3901,"end":3972,"callee":{"type":"Identifier","start":3901,"end":3913,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":3914,"end":3928,"object":{"type":"ThisExpression","start":3914,"end":3918},"property":{"type":"Identifier","start":3919,"end":3928,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":3930,"end":3948,"object":{"type":"MemberExpression","start":3930,"end":3943,"object":{"type":"ThisExpression","start":3930,"end":3934},"property":{"type":"Identifier","start":3935,"end":3943,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3944,"end":3948,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":3950,"end":3971,"object":{"type":"MemberExpression","start":3950,"end":3963,"object":{"type":"ThisExpression","start":3950,"end":3954},"property":{"type":"Identifier","start":3955,"end":3963,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":3964,"end":3971,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":3990,"end":3994,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":3995,"end":4868,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":3996,"end":3998,"name":"db"}],"body":{"type":"BlockStatement","start":4003,"end":4868,"body":[{"type":"VariableDeclaration","start":4021,"end":4127,"declarations":[{"type":"VariableDeclarator","start":4027,"end":4126,"id":{"type":"Identifier","start":4027,"end":4038,"name":"transaction"},"init":{"type":"CallExpression","start":4041,"end":4126,"callee":{"type":"Identifier","start":4041,"end":4058,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":4059,"end":4061,"name":"db"},{"type":"CallExpression","start":4063,"end":4125,"callee":{"type":"Identifier","start":4063,"end":4079,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":4080,"end":4096,"object":{"type":"Identifier","start":4080,"end":4086,"name":"DBMode"},"property":{"type":"Identifier","start":4087,"end":4096,"name":"readwrite"},"computed":false,"optional":false},{"type":"Identifier","start":4098,"end":4107,"name":"storeName"},{"type":"Identifier","start":4109,"end":4116,"name":"resolve"},{"type":"Identifier","start":4118,"end":4124,"name":"reject"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":4144,"end":4199,"declarations":[{"type":"VariableDeclarator","start":4150,"end":4198,"id":{"type":"Identifier","start":4150,"end":4161,"name":"objectStore"},"init":{"type":"CallExpression","start":4164,"end":4198,"callee":{"type":"MemberExpression","start":4164,"end":4187,"object":{"type":"Identifier","start":4164,"end":4175,"name":"transaction"},"property":{"type":"Identifier","start":4176,"end":4187,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4188,"end":4197,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":4216,"end":4807,"declarations":[{"type":"VariableDeclarator","start":4222,"end":4806,"id":{"type":"Identifier","start":4222,"end":4229,"name":"results"},"init":{"type":"CallExpression","start":4232,"end":4806,"callee":{"type":"MemberExpression","start":4232,"end":4242,"object":{"type":"Identifier","start":4232,"end":4238,"name":"values"},"property":{"type":"Identifier","start":4239,"end":4242,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":4243,"end":4805,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4244,"end":4249,"name":"value"}],"body":{"type":"BlockStatement","start":4254,"end":4805,"body":[{"type":"ReturnStatement","start":4276,"end":4787,"argument":{"type":"NewExpression","start":4283,"end":4786,"callee":{"type":"Identifier","start":4287,"end":4294,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":4295,"end":4785,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4296,"end":4304,"name":"resolve1"},{"type":"Identifier","start":4306,"end":4313,"name":"reject1"}],"body":{"type":"BlockStatement","start":4318,"end":4785,"body":[{"type":"VariableDeclaration","start":4344,"end":4366,"declarations":[{"type":"VariableDeclarator","start":4350,"end":4365,"id":{"type":"Identifier","start":4350,"end":4353,"name":"key"},"init":{"type":"MemberExpression","start":4356,"end":4365,"object":{"type":"Identifier","start":4356,"end":4361,"name":"value"},"property":{"type":"Identifier","start":4362,"end":4365,"name":"key"},"computed":false,"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":4391,"end":4408,"expression":{"type":"UnaryExpression","start":4391,"end":4407,"operator":"delete","prefix":true,"argument":{"type":"MemberExpression","start":4398,"end":4407,"object":{"type":"Identifier","start":4398,"end":4403,"name":"value"},"property":{"type":"Identifier","start":4404,"end":4407,"name":"key"},"computed":false,"optional":false}}},{"type":"VariableDeclaration","start":4433,"end":4573,"declarations":[{"type":"VariableDeclarator","start":4439,"end":4572,"id":{"type":"Identifier","start":4439,"end":4446,"name":"request"},"init":{"type":"ConditionalExpression","start":4449,"end":4572,"test":{"type":"CallExpression","start":4449,"end":4461,"callee":{"type":"Identifier","start":4449,"end":4456,"name":"Boolean"},"arguments":[{"type":"Identifier","start":4457,"end":4460,"name":"key"}],"optional":false},"consequent":{"type":"CallExpression","start":4492,"end":4519,"callee":{"type":"MemberExpression","start":4492,"end":4507,"object":{"type":"Identifier","start":4492,"end":4503,"name":"objectStore"},"property":{"type":"Identifier","start":4504,"end":4507,"name":"add"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4508,"end":4513,"name":"value"},{"type":"Identifier","start":4515,"end":4518,"name":"key"}],"optional":false},"alternate":{"type":"CallExpression","start":4550,"end":4572,"callee":{"type":"MemberExpression","start":4550,"end":4565,"object":{"type":"Identifier","start":4550,"end":4561,"name":"objectStore"},"property":{"type":"Identifier","start":4562,"end":4565,"name":"add"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4566,"end":4571,"name":"value"}],"optional":false}}}],"kind":"const"},{"type":"ExpressionStatement","start":4598,"end":4763,"expression":{"type":"AssignmentExpression","start":4598,"end":4762,"operator":"=","left":{"type":"MemberExpression","start":4598,"end":4615,"object":{"type":"Identifier","start":4598,"end":4605,"name":"request"},"property":{"type":"Identifier","start":4606,"end":4615,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":4618,"end":4762,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":4619,"end":4622,"name":"evt"}],"body":{"type":"BlockStatement","start":4627,"end":4762,"body":[{"type":"VariableDeclaration","start":4657,"end":4690,"declarations":[{"type":"VariableDeclarator","start":4663,"end":4689,"id":{"type":"Identifier","start":4663,"end":4669,"name":"result"},"init":{"type":"MemberExpression","start":4672,"end":4689,"object":{"type":"MemberExpression","start":4672,"end":4682,"object":{"type":"Identifier","start":4672,"end":4675,"name":"evt"},"property":{"type":"Identifier","start":4676,"end":4682,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":4683,"end":4689,"name":"result"},"computed":false,"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":4719,"end":4736,"expression":{"type":"CallExpression","start":4719,"end":4735,"callee":{"type":"Identifier","start":4719,"end":4727,"name":"resolve1"},"arguments":[{"type":"Identifier","start":4728,"end":4734,"name":"result"}],"optional":false}}]}}}}]}}]}}]}}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":4824,"end":4854,"expression":{"type":"CallExpression","start":4824,"end":4853,"callee":{"type":"Identifier","start":4824,"end":4831,"name":"resolve"},"arguments":[{"type":"CallExpression","start":4832,"end":4852,"callee":{"type":"MemberExpression","start":4832,"end":4843,"object":{"type":"Identifier","start":4832,"end":4839,"name":"Promise"},"property":{"type":"Identifier","start":4840,"end":4843,"name":"all"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":4844,"end":4851,"name":"results"}],"optional":false}],"optional":false}}]}}],"optional":false},"property":{"type":"Identifier","start":4870,"end":4875,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":4876,"end":4902,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":4877,"end":4883,"name":"reason"}],"body":{"type":"CallExpression","start":4888,"end":4902,"callee":{"type":"Identifier","start":4888,"end":4894,"name":"reject"},"arguments":[{"type":"Identifier","start":4895,"end":4901,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}],"kind":"const"},{"type":"ReturnStatement","start":4925,"end":4947,"argument":{"type":"CallExpression","start":4932,"end":4946,"callee":{"type":"Identifier","start":4932,"end":4936,"name":"from"},"arguments":[{"type":"Identifier","start":4937,"end":4945,"name":"promises"}],"optional":false}}]}}},{"type":"MethodDefinition","start":5154,"end":6105,"static":false,"computed":false,"key":{"type":"Identifier","start":5154,"end":5164,"name":"bulkDelete"},"kind":"method","value":{"type":"FunctionExpression","start":5164,"end":6105,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5165,"end":5174,"name":"storeName"},{"type":"Identifier","start":5176,"end":5180,"name":"keys"}],"body":{"type":"BlockStatement","start":5182,"end":6105,"body":[{"type":"VariableDeclaration","start":5192,"end":6055,"declarations":[{"type":"VariableDeclarator","start":5198,"end":6054,"id":{"type":"Identifier","start":5198,"end":5206,"name":"promises"},"init":{"type":"CallExpression","start":5209,"end":6054,"callee":{"type":"MemberExpression","start":5209,"end":5217,"object":{"type":"Identifier","start":5209,"end":5213,"name":"keys"},"property":{"type":"Identifier","start":5214,"end":5217,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":5218,"end":6053,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5219,"end":5222,"name":"key"}],"body":{"type":"BlockStatement","start":5227,"end":6053,"body":[{"type":"ReturnStatement","start":5241,"end":6043,"argument":{"type":"NewExpression","start":5248,"end":6042,"callee":{"type":"Identifier","start":5252,"end":5259,"name":"Promise"},"arguments":[{"type":"ArrowFunctionExpression","start":5260,"end":6041,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5261,"end":5268,"name":"resolve"},{"type":"Identifier","start":5270,"end":5276,"name":"reject"}],"body":{"type":"BlockStatement","start":5281,"end":6041,"body":[{"type":"ExpressionStatement","start":5299,"end":6027,"expression":{"type":"CallExpression","start":5299,"end":6026,"callee":{"type":"MemberExpression","start":5299,"end":5998,"object":{"type":"CallExpression","start":5299,"end":5971,"callee":{"type":"MemberExpression","start":5299,"end":5396,"object":{"type":"CallExpression","start":5299,"end":5370,"callee":{"type":"Identifier","start":5299,"end":5311,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":5312,"end":5326,"object":{"type":"ThisExpression","start":5312,"end":5316},"property":{"type":"Identifier","start":5317,"end":5326,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":5328,"end":5346,"object":{"type":"MemberExpression","start":5328,"end":5341,"object":{"type":"ThisExpression","start":5328,"end":5332},"property":{"type":"Identifier","start":5333,"end":5341,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5342,"end":5346,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":5348,"end":5369,"object":{"type":"MemberExpression","start":5348,"end":5361,"object":{"type":"ThisExpression","start":5348,"end":5352},"property":{"type":"Identifier","start":5353,"end":5361,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":5362,"end":5369,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":5392,"end":5396,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":5397,"end":5970,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5398,"end":5400,"name":"db"}],"body":{"type":"BlockStatement","start":5405,"end":5970,"body":[{"type":"VariableDeclaration","start":5427,"end":5533,"declarations":[{"type":"VariableDeclarator","start":5433,"end":5532,"id":{"type":"Identifier","start":5433,"end":5444,"name":"transaction"},"init":{"type":"CallExpression","start":5447,"end":5532,"callee":{"type":"Identifier","start":5447,"end":5464,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":5465,"end":5467,"name":"db"},{"type":"CallExpression","start":5469,"end":5531,"callee":{"type":"Identifier","start":5469,"end":5485,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":5486,"end":5502,"object":{"type":"Identifier","start":5486,"end":5492,"name":"DBMode"},"property":{"type":"Identifier","start":5493,"end":5502,"name":"readwrite"},"computed":false,"optional":false},{"type":"Identifier","start":5504,"end":5513,"name":"storeName"},{"type":"Identifier","start":5515,"end":5521,"name":"reject"},{"type":"Identifier","start":5523,"end":5530,"name":"resolve"}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":5554,"end":5609,"declarations":[{"type":"VariableDeclarator","start":5560,"end":5608,"id":{"type":"Identifier","start":5560,"end":5571,"name":"objectStore"},"init":{"type":"CallExpression","start":5574,"end":5608,"callee":{"type":"MemberExpression","start":5574,"end":5597,"object":{"type":"Identifier","start":5574,"end":5585,"name":"transaction"},"property":{"type":"Identifier","start":5586,"end":5597,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5598,"end":5607,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":5630,"end":5654,"expression":{"type":"CallExpression","start":5630,"end":5653,"callee":{"type":"MemberExpression","start":5630,"end":5648,"object":{"type":"Identifier","start":5630,"end":5641,"name":"objectStore"},"property":{"type":"Identifier","start":5642,"end":5648,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5649,"end":5652,"name":"key"}],"optional":false}},{"type":"ExpressionStatement","start":5675,"end":5952,"expression":{"type":"AssignmentExpression","start":5675,"end":5951,"operator":"=","left":{"type":"MemberExpression","start":5675,"end":5697,"object":{"type":"Identifier","start":5675,"end":5686,"name":"transaction"},"property":{"type":"Identifier","start":5687,"end":5697,"name":"oncomplete"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":5700,"end":5951,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":5706,"end":5951,"body":[{"type":"ExpressionStatement","start":5732,"end":5929,"expression":{"type":"CallExpression","start":5732,"end":5928,"callee":{"type":"MemberExpression","start":5732,"end":5836,"object":{"type":"CallExpression","start":5732,"end":5797,"callee":{"type":"MemberExpression","start":5732,"end":5788,"object":{"type":"CallExpression","start":5732,"end":5754,"callee":{"type":"MemberExpression","start":5732,"end":5743,"object":{"type":"ThisExpression","start":5732,"end":5736},"property":{"type":"Identifier","start":5737,"end":5743,"name":"getAll"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":5744,"end":5753,"name":"storeName"}],"optional":false},"property":{"type":"Identifier","start":5784,"end":5788,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":5789,"end":5796,"callee":{"type":"Identifier","start":5789,"end":5793,"name":"take"},"arguments":[{"type":"Literal","start":5794,"end":5795,"value":1,"raw":"1"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":5827,"end":5836,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":5837,"end":5927,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":5838,"end":5847,"name":"newValues"}],"body":{"type":"BlockStatement","start":5852,"end":5927,"body":[{"type":"ExpressionStatement","start":5882,"end":5901,"expression":{"type":"CallExpression","start":5882,"end":5900,"callee":{"type":"Identifier","start":5882,"end":5889,"name":"resolve"},"arguments":[{"type":"Identifier","start":5890,"end":5899,"name":"newValues"}],"optional":false}}]}}],"optional":false}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":5993,"end":5998,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":5999,"end":6025,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":6000,"end":6006,"name":"reason"}],"body":{"type":"CallExpression","start":6011,"end":6025,"callee":{"type":"Identifier","start":6011,"end":6017,"name":"reject"},"arguments":[{"type":"Identifier","start":6018,"end":6024,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}]}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":6064,"end":6099,"argument":{"type":"CallExpression","start":6071,"end":6098,"callee":{"type":"Identifier","start":6071,"end":6075,"name":"from"},"arguments":[{"type":"CallExpression","start":6076,"end":6097,"callee":{"type":"MemberExpression","start":6076,"end":6087,"object":{"type":"Identifier","start":6076,"end":6083,"name":"Promise"},"property":{"type":"Identifier","start":6084,"end":6087,"name":"all"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6088,"end":6096,"name":"promises"}],"optional":false}],"optional":false}}]}}},{"type":"MethodDefinition","start":6242,"end":7012,"static":false,"computed":false,"key":{"type":"Identifier","start":6242,"end":6250,"name":"getByKey"},"kind":"method","value":{"type":"FunctionExpression","start":6250,"end":7012,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6251,"end":6260,"name":"storeName"},{"type":"Identifier","start":6262,"end":6265,"name":"key"}],"body":{"type":"BlockStatement","start":6267,"end":7012,"body":[{"type":"ReturnStatement","start":6277,"end":7006,"argument":{"type":"NewExpression","start":6284,"end":7005,"callee":{"type":"Identifier","start":6288,"end":6298,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":6299,"end":7004,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6300,"end":6303,"name":"obs"}],"body":{"type":"BlockStatement","start":6308,"end":7004,"body":[{"type":"ExpressionStatement","start":6322,"end":6994,"expression":{"type":"CallExpression","start":6322,"end":6993,"callee":{"type":"MemberExpression","start":6322,"end":6964,"object":{"type":"CallExpression","start":6322,"end":6941,"callee":{"type":"MemberExpression","start":6322,"end":6415,"object":{"type":"CallExpression","start":6322,"end":6393,"callee":{"type":"Identifier","start":6322,"end":6334,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":6335,"end":6349,"object":{"type":"ThisExpression","start":6335,"end":6339},"property":{"type":"Identifier","start":6340,"end":6349,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":6351,"end":6369,"object":{"type":"MemberExpression","start":6351,"end":6364,"object":{"type":"ThisExpression","start":6351,"end":6355},"property":{"type":"Identifier","start":6356,"end":6364,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6365,"end":6369,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":6371,"end":6392,"object":{"type":"MemberExpression","start":6371,"end":6384,"object":{"type":"ThisExpression","start":6371,"end":6375},"property":{"type":"Identifier","start":6376,"end":6384,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6385,"end":6392,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":6411,"end":6415,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":6416,"end":6940,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6417,"end":6419,"name":"db"}],"body":{"type":"BlockStatement","start":6424,"end":6940,"body":[{"type":"VariableDeclaration","start":6442,"end":6541,"declarations":[{"type":"VariableDeclarator","start":6448,"end":6540,"id":{"type":"Identifier","start":6448,"end":6459,"name":"transaction"},"init":{"type":"CallExpression","start":6462,"end":6540,"callee":{"type":"Identifier","start":6462,"end":6479,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":6480,"end":6482,"name":"db"},{"type":"CallExpression","start":6484,"end":6539,"callee":{"type":"Identifier","start":6484,"end":6500,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":6501,"end":6516,"object":{"type":"Identifier","start":6501,"end":6507,"name":"DBMode"},"property":{"type":"Identifier","start":6508,"end":6516,"name":"readonly"},"computed":false,"optional":false},{"type":"Identifier","start":6518,"end":6527,"name":"storeName"},{"type":"MemberExpression","start":6529,"end":6538,"object":{"type":"Identifier","start":6529,"end":6532,"name":"obs"},"property":{"type":"Identifier","start":6533,"end":6538,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":6558,"end":6613,"declarations":[{"type":"VariableDeclarator","start":6564,"end":6612,"id":{"type":"Identifier","start":6564,"end":6575,"name":"objectStore"},"init":{"type":"CallExpression","start":6578,"end":6612,"callee":{"type":"MemberExpression","start":6578,"end":6601,"object":{"type":"Identifier","start":6578,"end":6589,"name":"transaction"},"property":{"type":"Identifier","start":6590,"end":6601,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6602,"end":6611,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":6630,"end":6667,"declarations":[{"type":"VariableDeclarator","start":6636,"end":6666,"id":{"type":"Identifier","start":6636,"end":6643,"name":"request"},"init":{"type":"CallExpression","start":6646,"end":6666,"callee":{"type":"MemberExpression","start":6646,"end":6661,"object":{"type":"Identifier","start":6646,"end":6657,"name":"objectStore"},"property":{"type":"Identifier","start":6658,"end":6661,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6662,"end":6665,"name":"key"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":6684,"end":6822,"expression":{"type":"AssignmentExpression","start":6684,"end":6821,"operator":"=","left":{"type":"MemberExpression","start":6684,"end":6701,"object":{"type":"Identifier","start":6684,"end":6691,"name":"request"},"property":{"type":"Identifier","start":6692,"end":6701,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":6704,"end":6821,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6705,"end":6710,"name":"event"}],"body":{"type":"BlockStatement","start":6715,"end":6821,"body":[{"type":"ExpressionStatement","start":6737,"end":6767,"expression":{"type":"CallExpression","start":6737,"end":6766,"callee":{"type":"MemberExpression","start":6737,"end":6745,"object":{"type":"Identifier","start":6737,"end":6740,"name":"obs"},"property":{"type":"Identifier","start":6741,"end":6745,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":6746,"end":6765,"object":{"type":"MemberExpression","start":6746,"end":6758,"object":{"type":"Identifier","start":6746,"end":6751,"name":"event"},"property":{"type":"Identifier","start":6752,"end":6758,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":6759,"end":6765,"name":"result"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":6788,"end":6803,"expression":{"type":"CallExpression","start":6788,"end":6802,"callee":{"type":"MemberExpression","start":6788,"end":6800,"object":{"type":"Identifier","start":6788,"end":6791,"name":"obs"},"property":{"type":"Identifier","start":6792,"end":6800,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}},{"type":"ExpressionStatement","start":6839,"end":6926,"expression":{"type":"AssignmentExpression","start":6839,"end":6925,"operator":"=","left":{"type":"MemberExpression","start":6839,"end":6854,"object":{"type":"Identifier","start":6839,"end":6846,"name":"request"},"property":{"type":"Identifier","start":6847,"end":6854,"name":"onerror"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":6857,"end":6925,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":6858,"end":6863,"name":"event"}],"body":{"type":"BlockStatement","start":6868,"end":6925,"body":[{"type":"ExpressionStatement","start":6890,"end":6907,"expression":{"type":"CallExpression","start":6890,"end":6906,"callee":{"type":"MemberExpression","start":6890,"end":6899,"object":{"type":"Identifier","start":6890,"end":6893,"name":"obs"},"property":{"type":"Identifier","start":6894,"end":6899,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6900,"end":6905,"name":"event"}],"optional":false}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":6959,"end":6964,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":6965,"end":6992,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":6966,"end":6971,"name":"error"}],"body":{"type":"CallExpression","start":6976,"end":6992,"callee":{"type":"MemberExpression","start":6976,"end":6985,"object":{"type":"Identifier","start":6976,"end":6979,"name":"obs"},"property":{"type":"Identifier","start":6980,"end":6985,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":6986,"end":6991,"name":"error"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":7197,"end":7505,"static":false,"computed":false,"key":{"type":"Identifier","start":7197,"end":7204,"name":"bulkGet"},"kind":"method","value":{"type":"FunctionExpression","start":7204,"end":7505,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7205,"end":7214,"name":"storeName"},{"type":"Identifier","start":7216,"end":7220,"name":"keys"}],"body":{"type":"BlockStatement","start":7222,"end":7505,"body":[{"type":"VariableDeclaration","start":7232,"end":7301,"declarations":[{"type":"VariableDeclarator","start":7238,"end":7300,"id":{"type":"Identifier","start":7238,"end":7249,"name":"observables"},"init":{"type":"CallExpression","start":7252,"end":7300,"callee":{"type":"MemberExpression","start":7252,"end":7260,"object":{"type":"Identifier","start":7252,"end":7256,"name":"keys"},"property":{"type":"Identifier","start":7257,"end":7260,"name":"map"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7261,"end":7299,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":7262,"end":7265,"name":"key"}],"body":{"type":"CallExpression","start":7270,"end":7299,"callee":{"type":"MemberExpression","start":7270,"end":7283,"object":{"type":"ThisExpression","start":7270,"end":7274},"property":{"type":"Identifier","start":7275,"end":7283,"name":"getByKey"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7284,"end":7293,"name":"storeName"},{"type":"Identifier","start":7295,"end":7298,"name":"key"}],"optional":false}}],"optional":false}}],"kind":"const"},{"type":"ReturnStatement","start":7310,"end":7499,"argument":{"type":"NewExpression","start":7317,"end":7498,"callee":{"type":"Identifier","start":7321,"end":7331,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":7332,"end":7497,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7333,"end":7336,"name":"obs"}],"body":{"type":"BlockStatement","start":7341,"end":7497,"body":[{"type":"ExpressionStatement","start":7355,"end":7487,"expression":{"type":"CallExpression","start":7355,"end":7486,"callee":{"type":"MemberExpression","start":7355,"end":7391,"object":{"type":"CallExpression","start":7355,"end":7381,"callee":{"type":"Identifier","start":7355,"end":7368,"name":"combineLatest"},"arguments":[{"type":"Identifier","start":7369,"end":7380,"name":"observables"}],"optional":false},"property":{"type":"Identifier","start":7382,"end":7391,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7392,"end":7485,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7393,"end":7399,"name":"values"}],"body":{"type":"BlockStatement","start":7404,"end":7485,"body":[{"type":"ExpressionStatement","start":7422,"end":7439,"expression":{"type":"CallExpression","start":7422,"end":7438,"callee":{"type":"MemberExpression","start":7422,"end":7430,"object":{"type":"Identifier","start":7422,"end":7425,"name":"obs"},"property":{"type":"Identifier","start":7426,"end":7430,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":7431,"end":7437,"name":"values"}],"optional":false}},{"type":"ExpressionStatement","start":7456,"end":7471,"expression":{"type":"CallExpression","start":7456,"end":7470,"callee":{"type":"MemberExpression","start":7456,"end":7468,"object":{"type":"Identifier","start":7456,"end":7459,"name":"obs"},"property":{"type":"Identifier","start":7460,"end":7468,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":7639,"end":8345,"static":false,"computed":false,"key":{"type":"Identifier","start":7639,"end":7646,"name":"getByID"},"kind":"method","value":{"type":"FunctionExpression","start":7646,"end":8345,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7647,"end":7656,"name":"storeName"},{"type":"Identifier","start":7658,"end":7660,"name":"id"}],"body":{"type":"BlockStatement","start":7662,"end":8345,"body":[{"type":"ReturnStatement","start":7672,"end":8339,"argument":{"type":"NewExpression","start":7679,"end":8338,"callee":{"type":"Identifier","start":7683,"end":7693,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":7694,"end":8337,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7695,"end":7698,"name":"obs"}],"body":{"type":"BlockStatement","start":7703,"end":8337,"body":[{"type":"ExpressionStatement","start":7717,"end":8327,"expression":{"type":"CallExpression","start":7717,"end":8326,"callee":{"type":"MemberExpression","start":7717,"end":8297,"object":{"type":"CallExpression","start":7717,"end":8274,"callee":{"type":"MemberExpression","start":7717,"end":7810,"object":{"type":"CallExpression","start":7717,"end":7788,"callee":{"type":"Identifier","start":7717,"end":7729,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":7730,"end":7744,"object":{"type":"ThisExpression","start":7730,"end":7734},"property":{"type":"Identifier","start":7735,"end":7744,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":7746,"end":7764,"object":{"type":"MemberExpression","start":7746,"end":7759,"object":{"type":"ThisExpression","start":7746,"end":7750},"property":{"type":"Identifier","start":7751,"end":7759,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7760,"end":7764,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":7766,"end":7787,"object":{"type":"MemberExpression","start":7766,"end":7779,"object":{"type":"ThisExpression","start":7766,"end":7770},"property":{"type":"Identifier","start":7771,"end":7779,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":7780,"end":7787,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":7806,"end":7810,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":7811,"end":8273,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":7812,"end":7814,"name":"db"}],"body":{"type":"BlockStatement","start":7819,"end":8273,"body":[{"type":"ExpressionStatement","start":7837,"end":7889,"expression":{"type":"CallExpression","start":7837,"end":7888,"callee":{"type":"Identifier","start":7837,"end":7862,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":7863,"end":7865,"name":"db"},{"type":"Identifier","start":7867,"end":7876,"name":"storeName"},{"type":"MemberExpression","start":7878,"end":7887,"object":{"type":"Identifier","start":7878,"end":7881,"name":"obs"},"property":{"type":"Identifier","start":7882,"end":7887,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":7906,"end":8015,"declarations":[{"type":"VariableDeclarator","start":7912,"end":8014,"id":{"type":"Identifier","start":7912,"end":7923,"name":"transaction"},"init":{"type":"CallExpression","start":7926,"end":8014,"callee":{"type":"Identifier","start":7926,"end":7943,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":7944,"end":7946,"name":"db"},{"type":"CallExpression","start":7948,"end":8013,"callee":{"type":"Identifier","start":7948,"end":7964,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":7965,"end":7980,"object":{"type":"Identifier","start":7965,"end":7971,"name":"DBMode"},"property":{"type":"Identifier","start":7972,"end":7980,"name":"readonly"},"computed":false,"optional":false},{"type":"Identifier","start":7982,"end":7991,"name":"storeName"},{"type":"MemberExpression","start":7993,"end":8002,"object":{"type":"Identifier","start":7993,"end":7996,"name":"obs"},"property":{"type":"Identifier","start":7997,"end":8002,"name":"error"},"computed":false,"optional":false},{"type":"MemberExpression","start":8004,"end":8012,"object":{"type":"Identifier","start":8004,"end":8007,"name":"obs"},"property":{"type":"Identifier","start":8008,"end":8012,"name":"next"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":8032,"end":8087,"declarations":[{"type":"VariableDeclarator","start":8038,"end":8086,"id":{"type":"Identifier","start":8038,"end":8049,"name":"objectStore"},"init":{"type":"CallExpression","start":8052,"end":8086,"callee":{"type":"MemberExpression","start":8052,"end":8075,"object":{"type":"Identifier","start":8052,"end":8063,"name":"transaction"},"property":{"type":"Identifier","start":8064,"end":8075,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8076,"end":8085,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":8104,"end":8140,"declarations":[{"type":"VariableDeclarator","start":8110,"end":8139,"id":{"type":"Identifier","start":8110,"end":8117,"name":"request"},"init":{"type":"CallExpression","start":8120,"end":8139,"callee":{"type":"MemberExpression","start":8120,"end":8135,"object":{"type":"Identifier","start":8120,"end":8131,"name":"objectStore"},"property":{"type":"Identifier","start":8132,"end":8135,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8136,"end":8138,"name":"id"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":8157,"end":8259,"expression":{"type":"AssignmentExpression","start":8157,"end":8258,"operator":"=","left":{"type":"MemberExpression","start":8157,"end":8174,"object":{"type":"Identifier","start":8157,"end":8164,"name":"request"},"property":{"type":"Identifier","start":8165,"end":8174,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":8177,"end":8258,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8178,"end":8183,"name":"event"}],"body":{"type":"BlockStatement","start":8188,"end":8258,"body":[{"type":"ExpressionStatement","start":8210,"end":8240,"expression":{"type":"CallExpression","start":8210,"end":8239,"callee":{"type":"MemberExpression","start":8210,"end":8218,"object":{"type":"Identifier","start":8210,"end":8213,"name":"obs"},"property":{"type":"Identifier","start":8214,"end":8218,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":8219,"end":8238,"object":{"type":"MemberExpression","start":8219,"end":8231,"object":{"type":"Identifier","start":8219,"end":8224,"name":"event"},"property":{"type":"Identifier","start":8225,"end":8231,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8232,"end":8238,"name":"result"},"computed":false,"optional":false}],"optional":false}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":8292,"end":8297,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8298,"end":8325,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":8299,"end":8304,"name":"error"}],"body":{"type":"CallExpression","start":8309,"end":8325,"callee":{"type":"MemberExpression","start":8309,"end":8318,"object":{"type":"Identifier","start":8309,"end":8312,"name":"obs"},"property":{"type":"Identifier","start":8313,"end":8318,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8319,"end":8324,"name":"error"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":8534,"end":9338,"static":false,"computed":false,"key":{"type":"Identifier","start":8534,"end":8544,"name":"getByIndex"},"kind":"method","value":{"type":"FunctionExpression","start":8544,"end":9338,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8545,"end":8554,"name":"storeName"},{"type":"Identifier","start":8556,"end":8565,"name":"indexName"},{"type":"Identifier","start":8567,"end":8570,"name":"key"}],"body":{"type":"BlockStatement","start":8572,"end":9338,"body":[{"type":"ReturnStatement","start":8582,"end":9332,"argument":{"type":"NewExpression","start":8589,"end":9331,"callee":{"type":"Identifier","start":8593,"end":8603,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":8604,"end":9330,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8605,"end":8608,"name":"obs"}],"body":{"type":"BlockStatement","start":8613,"end":9330,"body":[{"type":"ExpressionStatement","start":8627,"end":9320,"expression":{"type":"CallExpression","start":8627,"end":9319,"callee":{"type":"MemberExpression","start":8627,"end":9288,"object":{"type":"CallExpression","start":8627,"end":9265,"callee":{"type":"MemberExpression","start":8627,"end":8720,"object":{"type":"CallExpression","start":8627,"end":8698,"callee":{"type":"Identifier","start":8627,"end":8639,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":8640,"end":8654,"object":{"type":"ThisExpression","start":8640,"end":8644},"property":{"type":"Identifier","start":8645,"end":8654,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":8656,"end":8674,"object":{"type":"MemberExpression","start":8656,"end":8669,"object":{"type":"ThisExpression","start":8656,"end":8660},"property":{"type":"Identifier","start":8661,"end":8669,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8670,"end":8674,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":8676,"end":8697,"object":{"type":"MemberExpression","start":8676,"end":8689,"object":{"type":"ThisExpression","start":8676,"end":8680},"property":{"type":"Identifier","start":8681,"end":8689,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":8690,"end":8697,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":8716,"end":8720,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":8721,"end":9264,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":8722,"end":8724,"name":"db"}],"body":{"type":"BlockStatement","start":8729,"end":9264,"body":[{"type":"ExpressionStatement","start":8747,"end":8799,"expression":{"type":"CallExpression","start":8747,"end":8798,"callee":{"type":"Identifier","start":8747,"end":8772,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":8773,"end":8775,"name":"db"},{"type":"Identifier","start":8777,"end":8786,"name":"storeName"},{"type":"MemberExpression","start":8788,"end":8797,"object":{"type":"Identifier","start":8788,"end":8791,"name":"obs"},"property":{"type":"Identifier","start":8792,"end":8797,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":8816,"end":8915,"declarations":[{"type":"VariableDeclarator","start":8822,"end":8914,"id":{"type":"Identifier","start":8822,"end":8833,"name":"transaction"},"init":{"type":"CallExpression","start":8836,"end":8914,"callee":{"type":"Identifier","start":8836,"end":8853,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":8854,"end":8856,"name":"db"},{"type":"CallExpression","start":8858,"end":8913,"callee":{"type":"Identifier","start":8858,"end":8874,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":8875,"end":8890,"object":{"type":"Identifier","start":8875,"end":8881,"name":"DBMode"},"property":{"type":"Identifier","start":8882,"end":8890,"name":"readonly"},"computed":false,"optional":false},{"type":"Identifier","start":8892,"end":8901,"name":"storeName"},{"type":"MemberExpression","start":8903,"end":8912,"object":{"type":"Identifier","start":8903,"end":8906,"name":"obs"},"property":{"type":"Identifier","start":8907,"end":8912,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":8932,"end":8987,"declarations":[{"type":"VariableDeclarator","start":8938,"end":8986,"id":{"type":"Identifier","start":8938,"end":8949,"name":"objectStore"},"init":{"type":"CallExpression","start":8952,"end":8986,"callee":{"type":"MemberExpression","start":8952,"end":8975,"object":{"type":"Identifier","start":8952,"end":8963,"name":"transaction"},"property":{"type":"Identifier","start":8964,"end":8975,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":8976,"end":8985,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":9004,"end":9047,"declarations":[{"type":"VariableDeclarator","start":9010,"end":9046,"id":{"type":"Identifier","start":9010,"end":9015,"name":"index"},"init":{"type":"CallExpression","start":9018,"end":9046,"callee":{"type":"MemberExpression","start":9018,"end":9035,"object":{"type":"Identifier","start":9018,"end":9029,"name":"objectStore"},"property":{"type":"Identifier","start":9030,"end":9035,"name":"index"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9036,"end":9045,"name":"indexName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":9064,"end":9095,"declarations":[{"type":"VariableDeclarator","start":9070,"end":9094,"id":{"type":"Identifier","start":9070,"end":9077,"name":"request"},"init":{"type":"CallExpression","start":9080,"end":9094,"callee":{"type":"MemberExpression","start":9080,"end":9089,"object":{"type":"Identifier","start":9080,"end":9085,"name":"index"},"property":{"type":"Identifier","start":9086,"end":9089,"name":"get"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9090,"end":9093,"name":"key"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":9112,"end":9250,"expression":{"type":"AssignmentExpression","start":9112,"end":9249,"operator":"=","left":{"type":"MemberExpression","start":9112,"end":9129,"object":{"type":"Identifier","start":9112,"end":9119,"name":"request"},"property":{"type":"Identifier","start":9120,"end":9129,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":9132,"end":9249,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9133,"end":9138,"name":"event"}],"body":{"type":"BlockStatement","start":9143,"end":9249,"body":[{"type":"ExpressionStatement","start":9165,"end":9195,"expression":{"type":"CallExpression","start":9165,"end":9194,"callee":{"type":"MemberExpression","start":9165,"end":9173,"object":{"type":"Identifier","start":9165,"end":9168,"name":"obs"},"property":{"type":"Identifier","start":9169,"end":9173,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":9174,"end":9193,"object":{"type":"MemberExpression","start":9174,"end":9186,"object":{"type":"Identifier","start":9174,"end":9179,"name":"event"},"property":{"type":"Identifier","start":9180,"end":9186,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":9187,"end":9193,"name":"result"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":9216,"end":9231,"expression":{"type":"CallExpression","start":9216,"end":9230,"callee":{"type":"MemberExpression","start":9216,"end":9228,"object":{"type":"Identifier","start":9216,"end":9219,"name":"obs"},"property":{"type":"Identifier","start":9220,"end":9228,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":9283,"end":9288,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9289,"end":9318,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":9290,"end":9296,"name":"reason"}],"body":{"type":"CallExpression","start":9301,"end":9318,"callee":{"type":"MemberExpression","start":9301,"end":9310,"object":{"type":"Identifier","start":9301,"end":9304,"name":"obs"},"property":{"type":"Identifier","start":9305,"end":9310,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9311,"end":9317,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":9467,"end":10323,"static":false,"computed":false,"key":{"type":"Identifier","start":9467,"end":9473,"name":"getAll"},"kind":"method","value":{"type":"FunctionExpression","start":9473,"end":10323,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9474,"end":9483,"name":"storeName"}],"body":{"type":"BlockStatement","start":9485,"end":10323,"body":[{"type":"ReturnStatement","start":9495,"end":10317,"argument":{"type":"NewExpression","start":9502,"end":10316,"callee":{"type":"Identifier","start":9506,"end":9516,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":9517,"end":10315,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9518,"end":9521,"name":"obs"}],"body":{"type":"BlockStatement","start":9526,"end":10315,"body":[{"type":"ExpressionStatement","start":9540,"end":10305,"expression":{"type":"CallExpression","start":9540,"end":10304,"callee":{"type":"MemberExpression","start":9540,"end":10275,"object":{"type":"CallExpression","start":9540,"end":10252,"callee":{"type":"MemberExpression","start":9540,"end":9633,"object":{"type":"CallExpression","start":9540,"end":9611,"callee":{"type":"Identifier","start":9540,"end":9552,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":9553,"end":9567,"object":{"type":"ThisExpression","start":9553,"end":9557},"property":{"type":"Identifier","start":9558,"end":9567,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":9569,"end":9587,"object":{"type":"MemberExpression","start":9569,"end":9582,"object":{"type":"ThisExpression","start":9569,"end":9573},"property":{"type":"Identifier","start":9574,"end":9582,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":9583,"end":9587,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":9589,"end":9610,"object":{"type":"MemberExpression","start":9589,"end":9602,"object":{"type":"ThisExpression","start":9589,"end":9593},"property":{"type":"Identifier","start":9594,"end":9602,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":9603,"end":9610,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":9629,"end":9633,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":9634,"end":10251,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":9635,"end":9637,"name":"db"}],"body":{"type":"BlockStatement","start":9642,"end":10251,"body":[{"type":"ExpressionStatement","start":9660,"end":9712,"expression":{"type":"CallExpression","start":9660,"end":9711,"callee":{"type":"Identifier","start":9660,"end":9685,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":9686,"end":9688,"name":"db"},{"type":"Identifier","start":9690,"end":9699,"name":"storeName"},{"type":"MemberExpression","start":9701,"end":9710,"object":{"type":"Identifier","start":9701,"end":9704,"name":"obs"},"property":{"type":"Identifier","start":9705,"end":9710,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":9729,"end":9838,"declarations":[{"type":"VariableDeclarator","start":9735,"end":9837,"id":{"type":"Identifier","start":9735,"end":9746,"name":"transaction"},"init":{"type":"CallExpression","start":9749,"end":9837,"callee":{"type":"Identifier","start":9749,"end":9766,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":9767,"end":9769,"name":"db"},{"type":"CallExpression","start":9771,"end":9836,"callee":{"type":"Identifier","start":9771,"end":9787,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":9788,"end":9803,"object":{"type":"Identifier","start":9788,"end":9794,"name":"DBMode"},"property":{"type":"Identifier","start":9795,"end":9803,"name":"readonly"},"computed":false,"optional":false},{"type":"Identifier","start":9805,"end":9814,"name":"storeName"},{"type":"MemberExpression","start":9816,"end":9825,"object":{"type":"Identifier","start":9816,"end":9819,"name":"obs"},"property":{"type":"Identifier","start":9820,"end":9825,"name":"error"},"computed":false,"optional":false},{"type":"MemberExpression","start":9827,"end":9835,"object":{"type":"Identifier","start":9827,"end":9830,"name":"obs"},"property":{"type":"Identifier","start":9831,"end":9835,"name":"next"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":9855,"end":9910,"declarations":[{"type":"VariableDeclarator","start":9861,"end":9909,"id":{"type":"Identifier","start":9861,"end":9872,"name":"objectStore"},"init":{"type":"CallExpression","start":9875,"end":9909,"callee":{"type":"MemberExpression","start":9875,"end":9898,"object":{"type":"Identifier","start":9875,"end":9886,"name":"transaction"},"property":{"type":"Identifier","start":9887,"end":9898,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":9899,"end":9908,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":9927,"end":9964,"declarations":[{"type":"VariableDeclarator","start":9933,"end":9963,"id":{"type":"Identifier","start":9933,"end":9940,"name":"request"},"init":{"type":"CallExpression","start":9943,"end":9963,"callee":{"type":"MemberExpression","start":9943,"end":9961,"object":{"type":"Identifier","start":9943,"end":9954,"name":"objectStore"},"property":{"type":"Identifier","start":9955,"end":9961,"name":"getAll"},"computed":false,"optional":false},"arguments":[],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":9981,"end":10064,"expression":{"type":"AssignmentExpression","start":9981,"end":10063,"operator":"=","left":{"type":"MemberExpression","start":9981,"end":9996,"object":{"type":"Identifier","start":9981,"end":9988,"name":"request"},"property":{"type":"Identifier","start":9989,"end":9996,"name":"onerror"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":9999,"end":10063,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10000,"end":10003,"name":"evt"}],"body":{"type":"BlockStatement","start":10008,"end":10063,"body":[{"type":"ExpressionStatement","start":10030,"end":10045,"expression":{"type":"CallExpression","start":10030,"end":10044,"callee":{"type":"MemberExpression","start":10030,"end":10039,"object":{"type":"Identifier","start":10030,"end":10033,"name":"obs"},"property":{"type":"Identifier","start":10034,"end":10039,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10040,"end":10043,"name":"evt"}],"optional":false}}]}}}},{"type":"ExpressionStatement","start":10081,"end":10237,"expression":{"type":"AssignmentExpression","start":10081,"end":10236,"operator":"=","left":{"type":"MemberExpression","start":10081,"end":10098,"object":{"type":"Identifier","start":10081,"end":10088,"name":"request"},"property":{"type":"Identifier","start":10089,"end":10098,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":10101,"end":10236,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"ObjectPattern","start":10102,"end":10135,"properties":[{"type":"Property","start":10104,"end":10133,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10104,"end":10110,"name":"target"},"value":{"type":"ObjectPattern","start":10112,"end":10133,"properties":[{"type":"Property","start":10114,"end":10131,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":10114,"end":10120,"name":"result"},"value":{"type":"Identifier","start":10122,"end":10131,"name":"ResultAll"},"kind":"init"}]},"kind":"init"}]}],"body":{"type":"BlockStatement","start":10140,"end":10236,"body":[{"type":"ExpressionStatement","start":10162,"end":10182,"expression":{"type":"CallExpression","start":10162,"end":10181,"callee":{"type":"MemberExpression","start":10162,"end":10170,"object":{"type":"Identifier","start":10162,"end":10165,"name":"obs"},"property":{"type":"Identifier","start":10166,"end":10170,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10171,"end":10180,"name":"ResultAll"}],"optional":false}},{"type":"ExpressionStatement","start":10203,"end":10218,"expression":{"type":"CallExpression","start":10203,"end":10217,"callee":{"type":"MemberExpression","start":10203,"end":10215,"object":{"type":"Identifier","start":10203,"end":10206,"name":"obs"},"property":{"type":"Identifier","start":10207,"end":10215,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":10270,"end":10275,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":10276,"end":10303,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":10277,"end":10282,"name":"error"}],"body":{"type":"CallExpression","start":10287,"end":10303,"callee":{"type":"MemberExpression","start":10287,"end":10296,"object":{"type":"Identifier","start":10287,"end":10290,"name":"obs"},"property":{"type":"Identifier","start":10291,"end":10296,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10297,"end":10302,"name":"error"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":10561,"end":11482,"static":false,"computed":false,"key":{"type":"Identifier","start":10561,"end":10567,"name":"update"},"kind":"method","value":{"type":"FunctionExpression","start":10567,"end":11482,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10568,"end":10577,"name":"storeName"},{"type":"Identifier","start":10579,"end":10584,"name":"value"},{"type":"Identifier","start":10586,"end":10589,"name":"key"}],"body":{"type":"BlockStatement","start":10591,"end":11482,"body":[{"type":"ReturnStatement","start":10601,"end":11476,"argument":{"type":"NewExpression","start":10608,"end":11475,"callee":{"type":"Identifier","start":10612,"end":10622,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":10623,"end":11474,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10624,"end":10627,"name":"obs"}],"body":{"type":"BlockStatement","start":10632,"end":11474,"body":[{"type":"ExpressionStatement","start":10646,"end":11464,"expression":{"type":"CallExpression","start":10646,"end":11463,"callee":{"type":"MemberExpression","start":10646,"end":11432,"object":{"type":"CallExpression","start":10646,"end":11409,"callee":{"type":"MemberExpression","start":10646,"end":10739,"object":{"type":"CallExpression","start":10646,"end":10717,"callee":{"type":"Identifier","start":10646,"end":10658,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":10659,"end":10673,"object":{"type":"ThisExpression","start":10659,"end":10663},"property":{"type":"Identifier","start":10664,"end":10673,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":10675,"end":10693,"object":{"type":"MemberExpression","start":10675,"end":10688,"object":{"type":"ThisExpression","start":10675,"end":10679},"property":{"type":"Identifier","start":10680,"end":10688,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":10689,"end":10693,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":10695,"end":10716,"object":{"type":"MemberExpression","start":10695,"end":10708,"object":{"type":"ThisExpression","start":10695,"end":10699},"property":{"type":"Identifier","start":10700,"end":10708,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":10709,"end":10716,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":10735,"end":10739,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":10740,"end":11408,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":10741,"end":10743,"name":"db"}],"body":{"type":"BlockStatement","start":10748,"end":11408,"body":[{"type":"ExpressionStatement","start":10766,"end":10818,"expression":{"type":"CallExpression","start":10766,"end":10817,"callee":{"type":"Identifier","start":10766,"end":10791,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":10792,"end":10794,"name":"db"},{"type":"Identifier","start":10796,"end":10805,"name":"storeName"},{"type":"MemberExpression","start":10807,"end":10816,"object":{"type":"Identifier","start":10807,"end":10810,"name":"obs"},"property":{"type":"Identifier","start":10811,"end":10816,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":10835,"end":10935,"declarations":[{"type":"VariableDeclarator","start":10841,"end":10934,"id":{"type":"Identifier","start":10841,"end":10852,"name":"transaction"},"init":{"type":"CallExpression","start":10855,"end":10934,"callee":{"type":"Identifier","start":10855,"end":10872,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":10873,"end":10875,"name":"db"},{"type":"CallExpression","start":10877,"end":10933,"callee":{"type":"Identifier","start":10877,"end":10893,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":10894,"end":10910,"object":{"type":"Identifier","start":10894,"end":10900,"name":"DBMode"},"property":{"type":"Identifier","start":10901,"end":10910,"name":"readwrite"},"computed":false,"optional":false},{"type":"Identifier","start":10912,"end":10921,"name":"storeName"},{"type":"MemberExpression","start":10923,"end":10932,"object":{"type":"Identifier","start":10923,"end":10926,"name":"obs"},"property":{"type":"Identifier","start":10927,"end":10932,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":10952,"end":11007,"declarations":[{"type":"VariableDeclarator","start":10958,"end":11006,"id":{"type":"Identifier","start":10958,"end":10969,"name":"objectStore"},"init":{"type":"CallExpression","start":10972,"end":11006,"callee":{"type":"MemberExpression","start":10972,"end":10995,"object":{"type":"Identifier","start":10972,"end":10983,"name":"transaction"},"property":{"type":"Identifier","start":10984,"end":10995,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":10996,"end":11005,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":11024,"end":11318,"expression":{"type":"AssignmentExpression","start":11024,"end":11317,"operator":"=","left":{"type":"MemberExpression","start":11024,"end":11046,"object":{"type":"Identifier","start":11024,"end":11035,"name":"transaction"},"property":{"type":"Identifier","start":11036,"end":11046,"name":"oncomplete"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":11049,"end":11317,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":11055,"end":11317,"body":[{"type":"ExpressionStatement","start":11077,"end":11299,"expression":{"type":"CallExpression","start":11077,"end":11298,"callee":{"type":"MemberExpression","start":11077,"end":11173,"object":{"type":"CallExpression","start":11077,"end":11138,"callee":{"type":"MemberExpression","start":11077,"end":11129,"object":{"type":"CallExpression","start":11077,"end":11099,"callee":{"type":"MemberExpression","start":11077,"end":11088,"object":{"type":"ThisExpression","start":11077,"end":11081},"property":{"type":"Identifier","start":11082,"end":11088,"name":"getAll"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11089,"end":11098,"name":"storeName"}],"optional":false},"property":{"type":"Identifier","start":11125,"end":11129,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":11130,"end":11137,"callee":{"type":"Identifier","start":11130,"end":11134,"name":"take"},"arguments":[{"type":"Literal","start":11135,"end":11136,"value":1,"raw":"1"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":11164,"end":11173,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":11174,"end":11297,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11175,"end":11184,"name":"newValues"}],"body":{"type":"BlockStatement","start":11189,"end":11297,"body":[{"type":"ExpressionStatement","start":11215,"end":11235,"expression":{"type":"CallExpression","start":11215,"end":11234,"callee":{"type":"MemberExpression","start":11215,"end":11223,"object":{"type":"Identifier","start":11215,"end":11218,"name":"obs"},"property":{"type":"Identifier","start":11219,"end":11223,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11224,"end":11233,"name":"newValues"}],"optional":false}},{"type":"ExpressionStatement","start":11260,"end":11275,"expression":{"type":"CallExpression","start":11260,"end":11274,"callee":{"type":"MemberExpression","start":11260,"end":11272,"object":{"type":"Identifier","start":11260,"end":11263,"name":"obs"},"property":{"type":"Identifier","start":11264,"end":11272,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}}]}}}},{"type":"ExpressionStatement","start":11335,"end":11394,"expression":{"type":"ConditionalExpression","start":11335,"end":11393,"test":{"type":"Identifier","start":11335,"end":11338,"name":"key"},"consequent":{"type":"CallExpression","start":11341,"end":11368,"callee":{"type":"MemberExpression","start":11341,"end":11356,"object":{"type":"Identifier","start":11341,"end":11352,"name":"objectStore"},"property":{"type":"Identifier","start":11353,"end":11356,"name":"put"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11357,"end":11362,"name":"value"},{"type":"Identifier","start":11364,"end":11367,"name":"key"}],"optional":false},"alternate":{"type":"CallExpression","start":11371,"end":11393,"callee":{"type":"MemberExpression","start":11371,"end":11386,"object":{"type":"Identifier","start":11371,"end":11382,"name":"objectStore"},"property":{"type":"Identifier","start":11383,"end":11386,"name":"put"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11387,"end":11392,"name":"value"}],"optional":false}}}]}}],"optional":false},"property":{"type":"Identifier","start":11427,"end":11432,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":11433,"end":11462,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":11434,"end":11440,"name":"reason"}],"body":{"type":"CallExpression","start":11445,"end":11462,"callee":{"type":"MemberExpression","start":11445,"end":11454,"object":{"type":"Identifier","start":11445,"end":11448,"name":"obs"},"property":{"type":"Identifier","start":11449,"end":11454,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":11455,"end":11461,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":11725,"end":12625,"static":false,"computed":false,"key":{"type":"Identifier","start":11725,"end":11736,"name":"updateByKey"},"kind":"method","value":{"type":"FunctionExpression","start":11736,"end":12625,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11737,"end":11746,"name":"storeName"},{"type":"Identifier","start":11748,"end":11753,"name":"value"},{"type":"Identifier","start":11755,"end":11758,"name":"key"}],"body":{"type":"BlockStatement","start":11760,"end":12625,"body":[{"type":"ReturnStatement","start":11770,"end":12619,"argument":{"type":"NewExpression","start":11777,"end":12618,"callee":{"type":"Identifier","start":11781,"end":11791,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":11792,"end":12617,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11793,"end":11796,"name":"obs"}],"body":{"type":"BlockStatement","start":11801,"end":12617,"body":[{"type":"ExpressionStatement","start":11815,"end":12607,"expression":{"type":"CallExpression","start":11815,"end":12606,"callee":{"type":"MemberExpression","start":11815,"end":12575,"object":{"type":"CallExpression","start":11815,"end":12552,"callee":{"type":"MemberExpression","start":11815,"end":11908,"object":{"type":"CallExpression","start":11815,"end":11886,"callee":{"type":"Identifier","start":11815,"end":11827,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":11828,"end":11842,"object":{"type":"ThisExpression","start":11828,"end":11832},"property":{"type":"Identifier","start":11833,"end":11842,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":11844,"end":11862,"object":{"type":"MemberExpression","start":11844,"end":11857,"object":{"type":"ThisExpression","start":11844,"end":11848},"property":{"type":"Identifier","start":11849,"end":11857,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":11858,"end":11862,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":11864,"end":11885,"object":{"type":"MemberExpression","start":11864,"end":11877,"object":{"type":"ThisExpression","start":11864,"end":11868},"property":{"type":"Identifier","start":11869,"end":11877,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":11878,"end":11885,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":11904,"end":11908,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":11909,"end":12551,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":11910,"end":11912,"name":"db"}],"body":{"type":"BlockStatement","start":11917,"end":12551,"body":[{"type":"ExpressionStatement","start":11935,"end":11987,"expression":{"type":"CallExpression","start":11935,"end":11986,"callee":{"type":"Identifier","start":11935,"end":11960,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":11961,"end":11963,"name":"db"},{"type":"Identifier","start":11965,"end":11974,"name":"storeName"},{"type":"MemberExpression","start":11976,"end":11985,"object":{"type":"Identifier","start":11976,"end":11979,"name":"obs"},"property":{"type":"Identifier","start":11980,"end":11985,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":12004,"end":12104,"declarations":[{"type":"VariableDeclarator","start":12010,"end":12103,"id":{"type":"Identifier","start":12010,"end":12021,"name":"transaction"},"init":{"type":"CallExpression","start":12024,"end":12103,"callee":{"type":"Identifier","start":12024,"end":12041,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":12042,"end":12044,"name":"db"},{"type":"CallExpression","start":12046,"end":12102,"callee":{"type":"Identifier","start":12046,"end":12062,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":12063,"end":12079,"object":{"type":"Identifier","start":12063,"end":12069,"name":"DBMode"},"property":{"type":"Identifier","start":12070,"end":12079,"name":"readwrite"},"computed":false,"optional":false},{"type":"Identifier","start":12081,"end":12090,"name":"storeName"},{"type":"MemberExpression","start":12092,"end":12101,"object":{"type":"Identifier","start":12092,"end":12095,"name":"obs"},"property":{"type":"Identifier","start":12096,"end":12101,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":12121,"end":12176,"declarations":[{"type":"VariableDeclarator","start":12127,"end":12175,"id":{"type":"Identifier","start":12127,"end":12138,"name":"objectStore"},"init":{"type":"CallExpression","start":12141,"end":12175,"callee":{"type":"MemberExpression","start":12141,"end":12164,"object":{"type":"Identifier","start":12141,"end":12152,"name":"transaction"},"property":{"type":"Identifier","start":12153,"end":12164,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":12165,"end":12174,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":12193,"end":12492,"expression":{"type":"AssignmentExpression","start":12193,"end":12491,"operator":"=","left":{"type":"MemberExpression","start":12193,"end":12215,"object":{"type":"Identifier","start":12193,"end":12204,"name":"transaction"},"property":{"type":"Identifier","start":12205,"end":12215,"name":"oncomplete"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":12218,"end":12491,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":12224,"end":12491,"body":[{"type":"ExpressionStatement","start":12246,"end":12473,"expression":{"type":"CallExpression","start":12246,"end":12472,"callee":{"type":"MemberExpression","start":12246,"end":12349,"object":{"type":"CallExpression","start":12246,"end":12314,"callee":{"type":"MemberExpression","start":12246,"end":12305,"object":{"type":"CallExpression","start":12246,"end":12275,"callee":{"type":"MemberExpression","start":12246,"end":12259,"object":{"type":"ThisExpression","start":12246,"end":12250},"property":{"type":"Identifier","start":12251,"end":12259,"name":"getByKey"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":12260,"end":12269,"name":"storeName"},{"type":"Identifier","start":12271,"end":12274,"name":"key"}],"optional":false},"property":{"type":"Identifier","start":12301,"end":12305,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":12306,"end":12313,"callee":{"type":"Identifier","start":12306,"end":12310,"name":"take"},"arguments":[{"type":"Literal","start":12311,"end":12312,"value":1,"raw":"1"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":12340,"end":12349,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":12350,"end":12471,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12351,"end":12359,"name":"newValue"}],"body":{"type":"BlockStatement","start":12364,"end":12471,"body":[{"type":"ExpressionStatement","start":12390,"end":12409,"expression":{"type":"CallExpression","start":12390,"end":12408,"callee":{"type":"MemberExpression","start":12390,"end":12398,"object":{"type":"Identifier","start":12390,"end":12393,"name":"obs"},"property":{"type":"Identifier","start":12394,"end":12398,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":12399,"end":12407,"name":"newValue"}],"optional":false}},{"type":"ExpressionStatement","start":12434,"end":12449,"expression":{"type":"CallExpression","start":12434,"end":12448,"callee":{"type":"MemberExpression","start":12434,"end":12446,"object":{"type":"Identifier","start":12434,"end":12437,"name":"obs"},"property":{"type":"Identifier","start":12438,"end":12446,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}}]}}}},{"type":"ExpressionStatement","start":12509,"end":12537,"expression":{"type":"CallExpression","start":12509,"end":12536,"callee":{"type":"MemberExpression","start":12509,"end":12524,"object":{"type":"Identifier","start":12509,"end":12520,"name":"objectStore"},"property":{"type":"Identifier","start":12521,"end":12524,"name":"put"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":12525,"end":12530,"name":"value"},{"type":"Identifier","start":12532,"end":12535,"name":"key"}],"optional":false}}]}}],"optional":false},"property":{"type":"Identifier","start":12570,"end":12575,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":12576,"end":12605,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":12577,"end":12583,"name":"reason"}],"body":{"type":"CallExpression","start":12588,"end":12605,"callee":{"type":"MemberExpression","start":12588,"end":12597,"object":{"type":"Identifier","start":12588,"end":12591,"name":"obs"},"property":{"type":"Identifier","start":12592,"end":12597,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":12598,"end":12604,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":12825,"end":13704,"static":false,"computed":false,"key":{"type":"Identifier","start":12825,"end":12831,"name":"delete"},"kind":"method","value":{"type":"FunctionExpression","start":12831,"end":13704,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12832,"end":12841,"name":"storeName"},{"type":"Identifier","start":12843,"end":12846,"name":"key"}],"body":{"type":"BlockStatement","start":12848,"end":13704,"body":[{"type":"ReturnStatement","start":12858,"end":13698,"argument":{"type":"NewExpression","start":12865,"end":13697,"callee":{"type":"Identifier","start":12869,"end":12879,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":12880,"end":13696,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12881,"end":12884,"name":"obs"}],"body":{"type":"BlockStatement","start":12889,"end":13696,"body":[{"type":"ExpressionStatement","start":12903,"end":13686,"expression":{"type":"CallExpression","start":12903,"end":13685,"callee":{"type":"MemberExpression","start":12903,"end":13654,"object":{"type":"CallExpression","start":12903,"end":13631,"callee":{"type":"MemberExpression","start":12903,"end":12996,"object":{"type":"CallExpression","start":12903,"end":12974,"callee":{"type":"Identifier","start":12903,"end":12915,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":12916,"end":12930,"object":{"type":"ThisExpression","start":12916,"end":12920},"property":{"type":"Identifier","start":12921,"end":12930,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":12932,"end":12950,"object":{"type":"MemberExpression","start":12932,"end":12945,"object":{"type":"ThisExpression","start":12932,"end":12936},"property":{"type":"Identifier","start":12937,"end":12945,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":12946,"end":12950,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":12952,"end":12973,"object":{"type":"MemberExpression","start":12952,"end":12965,"object":{"type":"ThisExpression","start":12952,"end":12956},"property":{"type":"Identifier","start":12957,"end":12965,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":12966,"end":12973,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":12992,"end":12996,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":12997,"end":13630,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":12998,"end":13000,"name":"db"}],"body":{"type":"BlockStatement","start":13005,"end":13630,"body":[{"type":"ExpressionStatement","start":13023,"end":13075,"expression":{"type":"CallExpression","start":13023,"end":13074,"callee":{"type":"Identifier","start":13023,"end":13048,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":13049,"end":13051,"name":"db"},{"type":"Identifier","start":13053,"end":13062,"name":"storeName"},{"type":"MemberExpression","start":13064,"end":13073,"object":{"type":"Identifier","start":13064,"end":13067,"name":"obs"},"property":{"type":"Identifier","start":13068,"end":13073,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":13092,"end":13192,"declarations":[{"type":"VariableDeclarator","start":13098,"end":13191,"id":{"type":"Identifier","start":13098,"end":13109,"name":"transaction"},"init":{"type":"CallExpression","start":13112,"end":13191,"callee":{"type":"Identifier","start":13112,"end":13129,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":13130,"end":13132,"name":"db"},{"type":"CallExpression","start":13134,"end":13190,"callee":{"type":"Identifier","start":13134,"end":13150,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":13151,"end":13167,"object":{"type":"Identifier","start":13151,"end":13157,"name":"DBMode"},"property":{"type":"Identifier","start":13158,"end":13167,"name":"readwrite"},"computed":false,"optional":false},{"type":"Identifier","start":13169,"end":13178,"name":"storeName"},{"type":"MemberExpression","start":13180,"end":13189,"object":{"type":"Identifier","start":13180,"end":13183,"name":"obs"},"property":{"type":"Identifier","start":13184,"end":13189,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":13209,"end":13264,"declarations":[{"type":"VariableDeclarator","start":13215,"end":13263,"id":{"type":"Identifier","start":13215,"end":13226,"name":"objectStore"},"init":{"type":"CallExpression","start":13229,"end":13263,"callee":{"type":"MemberExpression","start":13229,"end":13252,"object":{"type":"Identifier","start":13229,"end":13240,"name":"transaction"},"property":{"type":"Identifier","start":13241,"end":13252,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13253,"end":13262,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":13281,"end":13305,"expression":{"type":"CallExpression","start":13281,"end":13304,"callee":{"type":"MemberExpression","start":13281,"end":13299,"object":{"type":"Identifier","start":13281,"end":13292,"name":"objectStore"},"property":{"type":"Identifier","start":13293,"end":13299,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13300,"end":13303,"name":"key"}],"optional":false}},{"type":"ExpressionStatement","start":13322,"end":13616,"expression":{"type":"AssignmentExpression","start":13322,"end":13615,"operator":"=","left":{"type":"MemberExpression","start":13322,"end":13344,"object":{"type":"Identifier","start":13322,"end":13333,"name":"transaction"},"property":{"type":"Identifier","start":13334,"end":13344,"name":"oncomplete"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":13347,"end":13615,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":13353,"end":13615,"body":[{"type":"ExpressionStatement","start":13375,"end":13597,"expression":{"type":"CallExpression","start":13375,"end":13596,"callee":{"type":"MemberExpression","start":13375,"end":13471,"object":{"type":"CallExpression","start":13375,"end":13436,"callee":{"type":"MemberExpression","start":13375,"end":13427,"object":{"type":"CallExpression","start":13375,"end":13397,"callee":{"type":"MemberExpression","start":13375,"end":13386,"object":{"type":"ThisExpression","start":13375,"end":13379},"property":{"type":"Identifier","start":13380,"end":13386,"name":"getAll"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13387,"end":13396,"name":"storeName"}],"optional":false},"property":{"type":"Identifier","start":13423,"end":13427,"name":"pipe"},"computed":false,"optional":false},"arguments":[{"type":"CallExpression","start":13428,"end":13435,"callee":{"type":"Identifier","start":13428,"end":13432,"name":"take"},"arguments":[{"type":"Literal","start":13433,"end":13434,"value":1,"raw":"1"}],"optional":false}],"optional":false},"property":{"type":"Identifier","start":13462,"end":13471,"name":"subscribe"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":13472,"end":13595,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":13473,"end":13482,"name":"newValues"}],"body":{"type":"BlockStatement","start":13487,"end":13595,"body":[{"type":"ExpressionStatement","start":13513,"end":13533,"expression":{"type":"CallExpression","start":13513,"end":13532,"callee":{"type":"MemberExpression","start":13513,"end":13521,"object":{"type":"Identifier","start":13513,"end":13516,"name":"obs"},"property":{"type":"Identifier","start":13517,"end":13521,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13522,"end":13531,"name":"newValues"}],"optional":false}},{"type":"ExpressionStatement","start":13558,"end":13573,"expression":{"type":"CallExpression","start":13558,"end":13572,"callee":{"type":"MemberExpression","start":13558,"end":13570,"object":{"type":"Identifier","start":13558,"end":13561,"name":"obs"},"property":{"type":"Identifier","start":13562,"end":13570,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":13649,"end":13654,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":13655,"end":13684,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":13656,"end":13662,"name":"reason"}],"body":{"type":"CallExpression","start":13667,"end":13684,"callee":{"type":"MemberExpression","start":13667,"end":13676,"object":{"type":"Identifier","start":13667,"end":13670,"name":"obs"},"property":{"type":"Identifier","start":13671,"end":13676,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":13677,"end":13683,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":13912,"end":14625,"static":false,"computed":false,"key":{"type":"Identifier","start":13912,"end":13923,"name":"deleteByKey"},"kind":"method","value":{"type":"FunctionExpression","start":13923,"end":14625,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":13924,"end":13933,"name":"storeName"},{"type":"Identifier","start":13935,"end":13938,"name":"key"}],"body":{"type":"BlockStatement","start":13940,"end":14625,"body":[{"type":"ReturnStatement","start":13950,"end":14619,"argument":{"type":"NewExpression","start":13957,"end":14618,"callee":{"type":"Identifier","start":13961,"end":13971,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":13972,"end":14617,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":13973,"end":13976,"name":"obs"}],"body":{"type":"BlockStatement","start":13981,"end":14617,"body":[{"type":"ExpressionStatement","start":13995,"end":14607,"expression":{"type":"CallExpression","start":13995,"end":14606,"callee":{"type":"MemberExpression","start":13995,"end":14575,"object":{"type":"CallExpression","start":13995,"end":14552,"callee":{"type":"MemberExpression","start":13995,"end":14088,"object":{"type":"CallExpression","start":13995,"end":14066,"callee":{"type":"Identifier","start":13995,"end":14007,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":14008,"end":14022,"object":{"type":"ThisExpression","start":14008,"end":14012},"property":{"type":"Identifier","start":14013,"end":14022,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":14024,"end":14042,"object":{"type":"MemberExpression","start":14024,"end":14037,"object":{"type":"ThisExpression","start":14024,"end":14028},"property":{"type":"Identifier","start":14029,"end":14037,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":14038,"end":14042,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":14044,"end":14065,"object":{"type":"MemberExpression","start":14044,"end":14057,"object":{"type":"ThisExpression","start":14044,"end":14048},"property":{"type":"Identifier","start":14049,"end":14057,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":14058,"end":14065,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":14084,"end":14088,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":14089,"end":14551,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":14090,"end":14092,"name":"db"}],"body":{"type":"BlockStatement","start":14097,"end":14551,"body":[{"type":"ExpressionStatement","start":14115,"end":14167,"expression":{"type":"CallExpression","start":14115,"end":14166,"callee":{"type":"Identifier","start":14115,"end":14140,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":14141,"end":14143,"name":"db"},{"type":"Identifier","start":14145,"end":14154,"name":"storeName"},{"type":"MemberExpression","start":14156,"end":14165,"object":{"type":"Identifier","start":14156,"end":14159,"name":"obs"},"property":{"type":"Identifier","start":14160,"end":14165,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":14184,"end":14284,"declarations":[{"type":"VariableDeclarator","start":14190,"end":14283,"id":{"type":"Identifier","start":14190,"end":14201,"name":"transaction"},"init":{"type":"CallExpression","start":14204,"end":14283,"callee":{"type":"Identifier","start":14204,"end":14221,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":14222,"end":14224,"name":"db"},{"type":"CallExpression","start":14226,"end":14282,"callee":{"type":"Identifier","start":14226,"end":14242,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":14243,"end":14259,"object":{"type":"Identifier","start":14243,"end":14249,"name":"DBMode"},"property":{"type":"Identifier","start":14250,"end":14259,"name":"readwrite"},"computed":false,"optional":false},{"type":"Identifier","start":14261,"end":14270,"name":"storeName"},{"type":"MemberExpression","start":14272,"end":14281,"object":{"type":"Identifier","start":14272,"end":14275,"name":"obs"},"property":{"type":"Identifier","start":14276,"end":14281,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":14301,"end":14356,"declarations":[{"type":"VariableDeclarator","start":14307,"end":14355,"id":{"type":"Identifier","start":14307,"end":14318,"name":"objectStore"},"init":{"type":"CallExpression","start":14321,"end":14355,"callee":{"type":"MemberExpression","start":14321,"end":14344,"object":{"type":"Identifier","start":14321,"end":14332,"name":"transaction"},"property":{"type":"Identifier","start":14333,"end":14344,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14345,"end":14354,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":14373,"end":14496,"expression":{"type":"AssignmentExpression","start":14373,"end":14495,"operator":"=","left":{"type":"MemberExpression","start":14373,"end":14395,"object":{"type":"Identifier","start":14373,"end":14384,"name":"transaction"},"property":{"type":"Identifier","start":14385,"end":14395,"name":"oncomplete"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":14398,"end":14495,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":14404,"end":14495,"body":[{"type":"ExpressionStatement","start":14426,"end":14441,"expression":{"type":"CallExpression","start":14426,"end":14440,"callee":{"type":"MemberExpression","start":14426,"end":14434,"object":{"type":"Identifier","start":14426,"end":14429,"name":"obs"},"property":{"type":"Identifier","start":14430,"end":14434,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":14435,"end":14439,"value":true,"raw":"true"}],"optional":false}},{"type":"ExpressionStatement","start":14462,"end":14477,"expression":{"type":"CallExpression","start":14462,"end":14476,"callee":{"type":"MemberExpression","start":14462,"end":14474,"object":{"type":"Identifier","start":14462,"end":14465,"name":"obs"},"property":{"type":"Identifier","start":14466,"end":14474,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}},{"type":"ExpressionStatement","start":14513,"end":14537,"expression":{"type":"CallExpression","start":14513,"end":14536,"callee":{"type":"MemberExpression","start":14513,"end":14531,"object":{"type":"Identifier","start":14513,"end":14524,"name":"objectStore"},"property":{"type":"Identifier","start":14525,"end":14531,"name":"delete"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14532,"end":14535,"name":"key"}],"optional":false}}]}}],"optional":false},"property":{"type":"Identifier","start":14570,"end":14575,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":14576,"end":14605,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":14577,"end":14583,"name":"reason"}],"body":{"type":"CallExpression","start":14588,"end":14605,"callee":{"type":"MemberExpression","start":14588,"end":14597,"object":{"type":"Identifier","start":14588,"end":14591,"name":"obs"},"property":{"type":"Identifier","start":14592,"end":14597,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":14598,"end":14604,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":14791,"end":15489,"static":false,"computed":false,"key":{"type":"Identifier","start":14791,"end":14796,"name":"clear"},"kind":"method","value":{"type":"FunctionExpression","start":14796,"end":15489,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":14797,"end":14806,"name":"storeName"}],"body":{"type":"BlockStatement","start":14808,"end":15489,"body":[{"type":"ReturnStatement","start":14818,"end":15483,"argument":{"type":"NewExpression","start":14825,"end":15482,"callee":{"type":"Identifier","start":14829,"end":14839,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":14840,"end":15481,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":14841,"end":14844,"name":"obs"}],"body":{"type":"BlockStatement","start":14849,"end":15481,"body":[{"type":"ExpressionStatement","start":14863,"end":15471,"expression":{"type":"CallExpression","start":14863,"end":15470,"callee":{"type":"MemberExpression","start":14863,"end":15439,"object":{"type":"CallExpression","start":14863,"end":15416,"callee":{"type":"MemberExpression","start":14863,"end":14956,"object":{"type":"CallExpression","start":14863,"end":14934,"callee":{"type":"Identifier","start":14863,"end":14875,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":14876,"end":14890,"object":{"type":"ThisExpression","start":14876,"end":14880},"property":{"type":"Identifier","start":14881,"end":14890,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":14892,"end":14910,"object":{"type":"MemberExpression","start":14892,"end":14905,"object":{"type":"ThisExpression","start":14892,"end":14896},"property":{"type":"Identifier","start":14897,"end":14905,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":14906,"end":14910,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":14912,"end":14933,"object":{"type":"MemberExpression","start":14912,"end":14925,"object":{"type":"ThisExpression","start":14912,"end":14916},"property":{"type":"Identifier","start":14917,"end":14925,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":14926,"end":14933,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":14952,"end":14956,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":14957,"end":15415,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":14958,"end":14960,"name":"db"}],"body":{"type":"BlockStatement","start":14965,"end":15415,"body":[{"type":"ExpressionStatement","start":14983,"end":15035,"expression":{"type":"CallExpression","start":14983,"end":15034,"callee":{"type":"Identifier","start":14983,"end":15008,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":15009,"end":15011,"name":"db"},{"type":"Identifier","start":15013,"end":15022,"name":"storeName"},{"type":"MemberExpression","start":15024,"end":15033,"object":{"type":"Identifier","start":15024,"end":15027,"name":"obs"},"property":{"type":"Identifier","start":15028,"end":15033,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":15052,"end":15152,"declarations":[{"type":"VariableDeclarator","start":15058,"end":15151,"id":{"type":"Identifier","start":15058,"end":15069,"name":"transaction"},"init":{"type":"CallExpression","start":15072,"end":15151,"callee":{"type":"Identifier","start":15072,"end":15089,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":15090,"end":15092,"name":"db"},{"type":"CallExpression","start":15094,"end":15150,"callee":{"type":"Identifier","start":15094,"end":15110,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":15111,"end":15127,"object":{"type":"Identifier","start":15111,"end":15117,"name":"DBMode"},"property":{"type":"Identifier","start":15118,"end":15127,"name":"readwrite"},"computed":false,"optional":false},{"type":"Identifier","start":15129,"end":15138,"name":"storeName"},{"type":"MemberExpression","start":15140,"end":15149,"object":{"type":"Identifier","start":15140,"end":15143,"name":"obs"},"property":{"type":"Identifier","start":15144,"end":15149,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":15169,"end":15224,"declarations":[{"type":"VariableDeclarator","start":15175,"end":15223,"id":{"type":"Identifier","start":15175,"end":15186,"name":"objectStore"},"init":{"type":"CallExpression","start":15189,"end":15223,"callee":{"type":"MemberExpression","start":15189,"end":15212,"object":{"type":"Identifier","start":15189,"end":15200,"name":"transaction"},"property":{"type":"Identifier","start":15201,"end":15212,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":15213,"end":15222,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":15241,"end":15261,"expression":{"type":"CallExpression","start":15241,"end":15260,"callee":{"type":"MemberExpression","start":15241,"end":15258,"object":{"type":"Identifier","start":15241,"end":15252,"name":"objectStore"},"property":{"type":"Identifier","start":15253,"end":15258,"name":"clear"},"computed":false,"optional":false},"arguments":[],"optional":false}},{"type":"ExpressionStatement","start":15278,"end":15401,"expression":{"type":"AssignmentExpression","start":15278,"end":15400,"operator":"=","left":{"type":"MemberExpression","start":15278,"end":15300,"object":{"type":"Identifier","start":15278,"end":15289,"name":"transaction"},"property":{"type":"Identifier","start":15290,"end":15300,"name":"oncomplete"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":15303,"end":15400,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":15309,"end":15400,"body":[{"type":"ExpressionStatement","start":15331,"end":15346,"expression":{"type":"CallExpression","start":15331,"end":15345,"callee":{"type":"MemberExpression","start":15331,"end":15339,"object":{"type":"Identifier","start":15331,"end":15334,"name":"obs"},"property":{"type":"Identifier","start":15335,"end":15339,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":15340,"end":15344,"value":true,"raw":"true"}],"optional":false}},{"type":"ExpressionStatement","start":15367,"end":15382,"expression":{"type":"CallExpression","start":15367,"end":15381,"callee":{"type":"MemberExpression","start":15367,"end":15379,"object":{"type":"Identifier","start":15367,"end":15370,"name":"obs"},"property":{"type":"Identifier","start":15371,"end":15379,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":15434,"end":15439,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":15440,"end":15469,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":15441,"end":15447,"name":"reason"}],"body":{"type":"CallExpression","start":15452,"end":15469,"callee":{"type":"MemberExpression","start":15452,"end":15461,"object":{"type":"Identifier","start":15452,"end":15455,"name":"obs"},"property":{"type":"Identifier","start":15456,"end":15461,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":15462,"end":15468,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":15561,"end":16325,"static":false,"computed":false,"key":{"type":"Identifier","start":15561,"end":15575,"name":"deleteDatabase"},"kind":"method","value":{"type":"FunctionExpression","start":15575,"end":16325,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":15578,"end":16325,"body":[{"type":"ReturnStatement","start":15588,"end":16319,"argument":{"type":"NewExpression","start":15595,"end":16318,"callee":{"type":"Identifier","start":15599,"end":15609,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":15610,"end":16317,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":15611,"end":15614,"name":"obs"}],"body":{"type":"BlockStatement","start":15619,"end":16317,"body":[{"type":"ExpressionStatement","start":15633,"end":16307,"expression":{"type":"CallExpression","start":15633,"end":16306,"callee":{"type":"MemberExpression","start":15633,"end":16277,"object":{"type":"CallExpression","start":15633,"end":16254,"callee":{"type":"MemberExpression","start":15633,"end":15726,"object":{"type":"CallExpression","start":15633,"end":15704,"callee":{"type":"Identifier","start":15633,"end":15645,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":15646,"end":15660,"object":{"type":"ThisExpression","start":15646,"end":15650},"property":{"type":"Identifier","start":15651,"end":15660,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":15662,"end":15680,"object":{"type":"MemberExpression","start":15662,"end":15675,"object":{"type":"ThisExpression","start":15662,"end":15666},"property":{"type":"Identifier","start":15667,"end":15675,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":15676,"end":15680,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":15682,"end":15703,"object":{"type":"MemberExpression","start":15682,"end":15695,"object":{"type":"ThisExpression","start":15682,"end":15686},"property":{"type":"Identifier","start":15687,"end":15695,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":15696,"end":15703,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":15722,"end":15726,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":15727,"end":16253,"id":null,"expression":false,"generator":false,"async":true,"params":[{"type":"Identifier","start":15734,"end":15736,"name":"db"}],"body":{"type":"BlockStatement","start":15741,"end":16253,"body":[{"type":"ExpressionStatement","start":15759,"end":15776,"expression":{"type":"AwaitExpression","start":15759,"end":15775,"argument":{"type":"CallExpression","start":15765,"end":15775,"callee":{"type":"MemberExpression","start":15765,"end":15773,"object":{"type":"Identifier","start":15765,"end":15767,"name":"db"},"property":{"type":"Identifier","start":15768,"end":15773,"name":"close"},"computed":false,"optional":false},"arguments":[],"optional":false}}},{"type":"VariableDeclaration","start":15793,"end":15867,"declarations":[{"type":"VariableDeclarator","start":15799,"end":15866,"id":{"type":"Identifier","start":15799,"end":15814,"name":"deleteDBRequest"},"init":{"type":"CallExpression","start":15817,"end":15866,"callee":{"type":"MemberExpression","start":15817,"end":15846,"object":{"type":"MemberExpression","start":15817,"end":15831,"object":{"type":"ThisExpression","start":15817,"end":15821},"property":{"type":"Identifier","start":15822,"end":15831,"name":"indexedDB"},"computed":false,"optional":false},"property":{"type":"Identifier","start":15832,"end":15846,"name":"deleteDatabase"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":15847,"end":15865,"object":{"type":"MemberExpression","start":15847,"end":15860,"object":{"type":"ThisExpression","start":15847,"end":15851},"property":{"type":"Identifier","start":15852,"end":15860,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":15861,"end":15865,"name":"name"},"computed":false,"optional":false}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":15884,"end":16010,"expression":{"type":"AssignmentExpression","start":15884,"end":16009,"operator":"=","left":{"type":"MemberExpression","start":15884,"end":15909,"object":{"type":"Identifier","start":15884,"end":15899,"name":"deleteDBRequest"},"property":{"type":"Identifier","start":15900,"end":15909,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":15912,"end":16009,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":15918,"end":16009,"body":[{"type":"ExpressionStatement","start":15940,"end":15955,"expression":{"type":"CallExpression","start":15940,"end":15954,"callee":{"type":"MemberExpression","start":15940,"end":15948,"object":{"type":"Identifier","start":15940,"end":15943,"name":"obs"},"property":{"type":"Identifier","start":15944,"end":15948,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Literal","start":15949,"end":15953,"value":true,"raw":"true"}],"optional":false}},{"type":"ExpressionStatement","start":15976,"end":15991,"expression":{"type":"CallExpression","start":15976,"end":15990,"callee":{"type":"MemberExpression","start":15976,"end":15988,"object":{"type":"Identifier","start":15976,"end":15979,"name":"obs"},"property":{"type":"Identifier","start":15980,"end":15988,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}},{"type":"ExpressionStatement","start":16027,"end":16081,"expression":{"type":"AssignmentExpression","start":16027,"end":16080,"operator":"=","left":{"type":"MemberExpression","start":16027,"end":16050,"object":{"type":"Identifier","start":16027,"end":16042,"name":"deleteDBRequest"},"property":{"type":"Identifier","start":16043,"end":16050,"name":"onerror"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":16053,"end":16080,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":16054,"end":16059,"name":"error"}],"body":{"type":"CallExpression","start":16064,"end":16080,"callee":{"type":"MemberExpression","start":16064,"end":16073,"object":{"type":"Identifier","start":16064,"end":16067,"name":"obs"},"property":{"type":"Identifier","start":16068,"end":16073,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":16074,"end":16079,"name":"error"}],"optional":false}}}},{"type":"ExpressionStatement","start":16098,"end":16239,"expression":{"type":"AssignmentExpression","start":16098,"end":16238,"operator":"=","left":{"type":"MemberExpression","start":16098,"end":16123,"object":{"type":"Identifier","start":16098,"end":16113,"name":"deleteDBRequest"},"property":{"type":"Identifier","start":16114,"end":16123,"name":"onblocked"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":16126,"end":16238,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":16132,"end":16238,"body":[{"type":"ThrowStatement","start":16154,"end":16220,"argument":{"type":"NewExpression","start":16160,"end":16219,"callee":{"type":"Identifier","start":16164,"end":16169,"name":"Error"},"arguments":[{"type":"TemplateLiteral","start":16170,"end":16218,"expressions":[],"quasis":[{"type":"TemplateElement","start":16171,"end":16217,"value":{"raw":"Unable to delete database because it's blocked","cooked":"Unable to delete database because it's blocked"},"tail":true}]}]}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":16272,"end":16277,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":16278,"end":16305,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":16279,"end":16284,"name":"error"}],"body":{"type":"CallExpression","start":16289,"end":16305,"callee":{"type":"MemberExpression","start":16289,"end":16298,"object":{"type":"Identifier","start":16289,"end":16292,"name":"obs"},"property":{"type":"Identifier","start":16293,"end":16298,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":16299,"end":16304,"name":"error"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":16529,"end":17323,"static":false,"computed":false,"key":{"type":"Identifier","start":16529,"end":16539,"name":"openCursor"},"kind":"method","value":{"type":"FunctionExpression","start":16539,"end":17323,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":16540,"end":16549,"name":"storeName"},{"type":"Identifier","start":16551,"end":16559,"name":"keyRange"}],"body":{"type":"BlockStatement","start":16561,"end":17323,"body":[{"type":"ReturnStatement","start":16571,"end":17317,"argument":{"type":"NewExpression","start":16578,"end":17316,"callee":{"type":"Identifier","start":16582,"end":16592,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":16593,"end":17315,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":16594,"end":16597,"name":"obs"}],"body":{"type":"BlockStatement","start":16602,"end":17315,"body":[{"type":"ExpressionStatement","start":16616,"end":17305,"expression":{"type":"CallExpression","start":16616,"end":17304,"callee":{"type":"MemberExpression","start":16616,"end":17273,"object":{"type":"CallExpression","start":16616,"end":17250,"callee":{"type":"MemberExpression","start":16616,"end":16709,"object":{"type":"CallExpression","start":16616,"end":16687,"callee":{"type":"Identifier","start":16616,"end":16628,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":16629,"end":16643,"object":{"type":"ThisExpression","start":16629,"end":16633},"property":{"type":"Identifier","start":16634,"end":16643,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":16645,"end":16663,"object":{"type":"MemberExpression","start":16645,"end":16658,"object":{"type":"ThisExpression","start":16645,"end":16649},"property":{"type":"Identifier","start":16650,"end":16658,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":16659,"end":16663,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":16665,"end":16686,"object":{"type":"MemberExpression","start":16665,"end":16678,"object":{"type":"ThisExpression","start":16665,"end":16669},"property":{"type":"Identifier","start":16670,"end":16678,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":16679,"end":16686,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":16705,"end":16709,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":16710,"end":17249,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":16711,"end":16713,"name":"db"}],"body":{"type":"BlockStatement","start":16718,"end":17249,"body":[{"type":"ExpressionStatement","start":16736,"end":16788,"expression":{"type":"CallExpression","start":16736,"end":16787,"callee":{"type":"Identifier","start":16736,"end":16761,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":16762,"end":16764,"name":"db"},{"type":"Identifier","start":16766,"end":16775,"name":"storeName"},{"type":"MemberExpression","start":16777,"end":16786,"object":{"type":"Identifier","start":16777,"end":16780,"name":"obs"},"property":{"type":"Identifier","start":16781,"end":16786,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":16805,"end":16904,"declarations":[{"type":"VariableDeclarator","start":16811,"end":16903,"id":{"type":"Identifier","start":16811,"end":16822,"name":"transaction"},"init":{"type":"CallExpression","start":16825,"end":16903,"callee":{"type":"Identifier","start":16825,"end":16842,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":16843,"end":16845,"name":"db"},{"type":"CallExpression","start":16847,"end":16902,"callee":{"type":"Identifier","start":16847,"end":16863,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":16864,"end":16879,"object":{"type":"Identifier","start":16864,"end":16870,"name":"DBMode"},"property":{"type":"Identifier","start":16871,"end":16879,"name":"readonly"},"computed":false,"optional":false},{"type":"Identifier","start":16881,"end":16890,"name":"storeName"},{"type":"MemberExpression","start":16892,"end":16901,"object":{"type":"Identifier","start":16892,"end":16895,"name":"obs"},"property":{"type":"Identifier","start":16896,"end":16901,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":16921,"end":16976,"declarations":[{"type":"VariableDeclarator","start":16927,"end":16975,"id":{"type":"Identifier","start":16927,"end":16938,"name":"objectStore"},"init":{"type":"CallExpression","start":16941,"end":16975,"callee":{"type":"MemberExpression","start":16941,"end":16964,"object":{"type":"Identifier","start":16941,"end":16952,"name":"transaction"},"property":{"type":"Identifier","start":16953,"end":16964,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":16965,"end":16974,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":16993,"end":17094,"declarations":[{"type":"VariableDeclarator","start":16999,"end":17093,"id":{"type":"Identifier","start":16999,"end":17006,"name":"request"},"init":{"type":"ConditionalExpression","start":17009,"end":17093,"test":{"type":"BinaryExpression","start":17009,"end":17031,"left":{"type":"Identifier","start":17009,"end":17017,"name":"keyRange"},"operator":"===","right":{"type":"Identifier","start":17022,"end":17031,"name":"undefined"}},"consequent":{"type":"CallExpression","start":17034,"end":17058,"callee":{"type":"MemberExpression","start":17034,"end":17056,"object":{"type":"Identifier","start":17034,"end":17045,"name":"objectStore"},"property":{"type":"Identifier","start":17046,"end":17056,"name":"openCursor"},"computed":false,"optional":false},"arguments":[],"optional":false},"alternate":{"type":"CallExpression","start":17061,"end":17093,"callee":{"type":"MemberExpression","start":17061,"end":17083,"object":{"type":"Identifier","start":17061,"end":17072,"name":"objectStore"},"property":{"type":"Identifier","start":17073,"end":17083,"name":"openCursor"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":17084,"end":17092,"name":"keyRange"}],"optional":false}}}],"kind":"const"},{"type":"ExpressionStatement","start":17111,"end":17235,"expression":{"type":"AssignmentExpression","start":17111,"end":17234,"operator":"=","left":{"type":"MemberExpression","start":17111,"end":17128,"object":{"type":"Identifier","start":17111,"end":17118,"name":"request"},"property":{"type":"Identifier","start":17119,"end":17128,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":17131,"end":17234,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":17132,"end":17137,"name":"event"}],"body":{"type":"BlockStatement","start":17142,"end":17234,"body":[{"type":"ExpressionStatement","start":17164,"end":17180,"expression":{"type":"CallExpression","start":17164,"end":17179,"callee":{"type":"MemberExpression","start":17164,"end":17172,"object":{"type":"Identifier","start":17164,"end":17167,"name":"obs"},"property":{"type":"Identifier","start":17168,"end":17172,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":17173,"end":17178,"name":"event"}],"optional":false}},{"type":"ExpressionStatement","start":17201,"end":17216,"expression":{"type":"CallExpression","start":17201,"end":17215,"callee":{"type":"MemberExpression","start":17201,"end":17213,"object":{"type":"Identifier","start":17201,"end":17204,"name":"obs"},"property":{"type":"Identifier","start":17205,"end":17213,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":17268,"end":17273,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":17274,"end":17303,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":17275,"end":17281,"name":"reason"}],"body":{"type":"CallExpression","start":17286,"end":17303,"callee":{"type":"MemberExpression","start":17286,"end":17295,"object":{"type":"Identifier","start":17286,"end":17289,"name":"obs"},"property":{"type":"Identifier","start":17290,"end":17295,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":17296,"end":17302,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":17563,"end":18465,"static":false,"computed":false,"key":{"type":"Identifier","start":17563,"end":17580,"name":"openCursorByIndex"},"kind":"method","value":{"type":"FunctionExpression","start":17580,"end":18465,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":17581,"end":17590,"name":"storeName"},{"type":"Identifier","start":17592,"end":17601,"name":"indexName"},{"type":"Identifier","start":17603,"end":17611,"name":"keyRange"},{"type":"AssignmentPattern","start":17613,"end":17635,"left":{"type":"Identifier","start":17613,"end":17617,"name":"mode"},"right":{"type":"MemberExpression","start":17620,"end":17635,"object":{"type":"Identifier","start":17620,"end":17626,"name":"DBMode"},"property":{"type":"Identifier","start":17627,"end":17635,"name":"readonly"},"computed":false,"optional":false}}],"body":{"type":"BlockStatement","start":17637,"end":18465,"body":[{"type":"VariableDeclaration","start":17647,"end":17673,"declarations":[{"type":"VariableDeclarator","start":17653,"end":17672,"id":{"type":"Identifier","start":17653,"end":17656,"name":"obs"},"init":{"type":"NewExpression","start":17659,"end":17672,"callee":{"type":"Identifier","start":17663,"end":17670,"name":"Subject"},"arguments":[]}}],"kind":"const"},{"type":"ExpressionStatement","start":17682,"end":18439,"expression":{"type":"CallExpression","start":17682,"end":18438,"callee":{"type":"MemberExpression","start":17682,"end":18407,"object":{"type":"CallExpression","start":17682,"end":18388,"callee":{"type":"MemberExpression","start":17682,"end":17771,"object":{"type":"CallExpression","start":17682,"end":17753,"callee":{"type":"Identifier","start":17682,"end":17694,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":17695,"end":17709,"object":{"type":"ThisExpression","start":17695,"end":17699},"property":{"type":"Identifier","start":17700,"end":17709,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":17711,"end":17729,"object":{"type":"MemberExpression","start":17711,"end":17724,"object":{"type":"ThisExpression","start":17711,"end":17715},"property":{"type":"Identifier","start":17716,"end":17724,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":17725,"end":17729,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":17731,"end":17752,"object":{"type":"MemberExpression","start":17731,"end":17744,"object":{"type":"ThisExpression","start":17731,"end":17735},"property":{"type":"Identifier","start":17736,"end":17744,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":17745,"end":17752,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":17767,"end":17771,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":17772,"end":18387,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":17773,"end":17775,"name":"db"}],"body":{"type":"BlockStatement","start":17780,"end":18387,"body":[{"type":"ExpressionStatement","start":17794,"end":17899,"expression":{"type":"CallExpression","start":17794,"end":17898,"callee":{"type":"Identifier","start":17794,"end":17819,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":17820,"end":17822,"name":"db"},{"type":"Identifier","start":17824,"end":17833,"name":"storeName"},{"type":"ArrowFunctionExpression","start":17835,"end":17897,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":17836,"end":17842,"name":"reason"}],"body":{"type":"BlockStatement","start":17847,"end":17897,"body":[{"type":"ExpressionStatement","start":17865,"end":17883,"expression":{"type":"CallExpression","start":17865,"end":17882,"callee":{"type":"MemberExpression","start":17865,"end":17874,"object":{"type":"Identifier","start":17865,"end":17868,"name":"obs"},"property":{"type":"Identifier","start":17869,"end":17874,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":17875,"end":17881,"name":"reason"}],"optional":false}}]}}],"optional":false}},{"type":"VariableDeclaration","start":17912,"end":18104,"declarations":[{"type":"VariableDeclarator","start":17918,"end":18103,"id":{"type":"Identifier","start":17918,"end":17929,"name":"transaction"},"init":{"type":"CallExpression","start":17932,"end":18103,"callee":{"type":"Identifier","start":17932,"end":17949,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":17950,"end":17952,"name":"db"},{"type":"CallExpression","start":17954,"end":18102,"callee":{"type":"Identifier","start":17954,"end":17970,"name":"optionsGenerator"},"arguments":[{"type":"Identifier","start":17971,"end":17975,"name":"mode"},{"type":"Identifier","start":17977,"end":17986,"name":"storeName"},{"type":"ArrowFunctionExpression","start":17988,"end":18050,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":17989,"end":17995,"name":"reason"}],"body":{"type":"BlockStatement","start":18000,"end":18050,"body":[{"type":"ExpressionStatement","start":18018,"end":18036,"expression":{"type":"CallExpression","start":18018,"end":18035,"callee":{"type":"MemberExpression","start":18018,"end":18027,"object":{"type":"Identifier","start":18018,"end":18021,"name":"obs"},"property":{"type":"Identifier","start":18022,"end":18027,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":18028,"end":18034,"name":"reason"}],"optional":false}}]}},{"type":"ArrowFunctionExpression","start":18052,"end":18101,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":18058,"end":18101,"body":[{"type":"ExpressionStatement","start":18076,"end":18087,"expression":{"type":"CallExpression","start":18076,"end":18086,"callee":{"type":"MemberExpression","start":18076,"end":18084,"object":{"type":"Identifier","start":18076,"end":18079,"name":"obs"},"property":{"type":"Identifier","start":18080,"end":18084,"name":"next"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":18117,"end":18172,"declarations":[{"type":"VariableDeclarator","start":18123,"end":18171,"id":{"type":"Identifier","start":18123,"end":18134,"name":"objectStore"},"init":{"type":"CallExpression","start":18137,"end":18171,"callee":{"type":"MemberExpression","start":18137,"end":18160,"object":{"type":"Identifier","start":18137,"end":18148,"name":"transaction"},"property":{"type":"Identifier","start":18149,"end":18160,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":18161,"end":18170,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":18185,"end":18228,"declarations":[{"type":"VariableDeclarator","start":18191,"end":18227,"id":{"type":"Identifier","start":18191,"end":18196,"name":"index"},"init":{"type":"CallExpression","start":18199,"end":18227,"callee":{"type":"MemberExpression","start":18199,"end":18216,"object":{"type":"Identifier","start":18199,"end":18210,"name":"objectStore"},"property":{"type":"Identifier","start":18211,"end":18216,"name":"index"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":18217,"end":18226,"name":"indexName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":18241,"end":18284,"declarations":[{"type":"VariableDeclarator","start":18247,"end":18283,"id":{"type":"Identifier","start":18247,"end":18254,"name":"request"},"init":{"type":"CallExpression","start":18257,"end":18283,"callee":{"type":"MemberExpression","start":18257,"end":18273,"object":{"type":"Identifier","start":18257,"end":18262,"name":"index"},"property":{"type":"Identifier","start":18263,"end":18273,"name":"openCursor"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":18274,"end":18282,"name":"keyRange"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":18297,"end":18377,"expression":{"type":"AssignmentExpression","start":18297,"end":18376,"operator":"=","left":{"type":"MemberExpression","start":18297,"end":18314,"object":{"type":"Identifier","start":18297,"end":18304,"name":"request"},"property":{"type":"Identifier","start":18305,"end":18314,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":18317,"end":18376,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":18318,"end":18323,"name":"event"}],"body":{"type":"BlockStatement","start":18328,"end":18376,"body":[{"type":"ExpressionStatement","start":18346,"end":18362,"expression":{"type":"CallExpression","start":18346,"end":18361,"callee":{"type":"MemberExpression","start":18346,"end":18354,"object":{"type":"Identifier","start":18346,"end":18349,"name":"obs"},"property":{"type":"Identifier","start":18350,"end":18354,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":18355,"end":18360,"name":"event"}],"optional":false}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":18402,"end":18407,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":18408,"end":18437,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":18409,"end":18415,"name":"reason"}],"body":{"type":"CallExpression","start":18420,"end":18437,"callee":{"type":"MemberExpression","start":18420,"end":18429,"object":{"type":"Identifier","start":18420,"end":18423,"name":"obs"},"property":{"type":"Identifier","start":18424,"end":18429,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":18430,"end":18436,"name":"reason"}],"optional":false}}],"optional":false}},{"type":"ReturnStatement","start":18448,"end":18459,"argument":{"type":"Identifier","start":18455,"end":18458,"name":"obs"}}]}}},{"type":"MethodDefinition","start":18704,"end":19799,"static":false,"computed":false,"key":{"type":"Identifier","start":18704,"end":18717,"name":"getAllByIndex"},"kind":"method","value":{"type":"FunctionExpression","start":18717,"end":19799,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":18718,"end":18727,"name":"storeName"},{"type":"Identifier","start":18729,"end":18738,"name":"indexName"},{"type":"Identifier","start":18740,"end":18748,"name":"keyRange"}],"body":{"type":"BlockStatement","start":18750,"end":19799,"body":[{"type":"VariableDeclaration","start":18760,"end":18776,"declarations":[{"type":"VariableDeclarator","start":18766,"end":18775,"id":{"type":"Identifier","start":18766,"end":18770,"name":"data"},"init":{"type":"ArrayExpression","start":18773,"end":18775,"elements":[]}}],"kind":"const"},{"type":"ReturnStatement","start":18785,"end":19793,"argument":{"type":"NewExpression","start":18792,"end":19792,"callee":{"type":"Identifier","start":18796,"end":18806,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":18807,"end":19791,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":18808,"end":18811,"name":"obs"}],"body":{"type":"BlockStatement","start":18816,"end":19791,"body":[{"type":"ExpressionStatement","start":18830,"end":19781,"expression":{"type":"CallExpression","start":18830,"end":19780,"callee":{"type":"MemberExpression","start":18830,"end":19749,"object":{"type":"CallExpression","start":18830,"end":19726,"callee":{"type":"MemberExpression","start":18830,"end":18923,"object":{"type":"CallExpression","start":18830,"end":18901,"callee":{"type":"Identifier","start":18830,"end":18842,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":18843,"end":18857,"object":{"type":"ThisExpression","start":18843,"end":18847},"property":{"type":"Identifier","start":18848,"end":18857,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":18859,"end":18877,"object":{"type":"MemberExpression","start":18859,"end":18872,"object":{"type":"ThisExpression","start":18859,"end":18863},"property":{"type":"Identifier","start":18864,"end":18872,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":18873,"end":18877,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":18879,"end":18900,"object":{"type":"MemberExpression","start":18879,"end":18892,"object":{"type":"ThisExpression","start":18879,"end":18883},"property":{"type":"Identifier","start":18884,"end":18892,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":18893,"end":18900,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":18919,"end":18923,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":18924,"end":19725,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":18925,"end":18927,"name":"db"}],"body":{"type":"BlockStatement","start":18932,"end":19725,"body":[{"type":"ExpressionStatement","start":18950,"end":19002,"expression":{"type":"CallExpression","start":18950,"end":19001,"callee":{"type":"Identifier","start":18950,"end":18975,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":18976,"end":18978,"name":"db"},{"type":"Identifier","start":18980,"end":18989,"name":"storeName"},{"type":"MemberExpression","start":18991,"end":19000,"object":{"type":"Identifier","start":18991,"end":18994,"name":"obs"},"property":{"type":"Identifier","start":18995,"end":19000,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":19019,"end":19118,"declarations":[{"type":"VariableDeclarator","start":19025,"end":19117,"id":{"type":"Identifier","start":19025,"end":19036,"name":"transaction"},"init":{"type":"CallExpression","start":19039,"end":19117,"callee":{"type":"Identifier","start":19039,"end":19056,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":19057,"end":19059,"name":"db"},{"type":"CallExpression","start":19061,"end":19116,"callee":{"type":"Identifier","start":19061,"end":19077,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":19078,"end":19093,"object":{"type":"Identifier","start":19078,"end":19084,"name":"DBMode"},"property":{"type":"Identifier","start":19085,"end":19093,"name":"readonly"},"computed":false,"optional":false},{"type":"Identifier","start":19095,"end":19104,"name":"storeName"},{"type":"MemberExpression","start":19106,"end":19115,"object":{"type":"Identifier","start":19106,"end":19109,"name":"obs"},"property":{"type":"Identifier","start":19110,"end":19115,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":19135,"end":19190,"declarations":[{"type":"VariableDeclarator","start":19141,"end":19189,"id":{"type":"Identifier","start":19141,"end":19152,"name":"objectStore"},"init":{"type":"CallExpression","start":19155,"end":19189,"callee":{"type":"MemberExpression","start":19155,"end":19178,"object":{"type":"Identifier","start":19155,"end":19166,"name":"transaction"},"property":{"type":"Identifier","start":19167,"end":19178,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":19179,"end":19188,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":19207,"end":19250,"declarations":[{"type":"VariableDeclarator","start":19213,"end":19249,"id":{"type":"Identifier","start":19213,"end":19218,"name":"index"},"init":{"type":"CallExpression","start":19221,"end":19249,"callee":{"type":"MemberExpression","start":19221,"end":19238,"object":{"type":"Identifier","start":19221,"end":19232,"name":"objectStore"},"property":{"type":"Identifier","start":19233,"end":19238,"name":"index"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":19239,"end":19248,"name":"indexName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":19267,"end":19310,"declarations":[{"type":"VariableDeclarator","start":19273,"end":19309,"id":{"type":"Identifier","start":19273,"end":19280,"name":"request"},"init":{"type":"CallExpression","start":19283,"end":19309,"callee":{"type":"MemberExpression","start":19283,"end":19299,"object":{"type":"Identifier","start":19283,"end":19288,"name":"index"},"property":{"type":"Identifier","start":19289,"end":19299,"name":"openCursor"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":19300,"end":19308,"name":"keyRange"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":19327,"end":19711,"expression":{"type":"AssignmentExpression","start":19327,"end":19710,"operator":"=","left":{"type":"MemberExpression","start":19327,"end":19344,"object":{"type":"Identifier","start":19327,"end":19334,"name":"request"},"property":{"type":"Identifier","start":19335,"end":19344,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":19347,"end":19710,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":19348,"end":19353,"name":"event"}],"body":{"type":"BlockStatement","start":19358,"end":19710,"body":[{"type":"VariableDeclaration","start":19380,"end":19415,"declarations":[{"type":"VariableDeclarator","start":19386,"end":19414,"id":{"type":"Identifier","start":19386,"end":19392,"name":"cursor"},"init":{"type":"MemberExpression","start":19395,"end":19414,"object":{"type":"MemberExpression","start":19395,"end":19407,"object":{"type":"Identifier","start":19395,"end":19400,"name":"event"},"property":{"type":"Identifier","start":19401,"end":19407,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":19408,"end":19414,"name":"result"},"computed":false,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":19436,"end":19692,"test":{"type":"Identifier","start":19440,"end":19446,"name":"cursor"},"consequent":{"type":"BlockStatement","start":19448,"end":19563,"body":[{"type":"ExpressionStatement","start":19474,"end":19498,"expression":{"type":"CallExpression","start":19474,"end":19497,"callee":{"type":"MemberExpression","start":19474,"end":19483,"object":{"type":"Identifier","start":19474,"end":19478,"name":"data"},"property":{"type":"Identifier","start":19479,"end":19483,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":19484,"end":19496,"object":{"type":"Identifier","start":19484,"end":19490,"name":"cursor"},"property":{"type":"Identifier","start":19491,"end":19496,"name":"value"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":19523,"end":19541,"expression":{"type":"CallExpression","start":19523,"end":19540,"callee":{"type":"MemberExpression","start":19523,"end":19538,"object":{"type":"Identifier","start":19523,"end":19529,"name":"cursor"},"property":{"type":"Identifier","start":19530,"end":19538,"name":"continue"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":{"type":"BlockStatement","start":19589,"end":19692,"body":[{"type":"ExpressionStatement","start":19615,"end":19630,"expression":{"type":"CallExpression","start":19615,"end":19629,"callee":{"type":"MemberExpression","start":19615,"end":19623,"object":{"type":"Identifier","start":19615,"end":19618,"name":"obs"},"property":{"type":"Identifier","start":19619,"end":19623,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":19624,"end":19628,"name":"data"}],"optional":false}},{"type":"ExpressionStatement","start":19655,"end":19670,"expression":{"type":"CallExpression","start":19655,"end":19669,"callee":{"type":"MemberExpression","start":19655,"end":19667,"object":{"type":"Identifier","start":19655,"end":19658,"name":"obs"},"property":{"type":"Identifier","start":19659,"end":19667,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":19744,"end":19749,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":19750,"end":19779,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":19751,"end":19757,"name":"reason"}],"body":{"type":"CallExpression","start":19762,"end":19779,"callee":{"type":"MemberExpression","start":19762,"end":19771,"object":{"type":"Identifier","start":19762,"end":19765,"name":"obs"},"property":{"type":"Identifier","start":19766,"end":19771,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":19772,"end":19778,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":20045,"end":21185,"static":false,"computed":false,"key":{"type":"Identifier","start":20045,"end":20062,"name":"getAllKeysByIndex"},"kind":"method","value":{"type":"FunctionExpression","start":20062,"end":21185,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":20063,"end":20072,"name":"storeName"},{"type":"Identifier","start":20074,"end":20083,"name":"indexName"},{"type":"Identifier","start":20085,"end":20093,"name":"keyRange"}],"body":{"type":"BlockStatement","start":20095,"end":21185,"body":[{"type":"VariableDeclaration","start":20105,"end":20121,"declarations":[{"type":"VariableDeclarator","start":20111,"end":20120,"id":{"type":"Identifier","start":20111,"end":20115,"name":"data"},"init":{"type":"ArrayExpression","start":20118,"end":20120,"elements":[]}}],"kind":"const"},{"type":"ReturnStatement","start":20130,"end":21179,"argument":{"type":"NewExpression","start":20137,"end":21178,"callee":{"type":"Identifier","start":20141,"end":20151,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":20152,"end":21177,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":20153,"end":20156,"name":"obs"}],"body":{"type":"BlockStatement","start":20161,"end":21177,"body":[{"type":"ExpressionStatement","start":20175,"end":21167,"expression":{"type":"CallExpression","start":20175,"end":21166,"callee":{"type":"MemberExpression","start":20175,"end":21135,"object":{"type":"CallExpression","start":20175,"end":21112,"callee":{"type":"MemberExpression","start":20175,"end":20268,"object":{"type":"CallExpression","start":20175,"end":20246,"callee":{"type":"Identifier","start":20175,"end":20187,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":20188,"end":20202,"object":{"type":"ThisExpression","start":20188,"end":20192},"property":{"type":"Identifier","start":20193,"end":20202,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":20204,"end":20222,"object":{"type":"MemberExpression","start":20204,"end":20217,"object":{"type":"ThisExpression","start":20204,"end":20208},"property":{"type":"Identifier","start":20209,"end":20217,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":20218,"end":20222,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":20224,"end":20245,"object":{"type":"MemberExpression","start":20224,"end":20237,"object":{"type":"ThisExpression","start":20224,"end":20228},"property":{"type":"Identifier","start":20229,"end":20237,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":20238,"end":20245,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":20264,"end":20268,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":20269,"end":21111,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":20270,"end":20272,"name":"db"}],"body":{"type":"BlockStatement","start":20277,"end":21111,"body":[{"type":"ExpressionStatement","start":20295,"end":20347,"expression":{"type":"CallExpression","start":20295,"end":20346,"callee":{"type":"Identifier","start":20295,"end":20320,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":20321,"end":20323,"name":"db"},{"type":"Identifier","start":20325,"end":20334,"name":"storeName"},{"type":"MemberExpression","start":20336,"end":20345,"object":{"type":"Identifier","start":20336,"end":20339,"name":"obs"},"property":{"type":"Identifier","start":20340,"end":20345,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":20364,"end":20463,"declarations":[{"type":"VariableDeclarator","start":20370,"end":20462,"id":{"type":"Identifier","start":20370,"end":20381,"name":"transaction"},"init":{"type":"CallExpression","start":20384,"end":20462,"callee":{"type":"Identifier","start":20384,"end":20401,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":20402,"end":20404,"name":"db"},{"type":"CallExpression","start":20406,"end":20461,"callee":{"type":"Identifier","start":20406,"end":20422,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":20423,"end":20438,"object":{"type":"Identifier","start":20423,"end":20429,"name":"DBMode"},"property":{"type":"Identifier","start":20430,"end":20438,"name":"readonly"},"computed":false,"optional":false},{"type":"Identifier","start":20440,"end":20449,"name":"storeName"},{"type":"MemberExpression","start":20451,"end":20460,"object":{"type":"Identifier","start":20451,"end":20454,"name":"obs"},"property":{"type":"Identifier","start":20455,"end":20460,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":20480,"end":20535,"declarations":[{"type":"VariableDeclarator","start":20486,"end":20534,"id":{"type":"Identifier","start":20486,"end":20497,"name":"objectStore"},"init":{"type":"CallExpression","start":20500,"end":20534,"callee":{"type":"MemberExpression","start":20500,"end":20523,"object":{"type":"Identifier","start":20500,"end":20511,"name":"transaction"},"property":{"type":"Identifier","start":20512,"end":20523,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":20524,"end":20533,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":20552,"end":20595,"declarations":[{"type":"VariableDeclarator","start":20558,"end":20594,"id":{"type":"Identifier","start":20558,"end":20563,"name":"index"},"init":{"type":"CallExpression","start":20566,"end":20594,"callee":{"type":"MemberExpression","start":20566,"end":20583,"object":{"type":"Identifier","start":20566,"end":20577,"name":"objectStore"},"property":{"type":"Identifier","start":20578,"end":20583,"name":"index"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":20584,"end":20593,"name":"indexName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":20612,"end":20658,"declarations":[{"type":"VariableDeclarator","start":20618,"end":20657,"id":{"type":"Identifier","start":20618,"end":20625,"name":"request"},"init":{"type":"CallExpression","start":20628,"end":20657,"callee":{"type":"MemberExpression","start":20628,"end":20647,"object":{"type":"Identifier","start":20628,"end":20633,"name":"index"},"property":{"type":"Identifier","start":20634,"end":20647,"name":"openKeyCursor"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":20648,"end":20656,"name":"keyRange"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":20675,"end":21097,"expression":{"type":"AssignmentExpression","start":20675,"end":21096,"operator":"=","left":{"type":"MemberExpression","start":20675,"end":20692,"object":{"type":"Identifier","start":20675,"end":20682,"name":"request"},"property":{"type":"Identifier","start":20683,"end":20692,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":20695,"end":21096,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":20696,"end":20701,"name":"event"}],"body":{"type":"BlockStatement","start":20706,"end":21096,"body":[{"type":"VariableDeclaration","start":20728,"end":20763,"declarations":[{"type":"VariableDeclarator","start":20734,"end":20762,"id":{"type":"Identifier","start":20734,"end":20740,"name":"cursor"},"init":{"type":"MemberExpression","start":20743,"end":20762,"object":{"type":"MemberExpression","start":20743,"end":20755,"object":{"type":"Identifier","start":20743,"end":20748,"name":"event"},"property":{"type":"Identifier","start":20749,"end":20755,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":20756,"end":20762,"name":"result"},"computed":false,"optional":false}}],"kind":"const"},{"type":"IfStatement","start":20784,"end":21078,"test":{"type":"Identifier","start":20788,"end":20794,"name":"cursor"},"consequent":{"type":"BlockStatement","start":20796,"end":20949,"body":[{"type":"ExpressionStatement","start":20822,"end":20884,"expression":{"type":"CallExpression","start":20822,"end":20883,"callee":{"type":"MemberExpression","start":20822,"end":20831,"object":{"type":"Identifier","start":20822,"end":20826,"name":"data"},"property":{"type":"Identifier","start":20827,"end":20831,"name":"push"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":20832,"end":20882,"properties":[{"type":"Property","start":20834,"end":20863,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":20834,"end":20844,"name":"primaryKey"},"value":{"type":"MemberExpression","start":20846,"end":20863,"object":{"type":"Identifier","start":20846,"end":20852,"name":"cursor"},"property":{"type":"Identifier","start":20853,"end":20863,"name":"primaryKey"},"computed":false,"optional":false},"kind":"init"},{"type":"Property","start":20865,"end":20880,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":20865,"end":20868,"name":"key"},"value":{"type":"MemberExpression","start":20870,"end":20880,"object":{"type":"Identifier","start":20870,"end":20876,"name":"cursor"},"property":{"type":"Identifier","start":20877,"end":20880,"name":"key"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false}},{"type":"ExpressionStatement","start":20909,"end":20927,"expression":{"type":"CallExpression","start":20909,"end":20926,"callee":{"type":"MemberExpression","start":20909,"end":20924,"object":{"type":"Identifier","start":20909,"end":20915,"name":"cursor"},"property":{"type":"Identifier","start":20916,"end":20924,"name":"continue"},"computed":false,"optional":false},"arguments":[],"optional":false}}]},"alternate":{"type":"BlockStatement","start":20975,"end":21078,"body":[{"type":"ExpressionStatement","start":21001,"end":21016,"expression":{"type":"CallExpression","start":21001,"end":21015,"callee":{"type":"MemberExpression","start":21001,"end":21009,"object":{"type":"Identifier","start":21001,"end":21004,"name":"obs"},"property":{"type":"Identifier","start":21005,"end":21009,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":21010,"end":21014,"name":"data"}],"optional":false}},{"type":"ExpressionStatement","start":21041,"end":21056,"expression":{"type":"CallExpression","start":21041,"end":21055,"callee":{"type":"MemberExpression","start":21041,"end":21053,"object":{"type":"Identifier","start":21041,"end":21044,"name":"obs"},"property":{"type":"Identifier","start":21045,"end":21053,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":21130,"end":21135,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":21136,"end":21165,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":21137,"end":21143,"name":"reason"}],"body":{"type":"CallExpression","start":21148,"end":21165,"callee":{"type":"MemberExpression","start":21148,"end":21157,"object":{"type":"Identifier","start":21148,"end":21151,"name":"obs"},"property":{"type":"Identifier","start":21152,"end":21157,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":21158,"end":21164,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":21370,"end":22163,"static":false,"computed":false,"key":{"type":"Identifier","start":21370,"end":21375,"name":"count"},"kind":"method","value":{"type":"FunctionExpression","start":21375,"end":22163,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":21376,"end":21385,"name":"storeName"},{"type":"Identifier","start":21387,"end":21395,"name":"keyRange"}],"body":{"type":"BlockStatement","start":21397,"end":22163,"body":[{"type":"ReturnStatement","start":21407,"end":22157,"argument":{"type":"NewExpression","start":21414,"end":22156,"callee":{"type":"Identifier","start":21418,"end":21428,"name":"Observable"},"arguments":[{"type":"ArrowFunctionExpression","start":21429,"end":22155,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":21430,"end":21433,"name":"obs"}],"body":{"type":"BlockStatement","start":21438,"end":22155,"body":[{"type":"ExpressionStatement","start":21452,"end":22145,"expression":{"type":"CallExpression","start":21452,"end":22144,"callee":{"type":"MemberExpression","start":21452,"end":22113,"object":{"type":"CallExpression","start":21452,"end":22090,"callee":{"type":"MemberExpression","start":21452,"end":21545,"object":{"type":"CallExpression","start":21452,"end":21523,"callee":{"type":"Identifier","start":21452,"end":21464,"name":"openDatabase"},"arguments":[{"type":"MemberExpression","start":21465,"end":21479,"object":{"type":"ThisExpression","start":21465,"end":21469},"property":{"type":"Identifier","start":21470,"end":21479,"name":"indexedDB"},"computed":false,"optional":false},{"type":"MemberExpression","start":21481,"end":21499,"object":{"type":"MemberExpression","start":21481,"end":21494,"object":{"type":"ThisExpression","start":21481,"end":21485},"property":{"type":"Identifier","start":21486,"end":21494,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":21495,"end":21499,"name":"name"},"computed":false,"optional":false},{"type":"MemberExpression","start":21501,"end":21522,"object":{"type":"MemberExpression","start":21501,"end":21514,"object":{"type":"ThisExpression","start":21501,"end":21505},"property":{"type":"Identifier","start":21506,"end":21514,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":21515,"end":21522,"name":"version"},"computed":false,"optional":false}],"optional":false},"property":{"type":"Identifier","start":21541,"end":21545,"name":"then"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":21546,"end":22089,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":21547,"end":21549,"name":"db"}],"body":{"type":"BlockStatement","start":21554,"end":22089,"body":[{"type":"ExpressionStatement","start":21572,"end":21624,"expression":{"type":"CallExpression","start":21572,"end":21623,"callee":{"type":"Identifier","start":21572,"end":21597,"name":"validateBeforeTransaction"},"arguments":[{"type":"Identifier","start":21598,"end":21600,"name":"db"},{"type":"Identifier","start":21602,"end":21611,"name":"storeName"},{"type":"MemberExpression","start":21613,"end":21622,"object":{"type":"Identifier","start":21613,"end":21616,"name":"obs"},"property":{"type":"Identifier","start":21617,"end":21622,"name":"error"},"computed":false,"optional":false}],"optional":false}},{"type":"VariableDeclaration","start":21641,"end":21740,"declarations":[{"type":"VariableDeclarator","start":21647,"end":21739,"id":{"type":"Identifier","start":21647,"end":21658,"name":"transaction"},"init":{"type":"CallExpression","start":21661,"end":21739,"callee":{"type":"Identifier","start":21661,"end":21678,"name":"createTransaction"},"arguments":[{"type":"Identifier","start":21679,"end":21681,"name":"db"},{"type":"CallExpression","start":21683,"end":21738,"callee":{"type":"Identifier","start":21683,"end":21699,"name":"optionsGenerator"},"arguments":[{"type":"MemberExpression","start":21700,"end":21715,"object":{"type":"Identifier","start":21700,"end":21706,"name":"DBMode"},"property":{"type":"Identifier","start":21707,"end":21715,"name":"readonly"},"computed":false,"optional":false},{"type":"Identifier","start":21717,"end":21726,"name":"storeName"},{"type":"MemberExpression","start":21728,"end":21737,"object":{"type":"Identifier","start":21728,"end":21731,"name":"obs"},"property":{"type":"Identifier","start":21732,"end":21737,"name":"error"},"computed":false,"optional":false}],"optional":false}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":21757,"end":21812,"declarations":[{"type":"VariableDeclarator","start":21763,"end":21811,"id":{"type":"Identifier","start":21763,"end":21774,"name":"objectStore"},"init":{"type":"CallExpression","start":21777,"end":21811,"callee":{"type":"MemberExpression","start":21777,"end":21800,"object":{"type":"Identifier","start":21777,"end":21788,"name":"transaction"},"property":{"type":"Identifier","start":21789,"end":21800,"name":"objectStore"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":21801,"end":21810,"name":"storeName"}],"optional":false}}],"kind":"const"},{"type":"VariableDeclaration","start":21829,"end":21873,"declarations":[{"type":"VariableDeclarator","start":21835,"end":21872,"id":{"type":"Identifier","start":21835,"end":21842,"name":"request"},"init":{"type":"CallExpression","start":21845,"end":21872,"callee":{"type":"MemberExpression","start":21845,"end":21862,"object":{"type":"Identifier","start":21845,"end":21856,"name":"objectStore"},"property":{"type":"Identifier","start":21857,"end":21862,"name":"count"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":21863,"end":21871,"name":"keyRange"}],"optional":false}}],"kind":"const"},{"type":"ExpressionStatement","start":21890,"end":21928,"expression":{"type":"AssignmentExpression","start":21890,"end":21927,"operator":"=","left":{"type":"MemberExpression","start":21890,"end":21905,"object":{"type":"Identifier","start":21890,"end":21897,"name":"request"},"property":{"type":"Identifier","start":21898,"end":21905,"name":"onerror"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":21908,"end":21927,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":21909,"end":21910,"name":"e"}],"body":{"type":"CallExpression","start":21915,"end":21927,"callee":{"type":"MemberExpression","start":21915,"end":21924,"object":{"type":"Identifier","start":21915,"end":21918,"name":"obs"},"property":{"type":"Identifier","start":21919,"end":21924,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":21925,"end":21926,"name":"e"}],"optional":false}}}},{"type":"ExpressionStatement","start":21945,"end":22075,"expression":{"type":"AssignmentExpression","start":21945,"end":22074,"operator":"=","left":{"type":"MemberExpression","start":21945,"end":21962,"object":{"type":"Identifier","start":21945,"end":21952,"name":"request"},"property":{"type":"Identifier","start":21953,"end":21962,"name":"onsuccess"},"computed":false,"optional":false},"right":{"type":"ArrowFunctionExpression","start":21965,"end":22074,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":21966,"end":21967,"name":"e"}],"body":{"type":"BlockStatement","start":21972,"end":22074,"body":[{"type":"ExpressionStatement","start":21994,"end":22020,"expression":{"type":"CallExpression","start":21994,"end":22019,"callee":{"type":"MemberExpression","start":21994,"end":22002,"object":{"type":"Identifier","start":21994,"end":21997,"name":"obs"},"property":{"type":"Identifier","start":21998,"end":22002,"name":"next"},"computed":false,"optional":false},"arguments":[{"type":"MemberExpression","start":22003,"end":22018,"object":{"type":"MemberExpression","start":22003,"end":22011,"object":{"type":"Identifier","start":22003,"end":22004,"name":"e"},"property":{"type":"Identifier","start":22005,"end":22011,"name":"target"},"computed":false,"optional":false},"property":{"type":"Identifier","start":22012,"end":22018,"name":"result"},"computed":false,"optional":false}],"optional":false}},{"type":"ExpressionStatement","start":22041,"end":22056,"expression":{"type":"CallExpression","start":22041,"end":22055,"callee":{"type":"MemberExpression","start":22041,"end":22053,"object":{"type":"Identifier","start":22041,"end":22044,"name":"obs"},"property":{"type":"Identifier","start":22045,"end":22053,"name":"complete"},"computed":false,"optional":false},"arguments":[],"optional":false}}]}}}}]}}],"optional":false},"property":{"type":"Identifier","start":22108,"end":22113,"name":"catch"},"computed":false,"optional":false},"arguments":[{"type":"ArrowFunctionExpression","start":22114,"end":22143,"id":null,"expression":true,"generator":false,"async":false,"params":[{"type":"Identifier","start":22115,"end":22121,"name":"reason"}],"body":{"type":"CallExpression","start":22126,"end":22143,"callee":{"type":"MemberExpression","start":22126,"end":22135,"object":{"type":"Identifier","start":22126,"end":22129,"name":"obs"},"property":{"type":"Identifier","start":22130,"end":22135,"name":"error"},"computed":false,"optional":false},"arguments":[{"type":"Identifier","start":22136,"end":22142,"name":"reason"}],"optional":false}}],"optional":false}}]}}]}}]}}},{"type":"MethodDefinition","start":22272,"end":22398,"static":false,"computed":false,"key":{"type":"Identifier","start":22272,"end":22289,"name":"deleteObjectStore"},"kind":"method","value":{"type":"FunctionExpression","start":22289,"end":22398,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":22290,"end":22299,"name":"storeName"}],"body":{"type":"BlockStatement","start":22301,"end":22398,"body":[{"type":"ReturnStatement","start":22311,"end":22392,"argument":{"type":"CallExpression","start":22318,"end":22391,"callee":{"type":"Identifier","start":22318,"end":22335,"name":"DeleteObjectStore"},"arguments":[{"type":"MemberExpression","start":22336,"end":22354,"object":{"type":"MemberExpression","start":22336,"end":22349,"object":{"type":"ThisExpression","start":22336,"end":22340},"property":{"type":"Identifier","start":22341,"end":22349,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":22350,"end":22354,"name":"name"},"computed":false,"optional":false},{"type":"UpdateExpression","start":22356,"end":22379,"operator":"++","prefix":true,"argument":{"type":"MemberExpression","start":22358,"end":22379,"object":{"type":"MemberExpression","start":22358,"end":22371,"object":{"type":"ThisExpression","start":22358,"end":22362},"property":{"type":"Identifier","start":22363,"end":22371,"name":"dbConfig"},"computed":false,"optional":false},"property":{"type":"Identifier","start":22372,"end":22379,"name":"version"},"computed":false,"optional":false}},{"type":"Identifier","start":22381,"end":22390,"name":"storeName"}],"optional":false}}]}}}]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":22401,"end":22632,"expression":{"type":"AssignmentExpression","start":22401,"end":22631,"operator":"=","left":{"type":"MemberExpression","start":22401,"end":22425,"object":{"type":"Identifier","start":22401,"end":22420,"name":"NgxIndexedDBService"},"property":{"type":"Identifier","start":22421,"end":22425,"name":"ɵfac"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":22428,"end":22631,"callee":{"type":"MemberExpression","start":22428,"end":22449,"object":{"type":"Identifier","start":22428,"end":22430,"name":"i0"},"property":{"type":"Identifier","start":22431,"end":22449,"name":"ɵɵngDeclareFactory"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":22450,"end":22630,"properties":[{"type":"Property","start":22452,"end":22472,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22452,"end":22462,"name":"minVersion"},"value":{"type":"Literal","start":22464,"end":22472,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":22474,"end":22491,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22474,"end":22481,"name":"version"},"value":{"type":"Literal","start":22483,"end":22491,"value":"13.2.0","raw":"\"13.2.0\""},"kind":"init"},{"type":"Property","start":22493,"end":22505,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22493,"end":22501,"name":"ngImport"},"value":{"type":"Identifier","start":22503,"end":22505,"name":"i0"},"kind":"init"},{"type":"Property","start":22507,"end":22532,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22507,"end":22511,"name":"type"},"value":{"type":"Identifier","start":22513,"end":22532,"name":"NgxIndexedDBService"},"kind":"init"},{"type":"Property","start":22534,"end":22589,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22534,"end":22538,"name":"deps"},"value":{"type":"ArrayExpression","start":22540,"end":22589,"elements":[{"type":"ObjectExpression","start":22541,"end":22564,"properties":[{"type":"Property","start":22543,"end":22562,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22543,"end":22548,"name":"token"},"value":{"type":"Identifier","start":22550,"end":22562,"name":"CONFIG_TOKEN"},"kind":"init"}]},{"type":"ObjectExpression","start":22566,"end":22588,"properties":[{"type":"Property","start":22568,"end":22586,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22568,"end":22573,"name":"token"},"value":{"type":"Identifier","start":22575,"end":22586,"name":"PLATFORM_ID"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":22591,"end":22628,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22591,"end":22597,"name":"target"},"value":{"type":"MemberExpression","start":22599,"end":22628,"object":{"type":"MemberExpression","start":22599,"end":22617,"object":{"type":"Identifier","start":22599,"end":22601,"name":"i0"},"property":{"type":"Identifier","start":22602,"end":22617,"name":"ɵɵFactoryTarget"},"computed":false,"optional":false},"property":{"type":"Identifier","start":22618,"end":22628,"name":"Injectable"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":22633,"end":22772,"expression":{"type":"AssignmentExpression","start":22633,"end":22771,"operator":"=","left":{"type":"MemberExpression","start":22633,"end":22658,"object":{"type":"Identifier","start":22633,"end":22652,"name":"NgxIndexedDBService"},"property":{"type":"Identifier","start":22653,"end":22658,"name":"ɵprov"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":22661,"end":22771,"callee":{"type":"MemberExpression","start":22661,"end":22685,"object":{"type":"Identifier","start":22661,"end":22663,"name":"i0"},"property":{"type":"Identifier","start":22664,"end":22685,"name":"ɵɵngDeclareInjectable"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":22686,"end":22770,"properties":[{"type":"Property","start":22688,"end":22708,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22688,"end":22698,"name":"minVersion"},"value":{"type":"Literal","start":22700,"end":22708,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":22710,"end":22727,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22710,"end":22717,"name":"version"},"value":{"type":"Literal","start":22719,"end":22727,"value":"13.2.0","raw":"\"13.2.0\""},"kind":"init"},{"type":"Property","start":22729,"end":22741,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22729,"end":22737,"name":"ngImport"},"value":{"type":"Identifier","start":22739,"end":22741,"name":"i0"},"kind":"init"},{"type":"Property","start":22743,"end":22768,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22743,"end":22747,"name":"type"},"value":{"type":"Identifier","start":22749,"end":22768,"name":"NgxIndexedDBService"},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":22773,"end":23246,"expression":{"type":"CallExpression","start":22773,"end":23245,"callee":{"type":"MemberExpression","start":22773,"end":22800,"object":{"type":"Identifier","start":22773,"end":22775,"name":"i0"},"property":{"type":"Identifier","start":22776,"end":22800,"name":"ɵɵngDeclareClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":22801,"end":23244,"properties":[{"type":"Property","start":22803,"end":22823,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22803,"end":22813,"name":"minVersion"},"value":{"type":"Literal","start":22815,"end":22823,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":22825,"end":22842,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22825,"end":22832,"name":"version"},"value":{"type":"Literal","start":22834,"end":22842,"value":"13.2.0","raw":"\"13.2.0\""},"kind":"init"},{"type":"Property","start":22844,"end":22856,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22844,"end":22852,"name":"ngImport"},"value":{"type":"Identifier","start":22854,"end":22856,"name":"i0"},"kind":"init"},{"type":"Property","start":22858,"end":22883,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22858,"end":22862,"name":"type"},"value":{"type":"Identifier","start":22864,"end":22883,"name":"NgxIndexedDBService"},"kind":"init"},{"type":"Property","start":22885,"end":22939,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22885,"end":22895,"name":"decorators"},"value":{"type":"ArrayExpression","start":22897,"end":22939,"elements":[{"type":"ObjectExpression","start":22898,"end":22938,"properties":[{"type":"Property","start":22912,"end":22928,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22912,"end":22916,"name":"type"},"value":{"type":"Identifier","start":22918,"end":22928,"name":"Injectable"},"kind":"init"}]}]},"kind":"init"},{"type":"Property","start":22941,"end":23242,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22941,"end":22955,"name":"ctorParameters"},"value":{"type":"FunctionExpression","start":22957,"end":23242,"id":null,"expression":false,"generator":false,"async":false,"params":[],"body":{"type":"BlockStatement","start":22969,"end":23242,"body":[{"type":"ReturnStatement","start":22971,"end":23240,"argument":{"type":"ArrayExpression","start":22978,"end":23239,"elements":[{"type":"ObjectExpression","start":22979,"end":23108,"properties":[{"type":"Property","start":22981,"end":22996,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22981,"end":22985,"name":"type"},"value":{"type":"Identifier","start":22987,"end":22996,"name":"undefined"},"kind":"init"},{"type":"Property","start":22998,"end":23106,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":22998,"end":23008,"name":"decorators"},"value":{"type":"ArrayExpression","start":23010,"end":23106,"elements":[{"type":"ObjectExpression","start":23011,"end":23105,"properties":[{"type":"Property","start":23033,"end":23045,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":23033,"end":23037,"name":"type"},"value":{"type":"Identifier","start":23039,"end":23045,"name":"Inject"},"kind":"init"},{"type":"Property","start":23067,"end":23087,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":23067,"end":23071,"name":"args"},"value":{"type":"ArrayExpression","start":23073,"end":23087,"elements":[{"type":"Identifier","start":23074,"end":23086,"name":"CONFIG_TOKEN"}]},"kind":"init"}]}]},"kind":"init"}]},{"type":"ObjectExpression","start":23110,"end":23238,"properties":[{"type":"Property","start":23112,"end":23127,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":23112,"end":23116,"name":"type"},"value":{"type":"Identifier","start":23118,"end":23127,"name":"undefined"},"kind":"init"},{"type":"Property","start":23129,"end":23236,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":23129,"end":23139,"name":"decorators"},"value":{"type":"ArrayExpression","start":23141,"end":23236,"elements":[{"type":"ObjectExpression","start":23142,"end":23235,"properties":[{"type":"Property","start":23164,"end":23176,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":23164,"end":23168,"name":"type"},"value":{"type":"Identifier","start":23170,"end":23176,"name":"Inject"},"kind":"init"},{"type":"Property","start":23198,"end":23217,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":23198,"end":23202,"name":"args"},"value":{"type":"ArrayExpression","start":23204,"end":23217,"elements":[{"type":"Identifier","start":23205,"end":23216,"name":"PLATFORM_ID"}]},"kind":"init"}]}]},"kind":"init"}]}]}}]}},"kind":"init"}]}],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9saWIvbmd4LWluZGV4ZWQtZGIuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDaEUsT0FBTyxFQUFFLFlBQVksRUFBRSxpQkFBaUIsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3RGLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxnQkFBZ0IsRUFBRSx5QkFBeUIsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUMxRixPQUFPLEVBQUUsWUFBWSxFQUFnRCxNQUFNLEVBQVUsTUFBTSx1QkFBdUIsQ0FBQztBQUNuSCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ2hFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFHdEMsTUFBTSxPQUFPLG1CQUFtQjtJQUk5QixZQUEwQyxRQUFrQixFQUErQixVQUFlO1FBQWhFLGFBQVEsR0FBUixRQUFRLENBQVU7UUFBK0IsZUFBVSxHQUFWLFVBQVUsQ0FBSztRQUN4RyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRTtZQUNsQixNQUFNLElBQUksS0FBSyxDQUFDLCtEQUErRCxDQUFDLENBQUM7U0FDbEY7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRTtZQUNyQixNQUFNLElBQUksS0FBSyxDQUFDLG1FQUFtRSxDQUFDLENBQUM7U0FDdEY7UUFDRCxJQUFJLENBQUMsU0FBUyxHQUFHLGlCQUFpQixDQUFDLElBQUksQ0FBQyxV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QUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNyRixDQUFDOztnSEE5akJVLG1CQUFtQixrQkFJVixZQUFZLGFBQXNDLFdBQVc7b0hBSnRFLG1CQUFtQjsyRkFBbkIsbUJBQW1CO2tCQUQvQixVQUFVOzswQkFLSSxNQUFNOzJCQUFDLFlBQVk7OzBCQUErQixNQUFNOzJCQUFDLFdBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbmplY3QsIFBMQVRGT1JNX0lEIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBvcGVuRGF0YWJhc2UsIENyZWF0ZU9iamVjdFN0b3JlLCBEZWxldGVPYmplY3RTdG9yZSB9IGZyb20gJy4vbmd4LWluZGV4ZWQtZGInO1xuaW1wb3J0IHsgY3JlYXRlVHJhbnNhY3Rpb24sIG9wdGlvbnNHZW5lcmF0b3IsIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24gfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBDT05GSUdfVE9LRU4sIERCQ29uZmlnLCBLZXksIFJlcXVlc3RFdmVudCwgT2JqZWN0U3RvcmVNZXRhLCBEQk1vZGUsIFdpdGhJRCB9IGZyb20gJy4vbmd4LWluZGV4ZWQtZGIubWV0YSc7XG5pbXBvcnQgeyBpc1BsYXRmb3JtQnJvd3NlciB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0LCBjb21iaW5lTGF0ZXN0LCBmcm9tIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0YWtlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTmd4SW5kZXhlZERCU2VydmljZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgaXNCcm93c2VyOiBib29sZWFuO1xuICBwcml2YXRlIGluZGV4ZWREQjogSURCRmFjdG9yeTtcblxuICBjb25zdHJ1Y3RvcihASW5qZWN0KENPTkZJR19UT0tFTikgcHJpdmF0ZSBkYkNvbmZpZzogREJDb25maWcsIEBJbmplY3QoUExBVEZPUk1fSUQpIHByaXZhdGUgcGxhdGZvcm1JZDogYW55KSB7XG4gICAgaWYgKCFkYkNvbmZpZy5uYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05neEluZGV4ZWREQjogUGxlYXNlLCBwcm92aWRlIHRoZSBkYk5hbWUgaW4gdGhlIGNvbmZpZ3VyYXRpb24nKTtcbiAgICB9XG4gICAgaWYgKCFkYkNvbmZpZy52ZXJzaW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05neEluZGV4ZWREQjogUGxlYXNlLCBwcm92aWRlIHRoZSBkYiB2ZXJzaW9uIGluIHRoZSBjb25maWd1cmF0aW9uJyk7XG4gICAgfVxuICAgIHRoaXMuaXNCcm93c2VyID0gaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKTtcbiAgICBpZiAodGhpcy5pc0Jyb3dzZXIpIHtcbiAgICAgIHRoaXMuaW5kZXhlZERCID1cbiAgICAgICAgd2luZG93LmluZGV4ZWREQiB8fFxuICAgICAgICAod2luZG93IGFzIGFueSkubW96SW5kZXhlZERCIHx8XG4gICAgICAgICh3aW5kb3cgYXMgYW55KS53ZWJraXRJbmRleGVkREIgfHxcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLm1zSW5kZXhlZERCO1xuXG4gICAgICBDcmVhdGVPYmplY3RTdG9yZShcbiAgICAgICAgdGhpcy5pbmRleGVkREIsXG4gICAgICAgIGRiQ29uZmlnLm5hbWUsXG4gICAgICAgIGRiQ29uZmlnLnZlcnNpb24sXG4gICAgICAgIGRiQ29uZmlnLm9iamVjdFN0b3Jlc01ldGEsXG4gICAgICAgIGRiQ29uZmlnLm1pZ3JhdGlvbkZhY3RvcnlcbiAgICAgICk7XG5cbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgZGJDb25maWcubmFtZSkudGhlbigoZGIpID0+IHtcbiAgICAgICAgaWYgKGRiLnZlcnNpb24gIT09IGRiQ29uZmlnLnZlcnNpb24pIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBcbiAgICAgICAgICAgIFlvdXIgREIgQ29uZmlnIGRvZXNuJ3QgbWF0Y2ggdGhlIG1vc3QgcmVjZW50IHZlcnNpb24gb2YgdGhlIERCIHdpdGggbmFtZSAke3RoaXMuZGJDb25maWcubmFtZX0sIHBsZWFzZSB1cGRhdGUgaXRcbiAgICAgICAgICAgIERCIGN1cnJlbnQgdmVyc2lvbjogJHtkYi52ZXJzaW9ufTtcbiAgICAgICAgICAgIFlvdXIgY29uZmlndXJhdGlvbjogJHtkYkNvbmZpZy52ZXJzaW9ufTtcbiAgICAgICAgICAgIGApO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBVc2luZyBsYXRlc3QgdmVyc2lvbiAke2RiLnZlcnNpb259YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZGJDb25maWcudmVyc2lvbiA9IGRiLnZlcnNpb247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBbGxvd3MgdG8gY3JhdGUgYSBuZXcgb2JqZWN0IHN0b3JlIGFkLWhvY1xuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBiZSBjcmVhdGVkXG4gICAqIEBwYXJhbSBtaWdyYXRpb25GYWN0b3J5IFRoZSBtaWdyYXRpb24gZmFjdG9yeSBpZiBleGlzdHNcbiAgICovXG4gIGNyZWF0ZU9iamVjdFN0b3JlKFxuICAgIHN0b3JlU2NoZW1hOiBPYmplY3RTdG9yZU1ldGEsXG4gICAgbWlncmF0aW9uRmFjdG9yeT86ICgpID0+IHsgW2tleTogbnVtYmVyXTogKGRiOiBJREJEYXRhYmFzZSwgdHJhbnNhY3Rpb246IElEQlRyYW5zYWN0aW9uKSA9PiB2b2lkIH1cbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc3RvcmVTY2hlbWFzOiBPYmplY3RTdG9yZU1ldGFbXSA9IFtzdG9yZVNjaGVtYV07XG4gICAgQ3JlYXRlT2JqZWN0U3RvcmUodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgKyt0aGlzLmRiQ29uZmlnLnZlcnNpb24sIHN0b3JlU2NoZW1hcywgbWlncmF0aW9uRmFjdG9yeSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBuZXcgZW50cnkgaW4gdGhlIHN0b3JlIGFuZCByZXR1cm5zIGl0cyBrZXlcbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gYWRkIHRoZSBpdGVtXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgZW50cnkgdG8gYmUgYWRkZWRcbiAgICogQHBhcmFtIGtleSBUaGUgb3B0aW9uYWwga2V5IGZvciB0aGUgZW50cnlcbiAgICovXG4gIGFkZDxUPihzdG9yZU5hbWU6IHN0cmluZywgdmFsdWU6IFQsIGtleT86IGFueSk6IE9ic2VydmFibGU8VCAmIFdpdGhJRD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0OiBJREJSZXF1ZXN0PElEQlZhbGlkS2V5PiA9IEJvb2xlYW4oa2V5KSA/IG9iamVjdFN0b3JlLmFkZCh2YWx1ZSwga2V5KSA6IG9iamVjdFN0b3JlLmFkZCh2YWx1ZSk7XG5cbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGFzeW5jIChldnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IChldnQudGFyZ2V0IGFzIElEQk9wZW5EQlJlcXVlc3QpLnJlc3VsdDtcbiAgICAgICAgICAgIGNvbnN0IGdldFJlcXVlc3Q6IElEQlJlcXVlc3QgPSBvYmplY3RTdG9yZS5nZXQocmVzdWx0KSBhcyBJREJSZXF1ZXN0PFQ+O1xuICAgICAgICAgICAgZ2V0UmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUICYgV2l0aElEPikucmVzdWx0KTtcbiAgICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IG9icy5lcnJvcihlcnJvcikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgbmV3IGVudHJpZXMgaW4gdGhlIHN0b3JlIGFuZCByZXR1cm5zIGl0cyBrZXlcbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gYWRkIHRoZSBpdGVtXG4gICAqIEBwYXJhbSB2YWx1ZXMgVGhlIGVudHJpZXMgdG8gYmUgYWRkZWQgY29udGFpbmluZyBvcHRpb25hbCBrZXkgYXR0cmlidXRlXG4gICAqL1xuICBidWxrQWRkPFQ+KHN0b3JlTmFtZTogc3RyaW5nLCB2YWx1ZXM6IEFycmF5PFQgJiB7IGtleT86IGFueSB9Pik6IE9ic2VydmFibGU8bnVtYmVyW10+IHtcbiAgICBjb25zdCBwcm9taXNlcyA9IG5ldyBQcm9taXNlPG51bWJlcltdPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIHJlc29sdmUsIHJlamVjdCkpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblxuICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSB2YWx1ZXMubWFwKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPG51bWJlcj4oKHJlc29sdmUxLCByZWplY3QxKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGtleSA9IHZhbHVlLmtleTtcbiAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlLmtleTtcblxuICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0OiBJREJSZXF1ZXN0PElEQlZhbGlkS2V5PiA9IEJvb2xlYW4oa2V5KVxuICAgICAgICAgICAgICAgID8gb2JqZWN0U3RvcmUuYWRkKHZhbHVlLCBrZXkpXG4gICAgICAgICAgICAgICAgOiBvYmplY3RTdG9yZS5hZGQodmFsdWUpO1xuXG4gICAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2dDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoZXZ0LnRhcmdldCBhcyBJREJPcGVuREJSZXF1ZXN0KS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZTEoKHJlc3VsdCBhcyB1bmtub3duKSBhcyBudW1iZXIpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXNvbHZlKFByb21pc2UuYWxsKHJlc3VsdHMpKTtcblxuICAgICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiByZWplY3QocmVhc29uKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnJvbShwcm9taXNlcyk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGVudHJpZXMgaW4gdGhlIHN0b3JlIGFuZCByZXR1cm5zIGN1cnJlbnQgZW50cmllcyBpbiB0aGUgc3RvcmVcbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gYWRkIHRoZSBpdGVtXG4gICAqIEBwYXJhbSBrZXlzIFRoZSBrZXlzIHRvIGJlIGRlbGV0ZWRcbiAgICovXG4gIGJ1bGtEZWxldGUoc3RvcmVOYW1lOiBzdHJpbmcsIGtleXM6IEtleVtdKTogT2JzZXJ2YWJsZTxudW1iZXJbXT4ge1xuICAgIGNvbnN0IHByb21pc2VzID0ga2V5cy5tYXAoKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPG51bWJlcj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAgIC50aGVuKChkYjogSURCRGF0YWJhc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWR3cml0ZSwgc3RvcmVOYW1lLCByZWplY3QsIHJlc29sdmUpKTtcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICAgIG9iamVjdFN0b3JlLmRlbGV0ZShrZXkpO1xuXG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmdldEFsbChzdG9yZU5hbWUpXG4gICAgICAgICAgICAgICAgLnBpcGUodGFrZSgxKSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChuZXdWYWx1ZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUobmV3VmFsdWVzIGFzIGFueSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IHJlamVjdChyZWFzb24pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcm9tKFByb21pc2UuYWxsKHByb21pc2VzKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBlbnRyeSBieSBrZXkuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqIEBwYXJhbSBrZXkgVGhlIGVudHJ5IGtleVxuICAgKi9cbiAgZ2V0QnlLZXk8VD4oc3RvcmVOYW1lOiBzdHJpbmcsIGtleTogSURCVmFsaWRLZXkpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8VD4oKG9icykgPT4ge1xuICAgICAgb3BlbkRhdGFiYXNlKHRoaXMuaW5kZXhlZERCLCB0aGlzLmRiQ29uZmlnLm5hbWUsIHRoaXMuZGJDb25maWcudmVyc2lvbilcbiAgICAgICAgLnRoZW4oKGRiOiBJREJEYXRhYmFzZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWRvbmx5LCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUuZ2V0KGtleSkgYXMgSURCUmVxdWVzdDxUPjtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUPikucmVzdWx0KTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgb2JzLmVycm9yKGV2ZW50KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBvYnMuZXJyb3IoZXJyb3IpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBtdWx0aXBsZSBlbnRyaWVzIGluIHRoZSBzdG9yZVxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byByZXRyaWV2ZSB0aGUgaXRlbXNcbiAgICogQHBhcmFtIGtleXMgVGhlIGlkcyBlbnRyaWVzIHRvIGJlIHJldHJpZXZlXG4gICAqL1xuICBidWxrR2V0PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCBrZXlzOiBBcnJheTxJREJWYWxpZEtleT4pOiBhbnkge1xuICAgIGNvbnN0IG9ic2VydmFibGVzID0ga2V5cy5tYXAoKGtleSkgPT4gdGhpcy5nZXRCeUtleShzdG9yZU5hbWUsIGtleSkpO1xuXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIGNvbWJpbmVMYXRlc3Qob2JzZXJ2YWJsZXMpLnN1YnNjcmliZSgodmFsdWVzKSA9PiB7XG4gICAgICAgIG9icy5uZXh0KHZhbHVlcyk7XG4gICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBlbnRyeSBieSBpZC5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gcXVlcnlcbiAgICogQHBhcmFtIGlkIFRoZSBlbnRyeSBpZFxuICAgKi9cbiAgZ2V0QnlJRDxUPihzdG9yZU5hbWU6IHN0cmluZywgaWQ6IHN0cmluZyB8IG51bWJlcik6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgICAgdmFsaWRhdGVCZWZvcmVUcmFuc2FjdGlvbihkYiwgc3RvcmVOYW1lLCBvYnMuZXJyb3IpO1xuICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWRvbmx5LCBzdG9yZU5hbWUsIG9icy5lcnJvciwgb2JzLm5leHQpKTtcbiAgICAgICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgY29uc3QgcmVxdWVzdDogSURCUmVxdWVzdCA9IG9iamVjdFN0b3JlLmdldChpZCkgYXMgSURCUmVxdWVzdDxUPjtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUPikucmVzdWx0KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBvYnMuZXJyb3IoZXJyb3IpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGVudHJ5IGJ5IGluZGV4LlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBxdWVyeVxuICAgKiBAcGFyYW0gaW5kZXhOYW1lIFRoZSBpbmRleCBuYW1lIHRvIGZpbHRlclxuICAgKiBAcGFyYW0ga2V5IFRoZSBlbnRyeSBrZXkuXG4gICAqL1xuICBnZXRCeUluZGV4PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCBpbmRleE5hbWU6IHN0cmluZywga2V5OiBJREJWYWxpZEtleSk6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gb2JqZWN0U3RvcmUuaW5kZXgoaW5kZXhOYW1lKTtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXguZ2V0KGtleSkgYXMgSURCUmVxdWVzdDxUPjtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUPikucmVzdWx0KTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgocmVhc29uKSA9PiBvYnMuZXJyb3IocmVhc29uKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGFsbCBlbGVtZW50cyBmcm9tIG9uZSBzdG9yZVxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBzZWxlY3QgdGhlIGl0ZW1zXG4gICAqL1xuICBnZXRBbGw8VD4oc3RvcmVOYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFRbXT4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yLCBvYnMubmV4dCkpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblxuICAgICAgICAgIGNvbnN0IHJlcXVlc3Q6IElEQlJlcXVlc3QgPSBvYmplY3RTdG9yZS5nZXRBbGwoKTtcblxuICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IChldnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBvYnMuZXJyb3IoZXZ0KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoeyB0YXJnZXQ6IHsgcmVzdWx0OiBSZXN1bHRBbGwgfSB9OiBSZXF1ZXN0RXZlbnQ8VD4pID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KFJlc3VsdEFsbCBhcyBUW10pO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gb2JzLmVycm9yKGVycm9yKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbGwgaXRlbXMgZnJvbSB0aGUgc3RvcmUgYWZ0ZXIgdXBkYXRlLlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byB1cGRhdGVcbiAgICogQHBhcmFtIHZhbHVlIFRoZSBuZXcgdmFsdWUgZm9yIHRoZSBlbnRyeVxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIHVwZGF0ZSBpZiBleGlzdHNcbiAgICovXG4gIHVwZGF0ZTxUPihzdG9yZU5hbWU6IHN0cmluZywgdmFsdWU6IFQsIGtleT86IGFueSk6IE9ic2VydmFibGU8VFtdPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkd3JpdGUsIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuXG4gICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ2V0QWxsKHN0b3JlTmFtZSlcbiAgICAgICAgICAgICAgLnBpcGUodGFrZSgxKSlcbiAgICAgICAgICAgICAgLnN1YnNjcmliZSgobmV3VmFsdWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JzLm5leHQobmV3VmFsdWVzIGFzIFRbXSk7XG4gICAgICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBrZXkgPyBvYmplY3RTdG9yZS5wdXQodmFsdWUsIGtleSkgOiBvYmplY3RTdG9yZS5wdXQodmFsdWUpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGl0ZW0geW91IHVwZGF0ZWQgZnJvbSB0aGUgc3RvcmUgYWZ0ZXIgdGhlIHVwZGF0ZS5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgbmV3IHZhbHVlIGZvciB0aGUgZW50cnlcbiAgICogQHBhcmFtIGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byB1cGRhdGVcbiAgICovXG4gIHVwZGF0ZUJ5S2V5PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCB2YWx1ZTogVCwga2V5OiBJREJWYWxpZEtleSk6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxUPigob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblxuICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdldEJ5S2V5KHN0b3JlTmFtZSwga2V5KVxuICAgICAgICAgICAgICAucGlwZSh0YWtlKDEpKVxuICAgICAgICAgICAgICAuc3Vic2NyaWJlKChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIG9icy5uZXh0KG5ld1ZhbHVlIGFzIFQpO1xuICAgICAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgb2JqZWN0U3RvcmUucHV0KHZhbHVlLCBrZXkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGl0ZW1zIGZyb20gdGhlIHN0b3JlIGFmdGVyIGRlbGV0ZS5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gaGF2ZSB0aGUgZW50cnkgZGVsZXRlZFxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGJlIGRlbGV0ZWRcbiAgICovXG4gIGRlbGV0ZTxUPihzdG9yZU5hbWU6IHN0cmluZywga2V5OiBLZXkpOiBPYnNlcnZhYmxlPFRbXT4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBvYmplY3RTdG9yZS5kZWxldGUoa2V5KTtcblxuICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdldEFsbChzdG9yZU5hbWUpXG4gICAgICAgICAgICAgIC5waXBlKHRha2UoMSkpXG4gICAgICAgICAgICAgIC5zdWJzY3JpYmUoKG5ld1ZhbHVlcykgPT4ge1xuICAgICAgICAgICAgICAgIG9icy5uZXh0KG5ld1ZhbHVlcyBhcyBUW10pO1xuICAgICAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBmcm9tIHRoZSBzdG9yZSBhZnRlciBhIHN1Y2Nlc3NmdWwgZGVsZXRlLlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBoYXZlIHRoZSBlbnRyeSBkZWxldGVkXG4gICAqIEBwYXJhbSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gYmUgZGVsZXRlZFxuICAgKi9cbiAgZGVsZXRlQnlLZXkoc3RvcmVOYW1lOiBzdHJpbmcsIGtleTogS2V5KTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkd3JpdGUsIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuXG4gICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KHRydWUpO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIG9iamVjdFN0b3JlLmRlbGV0ZShrZXkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBzdWNjZXNzZnVsbHkgZGVsZXRlIGFsbCBlbnRyaWVzIGZyb20gdGhlIHN0b3JlLlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBoYXZlIHRoZSBlbnRyaWVzIGRlbGV0ZWRcbiAgICovXG4gIGNsZWFyKHN0b3JlTmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkd3JpdGUsIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIG9iamVjdFN0b3JlLmNsZWFyKCk7XG4gICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KHRydWUpO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IG9icy5lcnJvcihyZWFzb24pKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgc3VjY2Vzc2Z1bGx5IGRlbGV0ZSB0aGUgREIuXG4gICAqL1xuICBkZWxldGVEYXRhYmFzZSgpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9icykgPT4ge1xuICAgICAgb3BlbkRhdGFiYXNlKHRoaXMuaW5kZXhlZERCLCB0aGlzLmRiQ29uZmlnLm5hbWUsIHRoaXMuZGJDb25maWcudmVyc2lvbilcbiAgICAgICAgLnRoZW4oYXN5bmMgKGRiKSA9PiB7XG4gICAgICAgICAgYXdhaXQgZGIuY2xvc2UoKTtcbiAgICAgICAgICBjb25zdCBkZWxldGVEQlJlcXVlc3QgPSB0aGlzLmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZSh0aGlzLmRiQ29uZmlnLm5hbWUpO1xuICAgICAgICAgIGRlbGV0ZURCUmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICBvYnMubmV4dCh0cnVlKTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZGVsZXRlREJSZXF1ZXN0Lm9uZXJyb3IgPSAoZXJyb3IpID0+IG9icy5lcnJvcihlcnJvcik7XG4gICAgICAgICAgZGVsZXRlREJSZXF1ZXN0Lm9uYmxvY2tlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGRlbGV0ZSBkYXRhYmFzZSBiZWNhdXNlIGl0J3MgYmxvY2tlZGApO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IG9icy5lcnJvcihlcnJvcikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG9wZW4gY3Vyc29yIGV2ZW50XG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIGhhdmUgdGhlIGVudHJpZXMgZGVsZXRlZFxuICAgKiBAcGFyYW0ga2V5UmFuZ2UgVGhlIGtleSByYW5nZSB3aGljaCB0aGUgY3Vyc29yIHNob3VsZCBiZSBvcGVuIG9uXG4gICAqL1xuICBvcGVuQ3Vyc29yKHN0b3JlTmFtZTogc3RyaW5nLCBrZXlSYW5nZT86IElEQktleVJhbmdlKTogT2JzZXJ2YWJsZTxFdmVudD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBrZXlSYW5nZSA9PT0gdW5kZWZpbmVkID8gb2JqZWN0U3RvcmUub3BlbkN1cnNvcigpIDogb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSk7XG5cbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KGV2ZW50KTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgocmVhc29uKSA9PiBvYnMuZXJyb3IocmVhc29uKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBhIGN1cnNvciBieSBpbmRleCBmaWx0ZXIuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0gaW5kZXhOYW1lIFRoZSBpbmRleCBuYW1lIHRvIGZpbHRlci5cbiAgICogQHBhcmFtIGtleVJhbmdlIFRoZSByYW5nZSB2YWx1ZSBhbmQgY3JpdGVyaWEgdG8gYXBwbHkgb24gdGhlIGluZGV4LlxuICAgKi9cbiAgb3BlbkN1cnNvckJ5SW5kZXgoXG4gICAgc3RvcmVOYW1lOiBzdHJpbmcsXG4gICAgaW5kZXhOYW1lOiBzdHJpbmcsXG4gICAga2V5UmFuZ2U6IElEQktleVJhbmdlLFxuICAgIG1vZGU6IERCTW9kZSA9IERCTW9kZS5yZWFkb25seVxuICApOiBPYnNlcnZhYmxlPEV2ZW50PiB7XG4gICAgY29uc3Qgb2JzID0gbmV3IFN1YmplY3Q8RXZlbnQ+KCk7XG5cbiAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgLnRoZW4oKGRiKSA9PiB7XG4gICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgKHJlYXNvbikgPT4ge1xuICAgICAgICAgIG9icy5lcnJvcihyZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihcbiAgICAgICAgICBkYixcbiAgICAgICAgICBvcHRpb25zR2VuZXJhdG9yKFxuICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgIHN0b3JlTmFtZSxcbiAgICAgICAgICAgIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgb2JzLmVycm9yKHJlYXNvbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBvYnMubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICBjb25zdCBpbmRleCA9IG9iamVjdFN0b3JlLmluZGV4KGluZGV4TmFtZSk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleC5vcGVuQ3Vyc29yKGtleVJhbmdlKTtcblxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICBvYnMubmV4dChldmVudCk7XG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChyZWFzb24pID0+IG9icy5lcnJvcihyZWFzb24pKTtcblxuICAgIHJldHVybiBvYnM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbGwgaXRlbXMgYnkgYW4gaW5kZXguXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqIEBwYXJhbSBpbmRleE5hbWUgVGhlIGluZGV4IG5hbWUgdG8gZmlsdGVyXG4gICAqIEBwYXJhbSBrZXlSYW5nZSAgVGhlIHJhbmdlIHZhbHVlIGFuZCBjcml0ZXJpYSB0byBhcHBseSBvbiB0aGUgaW5kZXguXG4gICAqL1xuICBnZXRBbGxCeUluZGV4PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCBpbmRleE5hbWU6IHN0cmluZywga2V5UmFuZ2U6IElEQktleVJhbmdlKTogT2JzZXJ2YWJsZTxUW10+IHtcbiAgICBjb25zdCBkYXRhOiBUW10gPSBbXTtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9icykgPT4ge1xuICAgICAgb3BlbkRhdGFiYXNlKHRoaXMuaW5kZXhlZERCLCB0aGlzLmRiQ29uZmlnLm5hbWUsIHRoaXMuZGJDb25maWcudmVyc2lvbilcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XG4gICAgICAgICAgdmFsaWRhdGVCZWZvcmVUcmFuc2FjdGlvbihkYiwgc3RvcmVOYW1lLCBvYnMuZXJyb3IpO1xuICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWRvbmx5LCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IG9iamVjdFN0b3JlLmluZGV4KGluZGV4TmFtZSk7XG4gICAgICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4Lm9wZW5DdXJzb3Ioa2V5UmFuZ2UpO1xuICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJzb3I6IElEQkN1cnNvcldpdGhWYWx1ZSA9IChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxJREJDdXJzb3JXaXRoVmFsdWU+KS5yZXN1bHQ7XG4gICAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgIGRhdGEucHVzaChjdXJzb3IudmFsdWUpO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9icy5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICBvYnMuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIHByaW1hcnkga2V5cyBieSBhbiBpbmRleC5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gcXVlcnlcbiAgICogQHBhcmFtIGluZGV4TmFtZSBUaGUgaW5kZXggbmFtZSB0byBmaWx0ZXJcbiAgICogQHBhcmFtIGtleVJhbmdlICBUaGUgcmFuZ2UgdmFsdWUgYW5kIGNyaXRlcmlhIHRvIGFwcGx5IG9uIHRoZSBpbmRleC5cbiAgICovXG4gIGdldEFsbEtleXNCeUluZGV4KFxuICAgIHN0b3JlTmFtZTogc3RyaW5nLFxuICAgIGluZGV4TmFtZTogc3RyaW5nLFxuICAgIGtleVJhbmdlOiBJREJLZXlSYW5nZVxuICApOiBPYnNlcnZhYmxlPHsgcHJpbWFyeUtleTogYW55OyBrZXk6IGFueSB9W10+IHtcbiAgICBjb25zdCBkYXRhOiB7IHByaW1hcnlLZXk6IGFueTsga2V5OiBhbnkgfVtdID0gW107XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkb25seSwgc3RvcmVOYW1lLCBvYnMuZXJyb3IpKTtcbiAgICAgICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBvYmplY3RTdG9yZS5pbmRleChpbmRleE5hbWUpO1xuICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleC5vcGVuS2V5Q3Vyc29yKGtleVJhbmdlKTtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3Vyc29yOiBJREJDdXJzb3IgPSAoZXZlbnQudGFyZ2V0IGFzIElEQlJlcXVlc3Q8SURCQ3Vyc29yPikucmVzdWx0O1xuICAgICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgICBkYXRhLnB1c2goeyBwcmltYXJ5S2V5OiBjdXJzb3IucHJpbWFyeUtleSwga2V5OiBjdXJzb3Iua2V5IH0pO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9icy5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICBvYnMuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiByb3dzIGluIGEgc3RvcmUuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqIEBwYXJhbSBrZXlSYW5nZSAgVGhlIHJhbmdlIHZhbHVlIGFuZCBjcml0ZXJpYSB0byBhcHBseS5cbiAgICovXG4gIGNvdW50KHN0b3JlTmFtZTogc3RyaW5nLCBrZXlSYW5nZT86IElEQlZhbGlkS2V5IHwgSURCS2V5UmFuZ2UpOiBPYnNlcnZhYmxlPG51bWJlcj4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIGNvbnN0IHJlcXVlc3Q6IElEQlJlcXVlc3QgPSBvYmplY3RTdG9yZS5jb3VudChrZXlSYW5nZSk7XG4gICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IG9icy5lcnJvcihlKTtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChlKSA9PiB7XG4gICAgICAgICAgICBvYnMubmV4dCgoKGUudGFyZ2V0IGFzIElEQk9wZW5EQlJlcXVlc3QpLnJlc3VsdCBhcyB1bmtub3duKSBhcyBudW1iZXIpO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IG9icy5lcnJvcihyZWFzb24pKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgdGhlIHN0b3JlIGJ5IG5hbWUuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqL1xuICBkZWxldGVPYmplY3RTdG9yZShzdG9yZU5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgICAgcmV0dXJuIERlbGV0ZU9iamVjdFN0b3JlKHRoaXMuZGJDb25maWcubmFtZSwgKyt0aGlzLmRiQ29uZmlnLnZlcnNpb24sIHN0b3JlTmFtZSk7XG4gIH1cbn1cbiJdfQ==","start":23247,"end":78709}]},"code":"import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { openDatabase, CreateObjectStore, DeleteObjectStore } from './ngx-indexed-db';\nimport { createTransaction, optionsGenerator, validateBeforeTransaction } from '../utils';\nimport { CONFIG_TOKEN, DBMode } from './ngx-indexed-db.meta';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Observable, Subject, combineLatest, from } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class NgxIndexedDBService {\n    constructor(dbConfig, platformId) {\n        this.dbConfig = dbConfig;\n        this.platformId = platformId;\n        if (!dbConfig.name) {\n            throw new Error('NgxIndexedDB: Please, provide the dbName in the configuration');\n        }\n        if (!dbConfig.version) {\n            throw new Error('NgxIndexedDB: Please, provide the db version in the configuration');\n        }\n        this.isBrowser = isPlatformBrowser(this.platformId);\n        if (this.isBrowser) {\n            this.indexedDB =\n                window.indexedDB ||\n                    window.mozIndexedDB ||\n                    window.webkitIndexedDB ||\n                    window.msIndexedDB;\n            CreateObjectStore(this.indexedDB, dbConfig.name, dbConfig.version, dbConfig.objectStoresMeta, dbConfig.migrationFactory);\n            openDatabase(this.indexedDB, dbConfig.name).then((db) => {\n                if (db.version !== dbConfig.version) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        console.warn(`\n            Your DB Config doesn't match the most recent version of the DB with name ${this.dbConfig.name}, please update it\n            DB current version: ${db.version};\n            Your configuration: ${dbConfig.version};\n            `);\n                        console.warn(`Using latest version ${db.version}`);\n                    }\n                    this.dbConfig.version = db.version;\n                }\n            });\n        }\n    }\n    /**\n     * Allows to crate a new object store ad-hoc\n     * @param storeName The name of the store to be created\n     * @param migrationFactory The migration factory if exists\n     */\n    createObjectStore(storeSchema, migrationFactory) {\n        const storeSchemas = [storeSchema];\n        CreateObjectStore(this.indexedDB, this.dbConfig.name, ++this.dbConfig.version, storeSchemas, migrationFactory);\n    }\n    /**\n     * Adds new entry in the store and returns its key\n     * @param storeName The name of the store to add the item\n     * @param value The entry to be added\n     * @param key The optional key for the entry\n     */\n    add(storeName, value, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const request = Boolean(key) ? objectStore.add(value, key) : objectStore.add(value);\n                request.onsuccess = async (evt) => {\n                    const result = evt.target.result;\n                    const getRequest = objectStore.get(result);\n                    getRequest.onsuccess = (event) => {\n                        obs.next(event.target.result);\n                        obs.complete();\n                    };\n                };\n            })\n                .catch((error) => obs.error(error));\n        });\n    }\n    /**\n     * Adds new entries in the store and returns its key\n     * @param storeName The name of the store to add the item\n     * @param values The entries to be added containing optional key attribute\n     */\n    bulkAdd(storeName, values) {\n        const promises = new Promise((resolve, reject) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, resolve, reject));\n                const objectStore = transaction.objectStore(storeName);\n                const results = values.map((value) => {\n                    return new Promise((resolve1, reject1) => {\n                        const key = value.key;\n                        delete value.key;\n                        const request = Boolean(key)\n                            ? objectStore.add(value, key)\n                            : objectStore.add(value);\n                        request.onsuccess = (evt) => {\n                            const result = evt.target.result;\n                            resolve1(result);\n                        };\n                    });\n                });\n                resolve(Promise.all(results));\n            }).catch((reason) => reject(reason));\n        });\n        return from(promises);\n    }\n    /**\n     * Delete entries in the store and returns current entries in the store\n     * @param storeName The name of the store to add the item\n     * @param keys The keys to be deleted\n     */\n    bulkDelete(storeName, keys) {\n        const promises = keys.map((key) => {\n            return new Promise((resolve, reject) => {\n                openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                    .then((db) => {\n                    const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, reject, resolve));\n                    const objectStore = transaction.objectStore(storeName);\n                    objectStore.delete(key);\n                    transaction.oncomplete = () => {\n                        this.getAll(storeName)\n                            .pipe(take(1))\n                            .subscribe((newValues) => {\n                            resolve(newValues);\n                        });\n                    };\n                })\n                    .catch((reason) => reject(reason));\n            });\n        });\n        return from(Promise.all(promises));\n    }\n    /**\n     * Returns entry by key.\n     * @param storeName The name of the store to query\n     * @param key The entry key\n     */\n    getByKey(storeName, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const request = objectStore.get(key);\n                request.onsuccess = (event) => {\n                    obs.next(event.target.result);\n                    obs.complete();\n                };\n                request.onerror = (event) => {\n                    obs.error(event);\n                };\n            })\n                .catch((error) => obs.error(error));\n        });\n    }\n    /**\n     * Retrieve multiple entries in the store\n     * @param storeName The name of the store to retrieve the items\n     * @param keys The ids entries to be retrieve\n     */\n    bulkGet(storeName, keys) {\n        const observables = keys.map((key) => this.getByKey(storeName, key));\n        return new Observable((obs) => {\n            combineLatest(observables).subscribe((values) => {\n                obs.next(values);\n                obs.complete();\n            });\n        });\n    }\n    /**\n     * Returns entry by id.\n     * @param storeName The name of the store to query\n     * @param id The entry id\n     */\n    getByID(storeName, id) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error, obs.next));\n                const objectStore = transaction.objectStore(storeName);\n                const request = objectStore.get(id);\n                request.onsuccess = (event) => {\n                    obs.next(event.target.result);\n                };\n            })\n                .catch((error) => obs.error(error));\n        });\n    }\n    /**\n     * Returns entry by index.\n     * @param storeName The name of the store to query\n     * @param indexName The index name to filter\n     * @param key The entry key.\n     */\n    getByIndex(storeName, indexName, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const index = objectStore.index(indexName);\n                const request = index.get(key);\n                request.onsuccess = (event) => {\n                    obs.next(event.target.result);\n                    obs.complete();\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Return all elements from one store\n     * @param storeName The name of the store to select the items\n     */\n    getAll(storeName) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error, obs.next));\n                const objectStore = transaction.objectStore(storeName);\n                const request = objectStore.getAll();\n                request.onerror = (evt) => {\n                    obs.error(evt);\n                };\n                request.onsuccess = ({ target: { result: ResultAll } }) => {\n                    obs.next(ResultAll);\n                    obs.complete();\n                };\n            })\n                .catch((error) => obs.error(error));\n        });\n    }\n    /**\n     * Returns all items from the store after update.\n     * @param storeName The name of the store to update\n     * @param value The new value for the entry\n     * @param key The key of the entry to update if exists\n     */\n    update(storeName, value, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                transaction.oncomplete = () => {\n                    this.getAll(storeName)\n                        .pipe(take(1))\n                        .subscribe((newValues) => {\n                        obs.next(newValues);\n                        obs.complete();\n                    });\n                };\n                key ? objectStore.put(value, key) : objectStore.put(value);\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns the item you updated from the store after the update.\n     * @param storeName The name of the store to update\n     * @param value The new value for the entry\n     * @param key The key of the entry to update\n     */\n    updateByKey(storeName, value, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                transaction.oncomplete = () => {\n                    this.getByKey(storeName, key)\n                        .pipe(take(1))\n                        .subscribe((newValue) => {\n                        obs.next(newValue);\n                        obs.complete();\n                    });\n                };\n                objectStore.put(value, key);\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns all items from the store after delete.\n     * @param storeName The name of the store to have the entry deleted\n     * @param key The key of the entry to be deleted\n     */\n    delete(storeName, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                objectStore.delete(key);\n                transaction.oncomplete = () => {\n                    this.getAll(storeName)\n                        .pipe(take(1))\n                        .subscribe((newValues) => {\n                        obs.next(newValues);\n                        obs.complete();\n                    });\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns true from the store after a successful delete.\n     * @param storeName The name of the store to have the entry deleted\n     * @param key The key of the entry to be deleted\n     */\n    deleteByKey(storeName, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                transaction.oncomplete = () => {\n                    obs.next(true);\n                    obs.complete();\n                };\n                objectStore.delete(key);\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns true if successfully delete all entries from the store.\n     * @param storeName The name of the store to have the entries deleted\n     */\n    clear(storeName) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                objectStore.clear();\n                transaction.oncomplete = () => {\n                    obs.next(true);\n                    obs.complete();\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns true if successfully delete the DB.\n     */\n    deleteDatabase() {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then(async (db) => {\n                await db.close();\n                const deleteDBRequest = this.indexedDB.deleteDatabase(this.dbConfig.name);\n                deleteDBRequest.onsuccess = () => {\n                    obs.next(true);\n                    obs.complete();\n                };\n                deleteDBRequest.onerror = (error) => obs.error(error);\n                deleteDBRequest.onblocked = () => {\n                    throw new Error(`Unable to delete database because it's blocked`);\n                };\n            })\n                .catch((error) => obs.error(error));\n        });\n    }\n    /**\n     * Returns the open cursor event\n     * @param storeName The name of the store to have the entries deleted\n     * @param keyRange The key range which the cursor should be open on\n     */\n    openCursor(storeName, keyRange) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const request = keyRange === undefined ? objectStore.openCursor() : objectStore.openCursor(keyRange);\n                request.onsuccess = (event) => {\n                    obs.next(event);\n                    obs.complete();\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Open a cursor by index filter.\n     * @param storeName The name of the store to query.\n     * @param indexName The index name to filter.\n     * @param keyRange The range value and criteria to apply on the index.\n     */\n    openCursorByIndex(storeName, indexName, keyRange, mode = DBMode.readonly) {\n        const obs = new Subject();\n        openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n            .then((db) => {\n            validateBeforeTransaction(db, storeName, (reason) => {\n                obs.error(reason);\n            });\n            const transaction = createTransaction(db, optionsGenerator(mode, storeName, (reason) => {\n                obs.error(reason);\n            }, () => {\n                obs.next();\n            }));\n            const objectStore = transaction.objectStore(storeName);\n            const index = objectStore.index(indexName);\n            const request = index.openCursor(keyRange);\n            request.onsuccess = (event) => {\n                obs.next(event);\n            };\n        })\n            .catch((reason) => obs.error(reason));\n        return obs;\n    }\n    /**\n     * Returns all items by an index.\n     * @param storeName The name of the store to query\n     * @param indexName The index name to filter\n     * @param keyRange  The range value and criteria to apply on the index.\n     */\n    getAllByIndex(storeName, indexName, keyRange) {\n        const data = [];\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const index = objectStore.index(indexName);\n                const request = index.openCursor(keyRange);\n                request.onsuccess = (event) => {\n                    const cursor = event.target.result;\n                    if (cursor) {\n                        data.push(cursor.value);\n                        cursor.continue();\n                    }\n                    else {\n                        obs.next(data);\n                        obs.complete();\n                    }\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns all primary keys by an index.\n     * @param storeName The name of the store to query\n     * @param indexName The index name to filter\n     * @param keyRange  The range value and criteria to apply on the index.\n     */\n    getAllKeysByIndex(storeName, indexName, keyRange) {\n        const data = [];\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const index = objectStore.index(indexName);\n                const request = index.openKeyCursor(keyRange);\n                request.onsuccess = (event) => {\n                    const cursor = event.target.result;\n                    if (cursor) {\n                        data.push({ primaryKey: cursor.primaryKey, key: cursor.key });\n                        cursor.continue();\n                    }\n                    else {\n                        obs.next(data);\n                        obs.complete();\n                    }\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns the number of rows in a store.\n     * @param storeName The name of the store to query\n     * @param keyRange  The range value and criteria to apply.\n     */\n    count(storeName, keyRange) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const request = objectStore.count(keyRange);\n                request.onerror = (e) => obs.error(e);\n                request.onsuccess = (e) => {\n                    obs.next(e.target.result);\n                    obs.complete();\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Delete the store by name.\n     * @param storeName The name of the store to query\n     */\n    deleteObjectStore(storeName) {\n        return DeleteObjectStore(this.dbConfig.name, ++this.dbConfig.version, storeName);\n    }\n}\nNgxIndexedDBService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBService, deps: [{ token: CONFIG_TOKEN }, { token: PLATFORM_ID }], target: i0.ɵɵFactoryTarget.Injectable });\nNgxIndexedDBService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [CONFIG_TOKEN]\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [PLATFORM_ID]\n                }] }]; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9saWIvbmd4LWluZGV4ZWQtZGIuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDaEUsT0FBTyxFQUFFLFlBQVksRUFBRSxpQkFBaUIsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3RGLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxnQkFBZ0IsRUFBRSx5QkFBeUIsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUMxRixPQUFPLEVBQUUsWUFBWSxFQUFnRCxNQUFNLEVBQVUsTUFBTSx1QkFBdUIsQ0FBQztBQUNuSCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ2hFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFHdEMsTUFBTSxPQUFPLG1CQUFtQjtJQUk5QixZQUEwQyxRQUFrQixFQUErQixVQUFlO1FBQWhFLGFBQVEsR0FBUixRQUFRLENBQVU7UUFBK0IsZUFBVSxHQUFWLFVBQVUsQ0FBSztRQUN4RyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRTtZQUNsQixNQUFNLElBQUksS0FBSyxDQUFDLCtEQUErRCxDQUFDLENBQUM7U0FDbEY7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRTtZQUNyQixNQUFNLElBQUksS0FBSyxDQUFDLG1FQUFtRSxDQUFDLENBQUM7U0FDdEY7UUFDRCxJQUFJLENBQUMsU0FBUyxHQUFHLGlCQUFpQixDQUFDLElBQUksQ0FBQyxV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QUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNyRixDQUFDOztnSEE5akJVLG1CQUFtQixrQkFJVixZQUFZLGFBQXNDLFdBQVc7b0hBSnRFLG1CQUFtQjsyRkFBbkIsbUJBQW1CO2tCQUQvQixVQUFVOzswQkFLSSxNQUFNOzJCQUFDLFlBQVk7OzBCQUErQixNQUFNOzJCQUFDLFdBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbmplY3QsIFBMQVRGT1JNX0lEIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBvcGVuRGF0YWJhc2UsIENyZWF0ZU9iamVjdFN0b3JlLCBEZWxldGVPYmplY3RTdG9yZSB9IGZyb20gJy4vbmd4LWluZGV4ZWQtZGInO1xuaW1wb3J0IHsgY3JlYXRlVHJhbnNhY3Rpb24sIG9wdGlvbnNHZW5lcmF0b3IsIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24gfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBDT05GSUdfVE9LRU4sIERCQ29uZmlnLCBLZXksIFJlcXVlc3RFdmVudCwgT2JqZWN0U3RvcmVNZXRhLCBEQk1vZGUsIFdpdGhJRCB9IGZyb20gJy4vbmd4LWluZGV4ZWQtZGIubWV0YSc7XG5pbXBvcnQgeyBpc1BsYXRmb3JtQnJvd3NlciB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0LCBjb21iaW5lTGF0ZXN0LCBmcm9tIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0YWtlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTmd4SW5kZXhlZERCU2VydmljZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgaXNCcm93c2VyOiBib29sZWFuO1xuICBwcml2YXRlIGluZGV4ZWREQjogSURCRmFjdG9yeTtcblxuICBjb25zdHJ1Y3RvcihASW5qZWN0KENPTkZJR19UT0tFTikgcHJpdmF0ZSBkYkNvbmZpZzogREJDb25maWcsIEBJbmplY3QoUExBVEZPUk1fSUQpIHByaXZhdGUgcGxhdGZvcm1JZDogYW55KSB7XG4gICAgaWYgKCFkYkNvbmZpZy5uYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05neEluZGV4ZWREQjogUGxlYXNlLCBwcm92aWRlIHRoZSBkYk5hbWUgaW4gdGhlIGNvbmZpZ3VyYXRpb24nKTtcbiAgICB9XG4gICAgaWYgKCFkYkNvbmZpZy52ZXJzaW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05neEluZGV4ZWREQjogUGxlYXNlLCBwcm92aWRlIHRoZSBkYiB2ZXJzaW9uIGluIHRoZSBjb25maWd1cmF0aW9uJyk7XG4gICAgfVxuICAgIHRoaXMuaXNCcm93c2VyID0gaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKTtcbiAgICBpZiAodGhpcy5pc0Jyb3dzZXIpIHtcbiAgICAgIHRoaXMuaW5kZXhlZERCID1cbiAgICAgICAgd2luZG93LmluZGV4ZWREQiB8fFxuICAgICAgICAod2luZG93IGFzIGFueSkubW96SW5kZXhlZERCIHx8XG4gICAgICAgICh3aW5kb3cgYXMgYW55KS53ZWJraXRJbmRleGVkREIgfHxcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLm1zSW5kZXhlZERCO1xuXG4gICAgICBDcmVhdGVPYmplY3RTdG9yZShcbiAgICAgICAgdGhpcy5pbmRleGVkREIsXG4gICAgICAgIGRiQ29uZmlnLm5hbWUsXG4gICAgICAgIGRiQ29uZmlnLnZlcnNpb24sXG4gICAgICAgIGRiQ29uZmlnLm9iamVjdFN0b3Jlc01ldGEsXG4gICAgICAgIGRiQ29uZmlnLm1pZ3JhdGlvbkZhY3RvcnlcbiAgICAgICk7XG5cbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgZGJDb25maWcubmFtZSkudGhlbigoZGIpID0+IHtcbiAgICAgICAgaWYgKGRiLnZlcnNpb24gIT09IGRiQ29uZmlnLnZlcnNpb24pIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBcbiAgICAgICAgICAgIFlvdXIgREIgQ29uZmlnIGRvZXNuJ3QgbWF0Y2ggdGhlIG1vc3QgcmVjZW50IHZlcnNpb24gb2YgdGhlIERCIHdpdGggbmFtZSAke3RoaXMuZGJDb25maWcubmFtZX0sIHBsZWFzZSB1cGRhdGUgaXRcbiAgICAgICAgICAgIERCIGN1cnJlbnQgdmVyc2lvbjogJHtkYi52ZXJzaW9ufTtcbiAgICAgICAgICAgIFlvdXIgY29uZmlndXJhdGlvbjogJHtkYkNvbmZpZy52ZXJzaW9ufTtcbiAgICAgICAgICAgIGApO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBVc2luZyBsYXRlc3QgdmVyc2lvbiAke2RiLnZlcnNpb259YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZGJDb25maWcudmVyc2lvbiA9IGRiLnZlcnNpb247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBbGxvd3MgdG8gY3JhdGUgYSBuZXcgb2JqZWN0IHN0b3JlIGFkLWhvY1xuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBiZSBjcmVhdGVkXG4gICAqIEBwYXJhbSBtaWdyYXRpb25GYWN0b3J5IFRoZSBtaWdyYXRpb24gZmFjdG9yeSBpZiBleGlzdHNcbiAgICovXG4gIGNyZWF0ZU9iamVjdFN0b3JlKFxuICAgIHN0b3JlU2NoZW1hOiBPYmplY3RTdG9yZU1ldGEsXG4gICAgbWlncmF0aW9uRmFjdG9yeT86ICgpID0+IHsgW2tleTogbnVtYmVyXTogKGRiOiBJREJEYXRhYmFzZSwgdHJhbnNhY3Rpb246IElEQlRyYW5zYWN0aW9uKSA9PiB2b2lkIH1cbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc3RvcmVTY2hlbWFzOiBPYmplY3RTdG9yZU1ldGFbXSA9IFtzdG9yZVNjaGVtYV07XG4gICAgQ3JlYXRlT2JqZWN0U3RvcmUodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgKyt0aGlzLmRiQ29uZmlnLnZlcnNpb24sIHN0b3JlU2NoZW1hcywgbWlncmF0aW9uRmFjdG9yeSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBuZXcgZW50cnkgaW4gdGhlIHN0b3JlIGFuZCByZXR1cm5zIGl0cyBrZXlcbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gYWRkIHRoZSBpdGVtXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgZW50cnkgdG8gYmUgYWRkZWRcbiAgICogQHBhcmFtIGtleSBUaGUgb3B0aW9uYWwga2V5IGZvciB0aGUgZW50cnlcbiAgICovXG4gIGFkZDxUPihzdG9yZU5hbWU6IHN0cmluZywgdmFsdWU6IFQsIGtleT86IGFueSk6IE9ic2VydmFibGU8VCAmIFdpdGhJRD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0OiBJREJSZXF1ZXN0PElEQlZhbGlkS2V5PiA9IEJvb2xlYW4oa2V5KSA/IG9iamVjdFN0b3JlLmFkZCh2YWx1ZSwga2V5KSA6IG9iamVjdFN0b3JlLmFkZCh2YWx1ZSk7XG5cbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGFzeW5jIChldnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IChldnQudGFyZ2V0IGFzIElEQk9wZW5EQlJlcXVlc3QpLnJlc3VsdDtcbiAgICAgICAgICAgIGNvbnN0IGdldFJlcXVlc3Q6IElEQlJlcXVlc3QgPSBvYmplY3RTdG9yZS5nZXQocmVzdWx0KSBhcyBJREJSZXF1ZXN0PFQ+O1xuICAgICAgICAgICAgZ2V0UmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUICYgV2l0aElEPikucmVzdWx0KTtcbiAgICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IG9icy5lcnJvcihlcnJvcikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgbmV3IGVudHJpZXMgaW4gdGhlIHN0b3JlIGFuZCByZXR1cm5zIGl0cyBrZXlcbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gYWRkIHRoZSBpdGVtXG4gICAqIEBwYXJhbSB2YWx1ZXMgVGhlIGVudHJpZXMgdG8gYmUgYWRkZWQgY29udGFpbmluZyBvcHRpb25hbCBrZXkgYXR0cmlidXRlXG4gICAqL1xuICBidWxrQWRkPFQ+KHN0b3JlTmFtZTogc3RyaW5nLCB2YWx1ZXM6IEFycmF5PFQgJiB7IGtleT86IGFueSB9Pik6IE9ic2VydmFibGU8bnVtYmVyW10+IHtcbiAgICBjb25zdCBwcm9taXNlcyA9IG5ldyBQcm9taXNlPG51bWJlcltdPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIHJlc29sdmUsIHJlamVjdCkpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblxuICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSB2YWx1ZXMubWFwKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPG51bWJlcj4oKHJlc29sdmUxLCByZWplY3QxKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGtleSA9IHZhbHVlLmtleTtcbiAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlLmtleTtcblxuICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0OiBJREJSZXF1ZXN0PElEQlZhbGlkS2V5PiA9IEJvb2xlYW4oa2V5KVxuICAgICAgICAgICAgICAgID8gb2JqZWN0U3RvcmUuYWRkKHZhbHVlLCBrZXkpXG4gICAgICAgICAgICAgICAgOiBvYmplY3RTdG9yZS5hZGQodmFsdWUpO1xuXG4gICAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2dDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoZXZ0LnRhcmdldCBhcyBJREJPcGVuREJSZXF1ZXN0KS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZTEoKHJlc3VsdCBhcyB1bmtub3duKSBhcyBudW1iZXIpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXNvbHZlKFByb21pc2UuYWxsKHJlc3VsdHMpKTtcblxuICAgICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiByZWplY3QocmVhc29uKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnJvbShwcm9taXNlcyk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGVudHJpZXMgaW4gdGhlIHN0b3JlIGFuZCByZXR1cm5zIGN1cnJlbnQgZW50cmllcyBpbiB0aGUgc3RvcmVcbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gYWRkIHRoZSBpdGVtXG4gICAqIEBwYXJhbSBrZXlzIFRoZSBrZXlzIHRvIGJlIGRlbGV0ZWRcbiAgICovXG4gIGJ1bGtEZWxldGUoc3RvcmVOYW1lOiBzdHJpbmcsIGtleXM6IEtleVtdKTogT2JzZXJ2YWJsZTxudW1iZXJbXT4ge1xuICAgIGNvbnN0IHByb21pc2VzID0ga2V5cy5tYXAoKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPG51bWJlcj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAgIC50aGVuKChkYjogSURCRGF0YWJhc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWR3cml0ZSwgc3RvcmVOYW1lLCByZWplY3QsIHJlc29sdmUpKTtcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICAgIG9iamVjdFN0b3JlLmRlbGV0ZShrZXkpO1xuXG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmdldEFsbChzdG9yZU5hbWUpXG4gICAgICAgICAgICAgICAgLnBpcGUodGFrZSgxKSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChuZXdWYWx1ZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUobmV3VmFsdWVzIGFzIGFueSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IHJlamVjdChyZWFzb24pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcm9tKFByb21pc2UuYWxsKHByb21pc2VzKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBlbnRyeSBieSBrZXkuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqIEBwYXJhbSBrZXkgVGhlIGVudHJ5IGtleVxuICAgKi9cbiAgZ2V0QnlLZXk8VD4oc3RvcmVOYW1lOiBzdHJpbmcsIGtleTogSURCVmFsaWRLZXkpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8VD4oKG9icykgPT4ge1xuICAgICAgb3BlbkRhdGFiYXNlKHRoaXMuaW5kZXhlZERCLCB0aGlzLmRiQ29uZmlnLm5hbWUsIHRoaXMuZGJDb25maWcudmVyc2lvbilcbiAgICAgICAgLnRoZW4oKGRiOiBJREJEYXRhYmFzZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWRvbmx5LCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUuZ2V0KGtleSkgYXMgSURCUmVxdWVzdDxUPjtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUPikucmVzdWx0KTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgb2JzLmVycm9yKGV2ZW50KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBvYnMuZXJyb3IoZXJyb3IpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBtdWx0aXBsZSBlbnRyaWVzIGluIHRoZSBzdG9yZVxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byByZXRyaWV2ZSB0aGUgaXRlbXNcbiAgICogQHBhcmFtIGtleXMgVGhlIGlkcyBlbnRyaWVzIHRvIGJlIHJldHJpZXZlXG4gICAqL1xuICBidWxrR2V0PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCBrZXlzOiBBcnJheTxJREJWYWxpZEtleT4pOiBhbnkge1xuICAgIGNvbnN0IG9ic2VydmFibGVzID0ga2V5cy5tYXAoKGtleSkgPT4gdGhpcy5nZXRCeUtleShzdG9yZU5hbWUsIGtleSkpO1xuXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIGNvbWJpbmVMYXRlc3Qob2JzZXJ2YWJsZXMpLnN1YnNjcmliZSgodmFsdWVzKSA9PiB7XG4gICAgICAgIG9icy5uZXh0KHZhbHVlcyk7XG4gICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBlbnRyeSBieSBpZC5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gcXVlcnlcbiAgICogQHBhcmFtIGlkIFRoZSBlbnRyeSBpZFxuICAgKi9cbiAgZ2V0QnlJRDxUPihzdG9yZU5hbWU6IHN0cmluZywgaWQ6IHN0cmluZyB8IG51bWJlcik6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgICAgdmFsaWRhdGVCZWZvcmVUcmFuc2FjdGlvbihkYiwgc3RvcmVOYW1lLCBvYnMuZXJyb3IpO1xuICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWRvbmx5LCBzdG9yZU5hbWUsIG9icy5lcnJvciwgb2JzLm5leHQpKTtcbiAgICAgICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgY29uc3QgcmVxdWVzdDogSURCUmVxdWVzdCA9IG9iamVjdFN0b3JlLmdldChpZCkgYXMgSURCUmVxdWVzdDxUPjtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUPikucmVzdWx0KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBvYnMuZXJyb3IoZXJyb3IpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGVudHJ5IGJ5IGluZGV4LlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBxdWVyeVxuICAgKiBAcGFyYW0gaW5kZXhOYW1lIFRoZSBpbmRleCBuYW1lIHRvIGZpbHRlclxuICAgKiBAcGFyYW0ga2V5IFRoZSBlbnRyeSBrZXkuXG4gICAqL1xuICBnZXRCeUluZGV4PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCBpbmRleE5hbWU6IHN0cmluZywga2V5OiBJREJWYWxpZEtleSk6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gb2JqZWN0U3RvcmUuaW5kZXgoaW5kZXhOYW1lKTtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXguZ2V0KGtleSkgYXMgSURCUmVxdWVzdDxUPjtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUPikucmVzdWx0KTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgocmVhc29uKSA9PiBvYnMuZXJyb3IocmVhc29uKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGFsbCBlbGVtZW50cyBmcm9tIG9uZSBzdG9yZVxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBzZWxlY3QgdGhlIGl0ZW1zXG4gICAqL1xuICBnZXRBbGw8VD4oc3RvcmVOYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFRbXT4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yLCBvYnMubmV4dCkpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblxuICAgICAgICAgIGNvbnN0IHJlcXVlc3Q6IElEQlJlcXVlc3QgPSBvYmplY3RTdG9yZS5nZXRBbGwoKTtcblxuICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IChldnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBvYnMuZXJyb3IoZXZ0KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoeyB0YXJnZXQ6IHsgcmVzdWx0OiBSZXN1bHRBbGwgfSB9OiBSZXF1ZXN0RXZlbnQ8VD4pID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KFJlc3VsdEFsbCBhcyBUW10pO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gb2JzLmVycm9yKGVycm9yKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbGwgaXRlbXMgZnJvbSB0aGUgc3RvcmUgYWZ0ZXIgdXBkYXRlLlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byB1cGRhdGVcbiAgICogQHBhcmFtIHZhbHVlIFRoZSBuZXcgdmFsdWUgZm9yIHRoZSBlbnRyeVxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIHVwZGF0ZSBpZiBleGlzdHNcbiAgICovXG4gIHVwZGF0ZTxUPihzdG9yZU5hbWU6IHN0cmluZywgdmFsdWU6IFQsIGtleT86IGFueSk6IE9ic2VydmFibGU8VFtdPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkd3JpdGUsIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuXG4gICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ2V0QWxsKHN0b3JlTmFtZSlcbiAgICAgICAgICAgICAgLnBpcGUodGFrZSgxKSlcbiAgICAgICAgICAgICAgLnN1YnNjcmliZSgobmV3VmFsdWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JzLm5leHQobmV3VmFsdWVzIGFzIFRbXSk7XG4gICAgICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBrZXkgPyBvYmplY3RTdG9yZS5wdXQodmFsdWUsIGtleSkgOiBvYmplY3RTdG9yZS5wdXQodmFsdWUpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGl0ZW0geW91IHVwZGF0ZWQgZnJvbSB0aGUgc3RvcmUgYWZ0ZXIgdGhlIHVwZGF0ZS5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgbmV3IHZhbHVlIGZvciB0aGUgZW50cnlcbiAgICogQHBhcmFtIGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byB1cGRhdGVcbiAgICovXG4gIHVwZGF0ZUJ5S2V5PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCB2YWx1ZTogVCwga2V5OiBJREJWYWxpZEtleSk6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxUPigob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblxuICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdldEJ5S2V5KHN0b3JlTmFtZSwga2V5KVxuICAgICAgICAgICAgICAucGlwZSh0YWtlKDEpKVxuICAgICAgICAgICAgICAuc3Vic2NyaWJlKChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIG9icy5uZXh0KG5ld1ZhbHVlIGFzIFQpO1xuICAgICAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgb2JqZWN0U3RvcmUucHV0KHZhbHVlLCBrZXkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGl0ZW1zIGZyb20gdGhlIHN0b3JlIGFmdGVyIGRlbGV0ZS5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gaGF2ZSB0aGUgZW50cnkgZGVsZXRlZFxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGJlIGRlbGV0ZWRcbiAgICovXG4gIGRlbGV0ZTxUPihzdG9yZU5hbWU6IHN0cmluZywga2V5OiBLZXkpOiBPYnNlcnZhYmxlPFRbXT4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBvYmplY3RTdG9yZS5kZWxldGUoa2V5KTtcblxuICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdldEFsbChzdG9yZU5hbWUpXG4gICAgICAgICAgICAgIC5waXBlKHRha2UoMSkpXG4gICAgICAgICAgICAgIC5zdWJzY3JpYmUoKG5ld1ZhbHVlcykgPT4ge1xuICAgICAgICAgICAgICAgIG9icy5uZXh0KG5ld1ZhbHVlcyBhcyBUW10pO1xuICAgICAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBmcm9tIHRoZSBzdG9yZSBhZnRlciBhIHN1Y2Nlc3NmdWwgZGVsZXRlLlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBoYXZlIHRoZSBlbnRyeSBkZWxldGVkXG4gICAqIEBwYXJhbSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gYmUgZGVsZXRlZFxuICAgKi9cbiAgZGVsZXRlQnlLZXkoc3RvcmVOYW1lOiBzdHJpbmcsIGtleTogS2V5KTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkd3JpdGUsIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuXG4gICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KHRydWUpO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIG9iamVjdFN0b3JlLmRlbGV0ZShrZXkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBzdWNjZXNzZnVsbHkgZGVsZXRlIGFsbCBlbnRyaWVzIGZyb20gdGhlIHN0b3JlLlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBoYXZlIHRoZSBlbnRyaWVzIGRlbGV0ZWRcbiAgICovXG4gIGNsZWFyKHN0b3JlTmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkd3JpdGUsIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIG9iamVjdFN0b3JlLmNsZWFyKCk7XG4gICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KHRydWUpO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IG9icy5lcnJvcihyZWFzb24pKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgc3VjY2Vzc2Z1bGx5IGRlbGV0ZSB0aGUgREIuXG4gICAqL1xuICBkZWxldGVEYXRhYmFzZSgpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9icykgPT4ge1xuICAgICAgb3BlbkRhdGFiYXNlKHRoaXMuaW5kZXhlZERCLCB0aGlzLmRiQ29uZmlnLm5hbWUsIHRoaXMuZGJDb25maWcudmVyc2lvbilcbiAgICAgICAgLnRoZW4oYXN5bmMgKGRiKSA9PiB7XG4gICAgICAgICAgYXdhaXQgZGIuY2xvc2UoKTtcbiAgICAgICAgICBjb25zdCBkZWxldGVEQlJlcXVlc3QgPSB0aGlzLmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZSh0aGlzLmRiQ29uZmlnLm5hbWUpO1xuICAgICAgICAgIGRlbGV0ZURCUmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICBvYnMubmV4dCh0cnVlKTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZGVsZXRlREJSZXF1ZXN0Lm9uZXJyb3IgPSAoZXJyb3IpID0+IG9icy5lcnJvcihlcnJvcik7XG4gICAgICAgICAgZGVsZXRlREJSZXF1ZXN0Lm9uYmxvY2tlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGRlbGV0ZSBkYXRhYmFzZSBiZWNhdXNlIGl0J3MgYmxvY2tlZGApO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IG9icy5lcnJvcihlcnJvcikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG9wZW4gY3Vyc29yIGV2ZW50XG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIGhhdmUgdGhlIGVudHJpZXMgZGVsZXRlZFxuICAgKiBAcGFyYW0ga2V5UmFuZ2UgVGhlIGtleSByYW5nZSB3aGljaCB0aGUgY3Vyc29yIHNob3VsZCBiZSBvcGVuIG9uXG4gICAqL1xuICBvcGVuQ3Vyc29yKHN0b3JlTmFtZTogc3RyaW5nLCBrZXlSYW5nZT86IElEQktleVJhbmdlKTogT2JzZXJ2YWJsZTxFdmVudD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBrZXlSYW5nZSA9PT0gdW5kZWZpbmVkID8gb2JqZWN0U3RvcmUub3BlbkN1cnNvcigpIDogb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSk7XG5cbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KGV2ZW50KTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgocmVhc29uKSA9PiBvYnMuZXJyb3IocmVhc29uKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBhIGN1cnNvciBieSBpbmRleCBmaWx0ZXIuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0gaW5kZXhOYW1lIFRoZSBpbmRleCBuYW1lIHRvIGZpbHRlci5cbiAgICogQHBhcmFtIGtleVJhbmdlIFRoZSByYW5nZSB2YWx1ZSBhbmQgY3JpdGVyaWEgdG8gYXBwbHkgb24gdGhlIGluZGV4LlxuICAgKi9cbiAgb3BlbkN1cnNvckJ5SW5kZXgoXG4gICAgc3RvcmVOYW1lOiBzdHJpbmcsXG4gICAgaW5kZXhOYW1lOiBzdHJpbmcsXG4gICAga2V5UmFuZ2U6IElEQktleVJhbmdlLFxuICAgIG1vZGU6IERCTW9kZSA9IERCTW9kZS5yZWFkb25seVxuICApOiBPYnNlcnZhYmxlPEV2ZW50PiB7XG4gICAgY29uc3Qgb2JzID0gbmV3IFN1YmplY3Q8RXZlbnQ+KCk7XG5cbiAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgLnRoZW4oKGRiKSA9PiB7XG4gICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgKHJlYXNvbikgPT4ge1xuICAgICAgICAgIG9icy5lcnJvcihyZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihcbiAgICAgICAgICBkYixcbiAgICAgICAgICBvcHRpb25zR2VuZXJhdG9yKFxuICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgIHN0b3JlTmFtZSxcbiAgICAgICAgICAgIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgb2JzLmVycm9yKHJlYXNvbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBvYnMubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICBjb25zdCBpbmRleCA9IG9iamVjdFN0b3JlLmluZGV4KGluZGV4TmFtZSk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleC5vcGVuQ3Vyc29yKGtleVJhbmdlKTtcblxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICBvYnMubmV4dChldmVudCk7XG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChyZWFzb24pID0+IG9icy5lcnJvcihyZWFzb24pKTtcblxuICAgIHJldHVybiBvYnM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbGwgaXRlbXMgYnkgYW4gaW5kZXguXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqIEBwYXJhbSBpbmRleE5hbWUgVGhlIGluZGV4IG5hbWUgdG8gZmlsdGVyXG4gICAqIEBwYXJhbSBrZXlSYW5nZSAgVGhlIHJhbmdlIHZhbHVlIGFuZCBjcml0ZXJpYSB0byBhcHBseSBvbiB0aGUgaW5kZXguXG4gICAqL1xuICBnZXRBbGxCeUluZGV4PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCBpbmRleE5hbWU6IHN0cmluZywga2V5UmFuZ2U6IElEQktleVJhbmdlKTogT2JzZXJ2YWJsZTxUW10+IHtcbiAgICBjb25zdCBkYXRhOiBUW10gPSBbXTtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9icykgPT4ge1xuICAgICAgb3BlbkRhdGFiYXNlKHRoaXMuaW5kZXhlZERCLCB0aGlzLmRiQ29uZmlnLm5hbWUsIHRoaXMuZGJDb25maWcudmVyc2lvbilcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XG4gICAgICAgICAgdmFsaWRhdGVCZWZvcmVUcmFuc2FjdGlvbihkYiwgc3RvcmVOYW1lLCBvYnMuZXJyb3IpO1xuICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWRvbmx5LCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IG9iamVjdFN0b3JlLmluZGV4KGluZGV4TmFtZSk7XG4gICAgICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4Lm9wZW5DdXJzb3Ioa2V5UmFuZ2UpO1xuICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJzb3I6IElEQkN1cnNvcldpdGhWYWx1ZSA9IChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxJREJDdXJzb3JXaXRoVmFsdWU+KS5yZXN1bHQ7XG4gICAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgIGRhdGEucHVzaChjdXJzb3IudmFsdWUpO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9icy5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICBvYnMuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIHByaW1hcnkga2V5cyBieSBhbiBpbmRleC5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gcXVlcnlcbiAgICogQHBhcmFtIGluZGV4TmFtZSBUaGUgaW5kZXggbmFtZSB0byBmaWx0ZXJcbiAgICogQHBhcmFtIGtleVJhbmdlICBUaGUgcmFuZ2UgdmFsdWUgYW5kIGNyaXRlcmlhIHRvIGFwcGx5IG9uIHRoZSBpbmRleC5cbiAgICovXG4gIGdldEFsbEtleXNCeUluZGV4KFxuICAgIHN0b3JlTmFtZTogc3RyaW5nLFxuICAgIGluZGV4TmFtZTogc3RyaW5nLFxuICAgIGtleVJhbmdlOiBJREJLZXlSYW5nZVxuICApOiBPYnNlcnZhYmxlPHsgcHJpbWFyeUtleTogYW55OyBrZXk6IGFueSB9W10+IHtcbiAgICBjb25zdCBkYXRhOiB7IHByaW1hcnlLZXk6IGFueTsga2V5OiBhbnkgfVtdID0gW107XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkb25seSwgc3RvcmVOYW1lLCBvYnMuZXJyb3IpKTtcbiAgICAgICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBvYmplY3RTdG9yZS5pbmRleChpbmRleE5hbWUpO1xuICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleC5vcGVuS2V5Q3Vyc29yKGtleVJhbmdlKTtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3Vyc29yOiBJREJDdXJzb3IgPSAoZXZlbnQudGFyZ2V0IGFzIElEQlJlcXVlc3Q8SURCQ3Vyc29yPikucmVzdWx0O1xuICAgICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgICBkYXRhLnB1c2goeyBwcmltYXJ5S2V5OiBjdXJzb3IucHJpbWFyeUtleSwga2V5OiBjdXJzb3Iua2V5IH0pO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9icy5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICBvYnMuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiByb3dzIGluIGEgc3RvcmUuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqIEBwYXJhbSBrZXlSYW5nZSAgVGhlIHJhbmdlIHZhbHVlIGFuZCBjcml0ZXJpYSB0byBhcHBseS5cbiAgICovXG4gIGNvdW50KHN0b3JlTmFtZTogc3RyaW5nLCBrZXlSYW5nZT86IElEQlZhbGlkS2V5IHwgSURCS2V5UmFuZ2UpOiBPYnNlcnZhYmxlPG51bWJlcj4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIGNvbnN0IHJlcXVlc3Q6IElEQlJlcXVlc3QgPSBvYmplY3RTdG9yZS5jb3VudChrZXlSYW5nZSk7XG4gICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IG9icy5lcnJvcihlKTtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChlKSA9PiB7XG4gICAgICAgICAgICBvYnMubmV4dCgoKGUudGFyZ2V0IGFzIElEQk9wZW5EQlJlcXVlc3QpLnJlc3VsdCBhcyB1bmtub3duKSBhcyBudW1iZXIpO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IG9icy5lcnJvcihyZWFzb24pKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgdGhlIHN0b3JlIGJ5IG5hbWUuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqL1xuICBkZWxldGVPYmplY3RTdG9yZShzdG9yZU5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgICAgcmV0dXJuIERlbGV0ZU9iamVjdFN0b3JlKHRoaXMuZGJDb25maWcubmFtZSwgKyt0aGlzLmRiQ29uZmlnLnZlcnNpb24sIHN0b3JlTmFtZSk7XG4gIH1cbn1cbiJdfQ==","customTransformCache":false,"dependencies":["@angular/core","/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.mjs","/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/utils/index.mjs","/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.meta.mjs","@angular/common","rxjs","rxjs/operators"],"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.service.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { openDatabase, CreateObjectStore, DeleteObjectStore } from './ngx-indexed-db';\nimport { createTransaction, optionsGenerator, validateBeforeTransaction } from '../utils';\nimport { CONFIG_TOKEN, DBMode } from './ngx-indexed-db.meta';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Observable, Subject, combineLatest, from } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nexport class NgxIndexedDBService {\n    constructor(dbConfig, platformId) {\n        this.dbConfig = dbConfig;\n        this.platformId = platformId;\n        if (!dbConfig.name) {\n            throw new Error('NgxIndexedDB: Please, provide the dbName in the configuration');\n        }\n        if (!dbConfig.version) {\n            throw new Error('NgxIndexedDB: Please, provide the db version in the configuration');\n        }\n        this.isBrowser = isPlatformBrowser(this.platformId);\n        if (this.isBrowser) {\n            this.indexedDB =\n                window.indexedDB ||\n                    window.mozIndexedDB ||\n                    window.webkitIndexedDB ||\n                    window.msIndexedDB;\n            CreateObjectStore(this.indexedDB, dbConfig.name, dbConfig.version, dbConfig.objectStoresMeta, dbConfig.migrationFactory);\n            openDatabase(this.indexedDB, dbConfig.name).then((db) => {\n                if (db.version !== dbConfig.version) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        console.warn(`\n            Your DB Config doesn't match the most recent version of the DB with name ${this.dbConfig.name}, please update it\n            DB current version: ${db.version};\n            Your configuration: ${dbConfig.version};\n            `);\n                        console.warn(`Using latest version ${db.version}`);\n                    }\n                    this.dbConfig.version = db.version;\n                }\n            });\n        }\n    }\n    /**\n     * Allows to crate a new object store ad-hoc\n     * @param storeName The name of the store to be created\n     * @param migrationFactory The migration factory if exists\n     */\n    createObjectStore(storeSchema, migrationFactory) {\n        const storeSchemas = [storeSchema];\n        CreateObjectStore(this.indexedDB, this.dbConfig.name, ++this.dbConfig.version, storeSchemas, migrationFactory);\n    }\n    /**\n     * Adds new entry in the store and returns its key\n     * @param storeName The name of the store to add the item\n     * @param value The entry to be added\n     * @param key The optional key for the entry\n     */\n    add(storeName, value, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const request = Boolean(key) ? objectStore.add(value, key) : objectStore.add(value);\n                request.onsuccess = async (evt) => {\n                    const result = evt.target.result;\n                    const getRequest = objectStore.get(result);\n                    getRequest.onsuccess = (event) => {\n                        obs.next(event.target.result);\n                        obs.complete();\n                    };\n                };\n            })\n                .catch((error) => obs.error(error));\n        });\n    }\n    /**\n     * Adds new entries in the store and returns its key\n     * @param storeName The name of the store to add the item\n     * @param values The entries to be added containing optional key attribute\n     */\n    bulkAdd(storeName, values) {\n        const promises = new Promise((resolve, reject) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, resolve, reject));\n                const objectStore = transaction.objectStore(storeName);\n                const results = values.map((value) => {\n                    return new Promise((resolve1, reject1) => {\n                        const key = value.key;\n                        delete value.key;\n                        const request = Boolean(key)\n                            ? objectStore.add(value, key)\n                            : objectStore.add(value);\n                        request.onsuccess = (evt) => {\n                            const result = evt.target.result;\n                            resolve1(result);\n                        };\n                    });\n                });\n                resolve(Promise.all(results));\n            }).catch((reason) => reject(reason));\n        });\n        return from(promises);\n    }\n    /**\n     * Delete entries in the store and returns current entries in the store\n     * @param storeName The name of the store to add the item\n     * @param keys The keys to be deleted\n     */\n    bulkDelete(storeName, keys) {\n        const promises = keys.map((key) => {\n            return new Promise((resolve, reject) => {\n                openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                    .then((db) => {\n                    const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, reject, resolve));\n                    const objectStore = transaction.objectStore(storeName);\n                    objectStore.delete(key);\n                    transaction.oncomplete = () => {\n                        this.getAll(storeName)\n                            .pipe(take(1))\n                            .subscribe((newValues) => {\n                            resolve(newValues);\n                        });\n                    };\n                })\n                    .catch((reason) => reject(reason));\n            });\n        });\n        return from(Promise.all(promises));\n    }\n    /**\n     * Returns entry by key.\n     * @param storeName The name of the store to query\n     * @param key The entry key\n     */\n    getByKey(storeName, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const request = objectStore.get(key);\n                request.onsuccess = (event) => {\n                    obs.next(event.target.result);\n                    obs.complete();\n                };\n                request.onerror = (event) => {\n                    obs.error(event);\n                };\n            })\n                .catch((error) => obs.error(error));\n        });\n    }\n    /**\n     * Retrieve multiple entries in the store\n     * @param storeName The name of the store to retrieve the items\n     * @param keys The ids entries to be retrieve\n     */\n    bulkGet(storeName, keys) {\n        const observables = keys.map((key) => this.getByKey(storeName, key));\n        return new Observable((obs) => {\n            combineLatest(observables).subscribe((values) => {\n                obs.next(values);\n                obs.complete();\n            });\n        });\n    }\n    /**\n     * Returns entry by id.\n     * @param storeName The name of the store to query\n     * @param id The entry id\n     */\n    getByID(storeName, id) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error, obs.next));\n                const objectStore = transaction.objectStore(storeName);\n                const request = objectStore.get(id);\n                request.onsuccess = (event) => {\n                    obs.next(event.target.result);\n                };\n            })\n                .catch((error) => obs.error(error));\n        });\n    }\n    /**\n     * Returns entry by index.\n     * @param storeName The name of the store to query\n     * @param indexName The index name to filter\n     * @param key The entry key.\n     */\n    getByIndex(storeName, indexName, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const index = objectStore.index(indexName);\n                const request = index.get(key);\n                request.onsuccess = (event) => {\n                    obs.next(event.target.result);\n                    obs.complete();\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Return all elements from one store\n     * @param storeName The name of the store to select the items\n     */\n    getAll(storeName) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error, obs.next));\n                const objectStore = transaction.objectStore(storeName);\n                const request = objectStore.getAll();\n                request.onerror = (evt) => {\n                    obs.error(evt);\n                };\n                request.onsuccess = ({ target: { result: ResultAll } }) => {\n                    obs.next(ResultAll);\n                    obs.complete();\n                };\n            })\n                .catch((error) => obs.error(error));\n        });\n    }\n    /**\n     * Returns all items from the store after update.\n     * @param storeName The name of the store to update\n     * @param value The new value for the entry\n     * @param key The key of the entry to update if exists\n     */\n    update(storeName, value, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                transaction.oncomplete = () => {\n                    this.getAll(storeName)\n                        .pipe(take(1))\n                        .subscribe((newValues) => {\n                        obs.next(newValues);\n                        obs.complete();\n                    });\n                };\n                key ? objectStore.put(value, key) : objectStore.put(value);\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns the item you updated from the store after the update.\n     * @param storeName The name of the store to update\n     * @param value The new value for the entry\n     * @param key The key of the entry to update\n     */\n    updateByKey(storeName, value, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                transaction.oncomplete = () => {\n                    this.getByKey(storeName, key)\n                        .pipe(take(1))\n                        .subscribe((newValue) => {\n                        obs.next(newValue);\n                        obs.complete();\n                    });\n                };\n                objectStore.put(value, key);\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns all items from the store after delete.\n     * @param storeName The name of the store to have the entry deleted\n     * @param key The key of the entry to be deleted\n     */\n    delete(storeName, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                objectStore.delete(key);\n                transaction.oncomplete = () => {\n                    this.getAll(storeName)\n                        .pipe(take(1))\n                        .subscribe((newValues) => {\n                        obs.next(newValues);\n                        obs.complete();\n                    });\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns true from the store after a successful delete.\n     * @param storeName The name of the store to have the entry deleted\n     * @param key The key of the entry to be deleted\n     */\n    deleteByKey(storeName, key) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                transaction.oncomplete = () => {\n                    obs.next(true);\n                    obs.complete();\n                };\n                objectStore.delete(key);\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns true if successfully delete all entries from the store.\n     * @param storeName The name of the store to have the entries deleted\n     */\n    clear(storeName) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                objectStore.clear();\n                transaction.oncomplete = () => {\n                    obs.next(true);\n                    obs.complete();\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns true if successfully delete the DB.\n     */\n    deleteDatabase() {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then(async (db) => {\n                await db.close();\n                const deleteDBRequest = this.indexedDB.deleteDatabase(this.dbConfig.name);\n                deleteDBRequest.onsuccess = () => {\n                    obs.next(true);\n                    obs.complete();\n                };\n                deleteDBRequest.onerror = (error) => obs.error(error);\n                deleteDBRequest.onblocked = () => {\n                    throw new Error(`Unable to delete database because it's blocked`);\n                };\n            })\n                .catch((error) => obs.error(error));\n        });\n    }\n    /**\n     * Returns the open cursor event\n     * @param storeName The name of the store to have the entries deleted\n     * @param keyRange The key range which the cursor should be open on\n     */\n    openCursor(storeName, keyRange) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const request = keyRange === undefined ? objectStore.openCursor() : objectStore.openCursor(keyRange);\n                request.onsuccess = (event) => {\n                    obs.next(event);\n                    obs.complete();\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Open a cursor by index filter.\n     * @param storeName The name of the store to query.\n     * @param indexName The index name to filter.\n     * @param keyRange The range value and criteria to apply on the index.\n     */\n    openCursorByIndex(storeName, indexName, keyRange, mode = DBMode.readonly) {\n        const obs = new Subject();\n        openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n            .then((db) => {\n            validateBeforeTransaction(db, storeName, (reason) => {\n                obs.error(reason);\n            });\n            const transaction = createTransaction(db, optionsGenerator(mode, storeName, (reason) => {\n                obs.error(reason);\n            }, () => {\n                obs.next();\n            }));\n            const objectStore = transaction.objectStore(storeName);\n            const index = objectStore.index(indexName);\n            const request = index.openCursor(keyRange);\n            request.onsuccess = (event) => {\n                obs.next(event);\n            };\n        })\n            .catch((reason) => obs.error(reason));\n        return obs;\n    }\n    /**\n     * Returns all items by an index.\n     * @param storeName The name of the store to query\n     * @param indexName The index name to filter\n     * @param keyRange  The range value and criteria to apply on the index.\n     */\n    getAllByIndex(storeName, indexName, keyRange) {\n        const data = [];\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const index = objectStore.index(indexName);\n                const request = index.openCursor(keyRange);\n                request.onsuccess = (event) => {\n                    const cursor = event.target.result;\n                    if (cursor) {\n                        data.push(cursor.value);\n                        cursor.continue();\n                    }\n                    else {\n                        obs.next(data);\n                        obs.complete();\n                    }\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns all primary keys by an index.\n     * @param storeName The name of the store to query\n     * @param indexName The index name to filter\n     * @param keyRange  The range value and criteria to apply on the index.\n     */\n    getAllKeysByIndex(storeName, indexName, keyRange) {\n        const data = [];\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const index = objectStore.index(indexName);\n                const request = index.openKeyCursor(keyRange);\n                request.onsuccess = (event) => {\n                    const cursor = event.target.result;\n                    if (cursor) {\n                        data.push({ primaryKey: cursor.primaryKey, key: cursor.key });\n                        cursor.continue();\n                    }\n                    else {\n                        obs.next(data);\n                        obs.complete();\n                    }\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Returns the number of rows in a store.\n     * @param storeName The name of the store to query\n     * @param keyRange  The range value and criteria to apply.\n     */\n    count(storeName, keyRange) {\n        return new Observable((obs) => {\n            openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n                .then((db) => {\n                validateBeforeTransaction(db, storeName, obs.error);\n                const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n                const objectStore = transaction.objectStore(storeName);\n                const request = objectStore.count(keyRange);\n                request.onerror = (e) => obs.error(e);\n                request.onsuccess = (e) => {\n                    obs.next(e.target.result);\n                    obs.complete();\n                };\n            })\n                .catch((reason) => obs.error(reason));\n        });\n    }\n    /**\n     * Delete the store by name.\n     * @param storeName The name of the store to query\n     */\n    deleteObjectStore(storeName) {\n        return DeleteObjectStore(this.dbConfig.name, ++this.dbConfig.version, storeName);\n    }\n}\nNgxIndexedDBService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBService, deps: [{ token: CONFIG_TOKEN }, { token: PLATFORM_ID }], target: i0.ɵɵFactoryTarget.Injectable });\nNgxIndexedDBService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: undefined, decorators: [{\n                    type: Inject,\n                    args: [CONFIG_TOKEN]\n                }] }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [PLATFORM_ID]\n                }] }]; } });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIuc2VydmljZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9saWIvbmd4LWluZGV4ZWQtZGIuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxXQUFXLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDaEUsT0FBTyxFQUFFLFlBQVksRUFBRSxpQkFBaUIsRUFBRSxpQkFBaUIsRUFBRSxNQUFNLGtCQUFrQixDQUFDO0FBQ3RGLE9BQU8sRUFBRSxpQkFBaUIsRUFBRSxnQkFBZ0IsRUFBRSx5QkFBeUIsRUFBRSxNQUFNLFVBQVUsQ0FBQztBQUMxRixPQUFPLEVBQUUsWUFBWSxFQUFnRCxNQUFNLEVBQVUsTUFBTSx1QkFBdUIsQ0FBQztBQUNuSCxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNwRCxPQUFPLEVBQUUsVUFBVSxFQUFFLE9BQU8sRUFBRSxhQUFhLEVBQUUsSUFBSSxFQUFFLE1BQU0sTUFBTSxDQUFDO0FBQ2hFLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7QUFHdEMsTUFBTSxPQUFPLG1CQUFtQjtJQUk5QixZQUEwQyxRQUFrQixFQUErQixVQUFlO1FBQWhFLGFBQVEsR0FBUixRQUFRLENBQVU7UUFBK0IsZUFBVSxHQUFWLFVBQVUsQ0FBSztRQUN4RyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRTtZQUNsQixNQUFNLElBQUksS0FBSyxDQUFDLCtEQUErRCxDQUFDLENBQUM7U0FDbEY7UUFDRCxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRTtZQUNyQixNQUFNLElBQUksS0FBSyxDQUFDLG1FQUFtRSxDQUFDLENBQUM7U0FDdEY7UUFDRCxJQUFJLENBQUMsU0FBUyxHQUFHLGlCQUFpQixDQUFDLElBQUksQ0FBQyxV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QUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FBQztJQUNyRixDQUFDOztnSEE5akJVLG1CQUFtQixrQkFJVixZQUFZLGFBQXNDLFdBQVc7b0hBSnRFLG1CQUFtQjsyRkFBbkIsbUJBQW1CO2tCQUQvQixVQUFVOzswQkFLSSxNQUFNOzJCQUFDLFlBQVk7OzBCQUErQixNQUFNOzJCQUFDLFdBQVciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJbmplY3RhYmxlLCBJbmplY3QsIFBMQVRGT1JNX0lEIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBvcGVuRGF0YWJhc2UsIENyZWF0ZU9iamVjdFN0b3JlLCBEZWxldGVPYmplY3RTdG9yZSB9IGZyb20gJy4vbmd4LWluZGV4ZWQtZGInO1xuaW1wb3J0IHsgY3JlYXRlVHJhbnNhY3Rpb24sIG9wdGlvbnNHZW5lcmF0b3IsIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24gfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBDT05GSUdfVE9LRU4sIERCQ29uZmlnLCBLZXksIFJlcXVlc3RFdmVudCwgT2JqZWN0U3RvcmVNZXRhLCBEQk1vZGUsIFdpdGhJRCB9IGZyb20gJy4vbmd4LWluZGV4ZWQtZGIubWV0YSc7XG5pbXBvcnQgeyBpc1BsYXRmb3JtQnJvd3NlciB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0LCBjb21iaW5lTGF0ZXN0LCBmcm9tIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0YWtlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgTmd4SW5kZXhlZERCU2VydmljZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgaXNCcm93c2VyOiBib29sZWFuO1xuICBwcml2YXRlIGluZGV4ZWREQjogSURCRmFjdG9yeTtcblxuICBjb25zdHJ1Y3RvcihASW5qZWN0KENPTkZJR19UT0tFTikgcHJpdmF0ZSBkYkNvbmZpZzogREJDb25maWcsIEBJbmplY3QoUExBVEZPUk1fSUQpIHByaXZhdGUgcGxhdGZvcm1JZDogYW55KSB7XG4gICAgaWYgKCFkYkNvbmZpZy5uYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05neEluZGV4ZWREQjogUGxlYXNlLCBwcm92aWRlIHRoZSBkYk5hbWUgaW4gdGhlIGNvbmZpZ3VyYXRpb24nKTtcbiAgICB9XG4gICAgaWYgKCFkYkNvbmZpZy52ZXJzaW9uKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05neEluZGV4ZWREQjogUGxlYXNlLCBwcm92aWRlIHRoZSBkYiB2ZXJzaW9uIGluIHRoZSBjb25maWd1cmF0aW9uJyk7XG4gICAgfVxuICAgIHRoaXMuaXNCcm93c2VyID0gaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKTtcbiAgICBpZiAodGhpcy5pc0Jyb3dzZXIpIHtcbiAgICAgIHRoaXMuaW5kZXhlZERCID1cbiAgICAgICAgd2luZG93LmluZGV4ZWREQiB8fFxuICAgICAgICAod2luZG93IGFzIGFueSkubW96SW5kZXhlZERCIHx8XG4gICAgICAgICh3aW5kb3cgYXMgYW55KS53ZWJraXRJbmRleGVkREIgfHxcbiAgICAgICAgKHdpbmRvdyBhcyBhbnkpLm1zSW5kZXhlZERCO1xuXG4gICAgICBDcmVhdGVPYmplY3RTdG9yZShcbiAgICAgICAgdGhpcy5pbmRleGVkREIsXG4gICAgICAgIGRiQ29uZmlnLm5hbWUsXG4gICAgICAgIGRiQ29uZmlnLnZlcnNpb24sXG4gICAgICAgIGRiQ29uZmlnLm9iamVjdFN0b3Jlc01ldGEsXG4gICAgICAgIGRiQ29uZmlnLm1pZ3JhdGlvbkZhY3RvcnlcbiAgICAgICk7XG5cbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgZGJDb25maWcubmFtZSkudGhlbigoZGIpID0+IHtcbiAgICAgICAgaWYgKGRiLnZlcnNpb24gIT09IGRiQ29uZmlnLnZlcnNpb24pIHtcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBcbiAgICAgICAgICAgIFlvdXIgREIgQ29uZmlnIGRvZXNuJ3QgbWF0Y2ggdGhlIG1vc3QgcmVjZW50IHZlcnNpb24gb2YgdGhlIERCIHdpdGggbmFtZSAke3RoaXMuZGJDb25maWcubmFtZX0sIHBsZWFzZSB1cGRhdGUgaXRcbiAgICAgICAgICAgIERCIGN1cnJlbnQgdmVyc2lvbjogJHtkYi52ZXJzaW9ufTtcbiAgICAgICAgICAgIFlvdXIgY29uZmlndXJhdGlvbjogJHtkYkNvbmZpZy52ZXJzaW9ufTtcbiAgICAgICAgICAgIGApO1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBVc2luZyBsYXRlc3QgdmVyc2lvbiAke2RiLnZlcnNpb259YCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuZGJDb25maWcudmVyc2lvbiA9IGRiLnZlcnNpb247XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBbGxvd3MgdG8gY3JhdGUgYSBuZXcgb2JqZWN0IHN0b3JlIGFkLWhvY1xuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBiZSBjcmVhdGVkXG4gICAqIEBwYXJhbSBtaWdyYXRpb25GYWN0b3J5IFRoZSBtaWdyYXRpb24gZmFjdG9yeSBpZiBleGlzdHNcbiAgICovXG4gIGNyZWF0ZU9iamVjdFN0b3JlKFxuICAgIHN0b3JlU2NoZW1hOiBPYmplY3RTdG9yZU1ldGEsXG4gICAgbWlncmF0aW9uRmFjdG9yeT86ICgpID0+IHsgW2tleTogbnVtYmVyXTogKGRiOiBJREJEYXRhYmFzZSwgdHJhbnNhY3Rpb246IElEQlRyYW5zYWN0aW9uKSA9PiB2b2lkIH1cbiAgKTogdm9pZCB7XG4gICAgY29uc3Qgc3RvcmVTY2hlbWFzOiBPYmplY3RTdG9yZU1ldGFbXSA9IFtzdG9yZVNjaGVtYV07XG4gICAgQ3JlYXRlT2JqZWN0U3RvcmUodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgKyt0aGlzLmRiQ29uZmlnLnZlcnNpb24sIHN0b3JlU2NoZW1hcywgbWlncmF0aW9uRmFjdG9yeSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBuZXcgZW50cnkgaW4gdGhlIHN0b3JlIGFuZCByZXR1cm5zIGl0cyBrZXlcbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gYWRkIHRoZSBpdGVtXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgZW50cnkgdG8gYmUgYWRkZWRcbiAgICogQHBhcmFtIGtleSBUaGUgb3B0aW9uYWwga2V5IGZvciB0aGUgZW50cnlcbiAgICovXG4gIGFkZDxUPihzdG9yZU5hbWU6IHN0cmluZywgdmFsdWU6IFQsIGtleT86IGFueSk6IE9ic2VydmFibGU8VCAmIFdpdGhJRD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0OiBJREJSZXF1ZXN0PElEQlZhbGlkS2V5PiA9IEJvb2xlYW4oa2V5KSA/IG9iamVjdFN0b3JlLmFkZCh2YWx1ZSwga2V5KSA6IG9iamVjdFN0b3JlLmFkZCh2YWx1ZSk7XG5cbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IGFzeW5jIChldnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQ6IGFueSA9IChldnQudGFyZ2V0IGFzIElEQk9wZW5EQlJlcXVlc3QpLnJlc3VsdDtcbiAgICAgICAgICAgIGNvbnN0IGdldFJlcXVlc3Q6IElEQlJlcXVlc3QgPSBvYmplY3RTdG9yZS5nZXQocmVzdWx0KSBhcyBJREJSZXF1ZXN0PFQ+O1xuICAgICAgICAgICAgZ2V0UmVxdWVzdC5vbnN1Y2Nlc3MgPSAoZXZlbnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUICYgV2l0aElEPikucmVzdWx0KTtcbiAgICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IG9icy5lcnJvcihlcnJvcikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgbmV3IGVudHJpZXMgaW4gdGhlIHN0b3JlIGFuZCByZXR1cm5zIGl0cyBrZXlcbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gYWRkIHRoZSBpdGVtXG4gICAqIEBwYXJhbSB2YWx1ZXMgVGhlIGVudHJpZXMgdG8gYmUgYWRkZWQgY29udGFpbmluZyBvcHRpb25hbCBrZXkgYXR0cmlidXRlXG4gICAqL1xuICBidWxrQWRkPFQ+KHN0b3JlTmFtZTogc3RyaW5nLCB2YWx1ZXM6IEFycmF5PFQgJiB7IGtleT86IGFueSB9Pik6IE9ic2VydmFibGU8bnVtYmVyW10+IHtcbiAgICBjb25zdCBwcm9taXNlcyA9IG5ldyBQcm9taXNlPG51bWJlcltdPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIHJlc29sdmUsIHJlamVjdCkpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblxuICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSB2YWx1ZXMubWFwKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPG51bWJlcj4oKHJlc29sdmUxLCByZWplY3QxKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IGtleSA9IHZhbHVlLmtleTtcbiAgICAgICAgICAgICAgZGVsZXRlIHZhbHVlLmtleTtcblxuICAgICAgICAgICAgICBjb25zdCByZXF1ZXN0OiBJREJSZXF1ZXN0PElEQlZhbGlkS2V5PiA9IEJvb2xlYW4oa2V5KVxuICAgICAgICAgICAgICAgID8gb2JqZWN0U3RvcmUuYWRkKHZhbHVlLCBrZXkpXG4gICAgICAgICAgICAgICAgOiBvYmplY3RTdG9yZS5hZGQodmFsdWUpO1xuXG4gICAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2dDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSAoZXZ0LnRhcmdldCBhcyBJREJPcGVuREJSZXF1ZXN0KS5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZTEoKHJlc3VsdCBhcyB1bmtub3duKSBhcyBudW1iZXIpO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXNvbHZlKFByb21pc2UuYWxsKHJlc3VsdHMpKTtcblxuICAgICAgICB9KS5jYXRjaCgocmVhc29uKSA9PiByZWplY3QocmVhc29uKSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZnJvbShwcm9taXNlcyk7XG4gIH1cblxuICAvKipcbiAgICogRGVsZXRlIGVudHJpZXMgaW4gdGhlIHN0b3JlIGFuZCByZXR1cm5zIGN1cnJlbnQgZW50cmllcyBpbiB0aGUgc3RvcmVcbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gYWRkIHRoZSBpdGVtXG4gICAqIEBwYXJhbSBrZXlzIFRoZSBrZXlzIHRvIGJlIGRlbGV0ZWRcbiAgICovXG4gIGJ1bGtEZWxldGUoc3RvcmVOYW1lOiBzdHJpbmcsIGtleXM6IEtleVtdKTogT2JzZXJ2YWJsZTxudW1iZXJbXT4ge1xuICAgIGNvbnN0IHByb21pc2VzID0ga2V5cy5tYXAoKGtleSkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPG51bWJlcj4oKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAgIC50aGVuKChkYjogSURCRGF0YWJhc2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWR3cml0ZSwgc3RvcmVOYW1lLCByZWplY3QsIHJlc29sdmUpKTtcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICAgIG9iamVjdFN0b3JlLmRlbGV0ZShrZXkpO1xuXG4gICAgICAgICAgICB0cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmdldEFsbChzdG9yZU5hbWUpXG4gICAgICAgICAgICAgICAgLnBpcGUodGFrZSgxKSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChuZXdWYWx1ZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUobmV3VmFsdWVzIGFzIGFueSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IHJlamVjdChyZWFzb24pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBmcm9tKFByb21pc2UuYWxsKHByb21pc2VzKSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBlbnRyeSBieSBrZXkuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqIEBwYXJhbSBrZXkgVGhlIGVudHJ5IGtleVxuICAgKi9cbiAgZ2V0QnlLZXk8VD4oc3RvcmVOYW1lOiBzdHJpbmcsIGtleTogSURCVmFsaWRLZXkpOiBPYnNlcnZhYmxlPFQ+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGU8VD4oKG9icykgPT4ge1xuICAgICAgb3BlbkRhdGFiYXNlKHRoaXMuaW5kZXhlZERCLCB0aGlzLmRiQ29uZmlnLm5hbWUsIHRoaXMuZGJDb25maWcudmVyc2lvbilcbiAgICAgICAgLnRoZW4oKGRiOiBJREJEYXRhYmFzZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWRvbmx5LCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gb2JqZWN0U3RvcmUuZ2V0KGtleSkgYXMgSURCUmVxdWVzdDxUPjtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUPikucmVzdWx0KTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGV2ZW50OiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgb2JzLmVycm9yKGV2ZW50KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBvYnMuZXJyb3IoZXJyb3IpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBtdWx0aXBsZSBlbnRyaWVzIGluIHRoZSBzdG9yZVxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byByZXRyaWV2ZSB0aGUgaXRlbXNcbiAgICogQHBhcmFtIGtleXMgVGhlIGlkcyBlbnRyaWVzIHRvIGJlIHJldHJpZXZlXG4gICAqL1xuICBidWxrR2V0PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCBrZXlzOiBBcnJheTxJREJWYWxpZEtleT4pOiBhbnkge1xuICAgIGNvbnN0IG9ic2VydmFibGVzID0ga2V5cy5tYXAoKGtleSkgPT4gdGhpcy5nZXRCeUtleShzdG9yZU5hbWUsIGtleSkpO1xuXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIGNvbWJpbmVMYXRlc3Qob2JzZXJ2YWJsZXMpLnN1YnNjcmliZSgodmFsdWVzKSA9PiB7XG4gICAgICAgIG9icy5uZXh0KHZhbHVlcyk7XG4gICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBlbnRyeSBieSBpZC5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gcXVlcnlcbiAgICogQHBhcmFtIGlkIFRoZSBlbnRyeSBpZFxuICAgKi9cbiAgZ2V0QnlJRDxUPihzdG9yZU5hbWU6IHN0cmluZywgaWQ6IHN0cmluZyB8IG51bWJlcik6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGI6IElEQkRhdGFiYXNlKSA9PiB7XG4gICAgICAgICAgdmFsaWRhdGVCZWZvcmVUcmFuc2FjdGlvbihkYiwgc3RvcmVOYW1lLCBvYnMuZXJyb3IpO1xuICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWRvbmx5LCBzdG9yZU5hbWUsIG9icy5lcnJvciwgb2JzLm5leHQpKTtcbiAgICAgICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgY29uc3QgcmVxdWVzdDogSURCUmVxdWVzdCA9IG9iamVjdFN0b3JlLmdldChpZCkgYXMgSURCUmVxdWVzdDxUPjtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUPikucmVzdWx0KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiBvYnMuZXJyb3IoZXJyb3IpKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGVudHJ5IGJ5IGluZGV4LlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBxdWVyeVxuICAgKiBAcGFyYW0gaW5kZXhOYW1lIFRoZSBpbmRleCBuYW1lIHRvIGZpbHRlclxuICAgKiBAcGFyYW0ga2V5IFRoZSBlbnRyeSBrZXkuXG4gICAqL1xuICBnZXRCeUluZGV4PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCBpbmRleE5hbWU6IHN0cmluZywga2V5OiBJREJWYWxpZEtleSk6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIGNvbnN0IGluZGV4ID0gb2JqZWN0U3RvcmUuaW5kZXgoaW5kZXhOYW1lKTtcbiAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXguZ2V0KGtleSkgYXMgSURCUmVxdWVzdDxUPjtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxUPikucmVzdWx0KTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgocmVhc29uKSA9PiBvYnMuZXJyb3IocmVhc29uKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJuIGFsbCBlbGVtZW50cyBmcm9tIG9uZSBzdG9yZVxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBzZWxlY3QgdGhlIGl0ZW1zXG4gICAqL1xuICBnZXRBbGw8VD4oc3RvcmVOYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFRbXT4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yLCBvYnMubmV4dCkpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblxuICAgICAgICAgIGNvbnN0IHJlcXVlc3Q6IElEQlJlcXVlc3QgPSBvYmplY3RTdG9yZS5nZXRBbGwoKTtcblxuICAgICAgICAgIHJlcXVlc3Qub25lcnJvciA9IChldnQ6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBvYnMuZXJyb3IoZXZ0KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoeyB0YXJnZXQ6IHsgcmVzdWx0OiBSZXN1bHRBbGwgfSB9OiBSZXF1ZXN0RXZlbnQ8VD4pID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KFJlc3VsdEFsbCBhcyBUW10pO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gb2JzLmVycm9yKGVycm9yKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbGwgaXRlbXMgZnJvbSB0aGUgc3RvcmUgYWZ0ZXIgdXBkYXRlLlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byB1cGRhdGVcbiAgICogQHBhcmFtIHZhbHVlIFRoZSBuZXcgdmFsdWUgZm9yIHRoZSBlbnRyeVxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIHVwZGF0ZSBpZiBleGlzdHNcbiAgICovXG4gIHVwZGF0ZTxUPihzdG9yZU5hbWU6IHN0cmluZywgdmFsdWU6IFQsIGtleT86IGFueSk6IE9ic2VydmFibGU8VFtdPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkd3JpdGUsIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuXG4gICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ2V0QWxsKHN0b3JlTmFtZSlcbiAgICAgICAgICAgICAgLnBpcGUodGFrZSgxKSlcbiAgICAgICAgICAgICAgLnN1YnNjcmliZSgobmV3VmFsdWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgb2JzLm5leHQobmV3VmFsdWVzIGFzIFRbXSk7XG4gICAgICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICBrZXkgPyBvYmplY3RTdG9yZS5wdXQodmFsdWUsIGtleSkgOiBvYmplY3RTdG9yZS5wdXQodmFsdWUpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGl0ZW0geW91IHVwZGF0ZWQgZnJvbSB0aGUgc3RvcmUgYWZ0ZXIgdGhlIHVwZGF0ZS5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gdXBkYXRlXG4gICAqIEBwYXJhbSB2YWx1ZSBUaGUgbmV3IHZhbHVlIGZvciB0aGUgZW50cnlcbiAgICogQHBhcmFtIGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byB1cGRhdGVcbiAgICovXG4gIHVwZGF0ZUJ5S2V5PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCB2YWx1ZTogVCwga2V5OiBJREJWYWxpZEtleSk6IE9ic2VydmFibGU8VD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZTxUPigob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcblxuICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdldEJ5S2V5KHN0b3JlTmFtZSwga2V5KVxuICAgICAgICAgICAgICAucGlwZSh0YWtlKDEpKVxuICAgICAgICAgICAgICAuc3Vic2NyaWJlKChuZXdWYWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgIG9icy5uZXh0KG5ld1ZhbHVlIGFzIFQpO1xuICAgICAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgb2JqZWN0U3RvcmUucHV0KHZhbHVlLCBrZXkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIGl0ZW1zIGZyb20gdGhlIHN0b3JlIGFmdGVyIGRlbGV0ZS5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gaGF2ZSB0aGUgZW50cnkgZGVsZXRlZFxuICAgKiBAcGFyYW0ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGJlIGRlbGV0ZWRcbiAgICovXG4gIGRlbGV0ZTxUPihzdG9yZU5hbWU6IHN0cmluZywga2V5OiBLZXkpOiBPYnNlcnZhYmxlPFRbXT4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZHdyaXRlLCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBvYmplY3RTdG9yZS5kZWxldGUoa2V5KTtcblxuICAgICAgICAgIHRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmdldEFsbChzdG9yZU5hbWUpXG4gICAgICAgICAgICAgIC5waXBlKHRha2UoMSkpXG4gICAgICAgICAgICAgIC5zdWJzY3JpYmUoKG5ld1ZhbHVlcykgPT4ge1xuICAgICAgICAgICAgICAgIG9icy5uZXh0KG5ld1ZhbHVlcyBhcyBUW10pO1xuICAgICAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBmcm9tIHRoZSBzdG9yZSBhZnRlciBhIHN1Y2Nlc3NmdWwgZGVsZXRlLlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBoYXZlIHRoZSBlbnRyeSBkZWxldGVkXG4gICAqIEBwYXJhbSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gYmUgZGVsZXRlZFxuICAgKi9cbiAgZGVsZXRlQnlLZXkoc3RvcmVOYW1lOiBzdHJpbmcsIGtleTogS2V5KTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkd3JpdGUsIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuXG4gICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KHRydWUpO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIG9iamVjdFN0b3JlLmRlbGV0ZShrZXkpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBzdWNjZXNzZnVsbHkgZGVsZXRlIGFsbCBlbnRyaWVzIGZyb20gdGhlIHN0b3JlLlxuICAgKiBAcGFyYW0gc3RvcmVOYW1lIFRoZSBuYW1lIG9mIHRoZSBzdG9yZSB0byBoYXZlIHRoZSBlbnRyaWVzIGRlbGV0ZWRcbiAgICovXG4gIGNsZWFyKHN0b3JlTmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkd3JpdGUsIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIG9iamVjdFN0b3JlLmNsZWFyKCk7XG4gICAgICAgICAgdHJhbnNhY3Rpb24ub25jb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KHRydWUpO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IG9icy5lcnJvcihyZWFzb24pKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHRydWUgaWYgc3VjY2Vzc2Z1bGx5IGRlbGV0ZSB0aGUgREIuXG4gICAqL1xuICBkZWxldGVEYXRhYmFzZSgpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9icykgPT4ge1xuICAgICAgb3BlbkRhdGFiYXNlKHRoaXMuaW5kZXhlZERCLCB0aGlzLmRiQ29uZmlnLm5hbWUsIHRoaXMuZGJDb25maWcudmVyc2lvbilcbiAgICAgICAgLnRoZW4oYXN5bmMgKGRiKSA9PiB7XG4gICAgICAgICAgYXdhaXQgZGIuY2xvc2UoKTtcbiAgICAgICAgICBjb25zdCBkZWxldGVEQlJlcXVlc3QgPSB0aGlzLmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZSh0aGlzLmRiQ29uZmlnLm5hbWUpO1xuICAgICAgICAgIGRlbGV0ZURCUmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICBvYnMubmV4dCh0cnVlKTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZGVsZXRlREJSZXF1ZXN0Lm9uZXJyb3IgPSAoZXJyb3IpID0+IG9icy5lcnJvcihlcnJvcik7XG4gICAgICAgICAgZGVsZXRlREJSZXF1ZXN0Lm9uYmxvY2tlZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5hYmxlIHRvIGRlbGV0ZSBkYXRhYmFzZSBiZWNhdXNlIGl0J3MgYmxvY2tlZGApO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IG9icy5lcnJvcihlcnJvcikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG9wZW4gY3Vyc29yIGV2ZW50XG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIGhhdmUgdGhlIGVudHJpZXMgZGVsZXRlZFxuICAgKiBAcGFyYW0ga2V5UmFuZ2UgVGhlIGtleSByYW5nZSB3aGljaCB0aGUgY3Vyc29yIHNob3VsZCBiZSBvcGVuIG9uXG4gICAqL1xuICBvcGVuQ3Vyc29yKHN0b3JlTmFtZTogc3RyaW5nLCBrZXlSYW5nZT86IElEQktleVJhbmdlKTogT2JzZXJ2YWJsZTxFdmVudD4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBrZXlSYW5nZSA9PT0gdW5kZWZpbmVkID8gb2JqZWN0U3RvcmUub3BlbkN1cnNvcigpIDogb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSk7XG5cbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICAgIG9icy5uZXh0KGV2ZW50KTtcbiAgICAgICAgICAgIG9icy5jb21wbGV0ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgocmVhc29uKSA9PiBvYnMuZXJyb3IocmVhc29uKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogT3BlbiBhIGN1cnNvciBieSBpbmRleCBmaWx0ZXIuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5LlxuICAgKiBAcGFyYW0gaW5kZXhOYW1lIFRoZSBpbmRleCBuYW1lIHRvIGZpbHRlci5cbiAgICogQHBhcmFtIGtleVJhbmdlIFRoZSByYW5nZSB2YWx1ZSBhbmQgY3JpdGVyaWEgdG8gYXBwbHkgb24gdGhlIGluZGV4LlxuICAgKi9cbiAgb3BlbkN1cnNvckJ5SW5kZXgoXG4gICAgc3RvcmVOYW1lOiBzdHJpbmcsXG4gICAgaW5kZXhOYW1lOiBzdHJpbmcsXG4gICAga2V5UmFuZ2U6IElEQktleVJhbmdlLFxuICAgIG1vZGU6IERCTW9kZSA9IERCTW9kZS5yZWFkb25seVxuICApOiBPYnNlcnZhYmxlPEV2ZW50PiB7XG4gICAgY29uc3Qgb2JzID0gbmV3IFN1YmplY3Q8RXZlbnQ+KCk7XG5cbiAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgLnRoZW4oKGRiKSA9PiB7XG4gICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgKHJlYXNvbikgPT4ge1xuICAgICAgICAgIG9icy5lcnJvcihyZWFzb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihcbiAgICAgICAgICBkYixcbiAgICAgICAgICBvcHRpb25zR2VuZXJhdG9yKFxuICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgIHN0b3JlTmFtZSxcbiAgICAgICAgICAgIChyZWFzb24pID0+IHtcbiAgICAgICAgICAgICAgb2JzLmVycm9yKHJlYXNvbik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICBvYnMubmV4dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICBjb25zdCBpbmRleCA9IG9iamVjdFN0b3JlLmluZGV4KGluZGV4TmFtZSk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleC5vcGVuQ3Vyc29yKGtleVJhbmdlKTtcblxuICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICAgICAgICBvYnMubmV4dChldmVudCk7XG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChyZWFzb24pID0+IG9icy5lcnJvcihyZWFzb24pKTtcblxuICAgIHJldHVybiBvYnM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhbGwgaXRlbXMgYnkgYW4gaW5kZXguXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqIEBwYXJhbSBpbmRleE5hbWUgVGhlIGluZGV4IG5hbWUgdG8gZmlsdGVyXG4gICAqIEBwYXJhbSBrZXlSYW5nZSAgVGhlIHJhbmdlIHZhbHVlIGFuZCBjcml0ZXJpYSB0byBhcHBseSBvbiB0aGUgaW5kZXguXG4gICAqL1xuICBnZXRBbGxCeUluZGV4PFQ+KHN0b3JlTmFtZTogc3RyaW5nLCBpbmRleE5hbWU6IHN0cmluZywga2V5UmFuZ2U6IElEQktleVJhbmdlKTogT2JzZXJ2YWJsZTxUW10+IHtcbiAgICBjb25zdCBkYXRhOiBUW10gPSBbXTtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoKG9icykgPT4ge1xuICAgICAgb3BlbkRhdGFiYXNlKHRoaXMuaW5kZXhlZERCLCB0aGlzLmRiQ29uZmlnLm5hbWUsIHRoaXMuZGJDb25maWcudmVyc2lvbilcbiAgICAgICAgLnRoZW4oKGRiKSA9PiB7XG4gICAgICAgICAgdmFsaWRhdGVCZWZvcmVUcmFuc2FjdGlvbihkYiwgc3RvcmVOYW1lLCBvYnMuZXJyb3IpO1xuICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gY3JlYXRlVHJhbnNhY3Rpb24oZGIsIG9wdGlvbnNHZW5lcmF0b3IoREJNb2RlLnJlYWRvbmx5LCBzdG9yZU5hbWUsIG9icy5lcnJvcikpO1xuICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoc3RvcmVOYW1lKTtcbiAgICAgICAgICBjb25zdCBpbmRleCA9IG9iamVjdFN0b3JlLmluZGV4KGluZGV4TmFtZSk7XG4gICAgICAgICAgY29uc3QgcmVxdWVzdCA9IGluZGV4Lm9wZW5DdXJzb3Ioa2V5UmFuZ2UpO1xuICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjdXJzb3I6IElEQkN1cnNvcldpdGhWYWx1ZSA9IChldmVudC50YXJnZXQgYXMgSURCUmVxdWVzdDxJREJDdXJzb3JXaXRoVmFsdWU+KS5yZXN1bHQ7XG4gICAgICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgICAgIGRhdGEucHVzaChjdXJzb3IudmFsdWUpO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9icy5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICBvYnMuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYWxsIHByaW1hcnkga2V5cyBieSBhbiBpbmRleC5cbiAgICogQHBhcmFtIHN0b3JlTmFtZSBUaGUgbmFtZSBvZiB0aGUgc3RvcmUgdG8gcXVlcnlcbiAgICogQHBhcmFtIGluZGV4TmFtZSBUaGUgaW5kZXggbmFtZSB0byBmaWx0ZXJcbiAgICogQHBhcmFtIGtleVJhbmdlICBUaGUgcmFuZ2UgdmFsdWUgYW5kIGNyaXRlcmlhIHRvIGFwcGx5IG9uIHRoZSBpbmRleC5cbiAgICovXG4gIGdldEFsbEtleXNCeUluZGV4KFxuICAgIHN0b3JlTmFtZTogc3RyaW5nLFxuICAgIGluZGV4TmFtZTogc3RyaW5nLFxuICAgIGtleVJhbmdlOiBJREJLZXlSYW5nZVxuICApOiBPYnNlcnZhYmxlPHsgcHJpbWFyeUtleTogYW55OyBrZXk6IGFueSB9W10+IHtcbiAgICBjb25zdCBkYXRhOiB7IHByaW1hcnlLZXk6IGFueTsga2V5OiBhbnkgfVtdID0gW107XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKChvYnMpID0+IHtcbiAgICAgIG9wZW5EYXRhYmFzZSh0aGlzLmluZGV4ZWREQiwgdGhpcy5kYkNvbmZpZy5uYW1lLCB0aGlzLmRiQ29uZmlnLnZlcnNpb24pXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICAgIHZhbGlkYXRlQmVmb3JlVHJhbnNhY3Rpb24oZGIsIHN0b3JlTmFtZSwgb2JzLmVycm9yKTtcbiAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGNyZWF0ZVRyYW5zYWN0aW9uKGRiLCBvcHRpb25zR2VuZXJhdG9yKERCTW9kZS5yZWFkb25seSwgc3RvcmVOYW1lLCBvYnMuZXJyb3IpKTtcbiAgICAgICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHN0b3JlTmFtZSk7XG4gICAgICAgICAgY29uc3QgaW5kZXggPSBvYmplY3RTdG9yZS5pbmRleChpbmRleE5hbWUpO1xuICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleC5vcGVuS2V5Q3Vyc29yKGtleVJhbmdlKTtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3Vyc29yOiBJREJDdXJzb3IgPSAoZXZlbnQudGFyZ2V0IGFzIElEQlJlcXVlc3Q8SURCQ3Vyc29yPikucmVzdWx0O1xuICAgICAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgICAgICBkYXRhLnB1c2goeyBwcmltYXJ5S2V5OiBjdXJzb3IucHJpbWFyeUtleSwga2V5OiBjdXJzb3Iua2V5IH0pO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG9icy5uZXh0KGRhdGEpO1xuICAgICAgICAgICAgICBvYnMuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goKHJlYXNvbikgPT4gb2JzLmVycm9yKHJlYXNvbikpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG51bWJlciBvZiByb3dzIGluIGEgc3RvcmUuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqIEBwYXJhbSBrZXlSYW5nZSAgVGhlIHJhbmdlIHZhbHVlIGFuZCBjcml0ZXJpYSB0byBhcHBseS5cbiAgICovXG4gIGNvdW50KHN0b3JlTmFtZTogc3RyaW5nLCBrZXlSYW5nZT86IElEQlZhbGlkS2V5IHwgSURCS2V5UmFuZ2UpOiBPYnNlcnZhYmxlPG51bWJlcj4ge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzKSA9PiB7XG4gICAgICBvcGVuRGF0YWJhc2UodGhpcy5pbmRleGVkREIsIHRoaXMuZGJDb25maWcubmFtZSwgdGhpcy5kYkNvbmZpZy52ZXJzaW9uKVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgICB2YWxpZGF0ZUJlZm9yZVRyYW5zYWN0aW9uKGRiLCBzdG9yZU5hbWUsIG9icy5lcnJvcik7XG4gICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSBjcmVhdGVUcmFuc2FjdGlvbihkYiwgb3B0aW9uc0dlbmVyYXRvcihEQk1vZGUucmVhZG9ubHksIHN0b3JlTmFtZSwgb2JzLmVycm9yKSk7XG4gICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZShzdG9yZU5hbWUpO1xuICAgICAgICAgIGNvbnN0IHJlcXVlc3Q6IElEQlJlcXVlc3QgPSBvYmplY3RTdG9yZS5jb3VudChrZXlSYW5nZSk7XG4gICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKGUpID0+IG9icy5lcnJvcihlKTtcbiAgICAgICAgICByZXF1ZXN0Lm9uc3VjY2VzcyA9IChlKSA9PiB7XG4gICAgICAgICAgICBvYnMubmV4dCgoKGUudGFyZ2V0IGFzIElEQk9wZW5EQlJlcXVlc3QpLnJlc3VsdCBhcyB1bmtub3duKSBhcyBudW1iZXIpO1xuICAgICAgICAgICAgb2JzLmNvbXBsZXRlKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChyZWFzb24pID0+IG9icy5lcnJvcihyZWFzb24pKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgdGhlIHN0b3JlIGJ5IG5hbWUuXG4gICAqIEBwYXJhbSBzdG9yZU5hbWUgVGhlIG5hbWUgb2YgdGhlIHN0b3JlIHRvIHF1ZXJ5XG4gICAqL1xuICBkZWxldGVPYmplY3RTdG9yZShzdG9yZU5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8Ym9vbGVhbj4ge1xuICAgICAgcmV0dXJuIERlbGV0ZU9iamVjdFN0b3JlKHRoaXMuZGJDb25maWcubmFtZSwgKyt0aGlzLmRiQ29uZmlnLnZlcnNpb24sIHN0b3JlTmFtZSk7XG4gIH1cbn1cbiJdfQ==","originalSourcemap":{"version":3,"file":"ngx-indexed-db.service.js","sourceRoot":"","sources":["../../../../projects/ngx-indexed-db/src/lib/ngx-indexed-db.service.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[19,0,0,19],[21,0,0,21],[27,0,0,27],[29,0,0,29],[40,0,0,40],[42,0,0,42],[48,0,0,48],[63,0,0,63],[64,0,0,64]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[21,0,1,21],[23,0,1,23],[40,0,1,40],[42,0,1,42],[59,0,1,59],[61,0,1,61],[67,0,1,67],[85,0,1,85],[86,0,1,86]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[26,0,2,26],[28,0,2,28],[44,0,2,44],[46,0,2,46],[71,0,2,71],[73,0,2,73],[79,0,2,79],[89,0,2,89],[90,0,2,90]],[[0,0,3,0],[7,0,3,7],[9,0,3,9],[21,0,3,21],[23,0,3,69],[29,0,3,75],[31,0,3,85],[37,0,3,91],[60,0,3,114],[61,0,3,115]],[[0,0,4,0],[7,0,4,7],[9,0,4,9],[26,0,4,26],[28,0,4,28],[34,0,4,34],[51,0,4,51],[52,0,4,52]],[[0,0,5,0],[7,0,5,7],[9,0,5,9],[19,0,5,19],[21,0,5,21],[28,0,5,28],[30,0,5,30],[43,0,5,43],[45,0,5,45],[49,0,5,49],[51,0,5,51],[57,0,5,57],[63,0,5,63],[64,0,5,64]],[[0,0,6,0],[7,0,6,7],[9,0,6,9],[13,0,6,13],[15,0,6,15],[21,0,6,21],[37,0,6,37],[38,0,6,38]],[],[[0,0,9,0],[6,0,9,6],[13,0,9,13],[32,0,9,32]],[[4,0,13,2],[16,0,13,44],[24,0,13,62],[26,0,13,93],[36,0,13,108]],[[8,0,13,44],[21,0,13,52],[24,0,13,44],[32,0,13,52],[33,0,13,62]],[[8,0,13,93],[23,0,13,103],[26,0,13,93],[36,0,13,103],[37,0,13,108]],[[8,0,14,4],[12,0,14,8],[13,0,14,9],[21,0,14,17],[22,0,14,18],[26,0,14,22],[28,0,14,24]],[[12,0,15,6],[18,0,15,12],[22,0,15,16],[27,0,15,21],[28,0,15,22],[91,0,15,85],[92,0,15,86],[93,0,15,87]],[[9,0,16,5]],[[8,0,17,4],[12,0,17,8],[13,0,17,9],[21,0,17,17],[22,0,17,18],[29,0,17,25],[31,0,17,27]],[[12,0,18,6],[18,0,18,12],[22,0,18,16],[27,0,18,21],[28,0,18,22],[95,0,18,89],[96,0,18,90],[97,0,18,91]],[[9,0,19,5]],[[8,0,20,4],[12,0,20,8],[13,0,20,9],[22,0,20,18],[25,0,20,21],[42,0,20,38],[43,0,20,39],[47,0,20,43],[48,0,20,44],[58,0,20,54],[59,0,20,55],[60,0,20,56]],[[8,0,21,4],[12,0,21,8],[16,0,21,12],[17,0,21,13],[26,0,21,22],[28,0,21,24]],[[12,0,22,6],[16,0,22,10],[17,0,22,11],[26,0,22,20]],[[16,0,23,8],[22,0,23,14],[23,0,23,15],[32,0,23,24]],[[20,0,24,9],[26,0,24,23],[27,0,24,24],[39,0,24,36]],[[20,0,25,9],[26,0,25,23],[27,0,25,24],[42,0,25,39]],[[20,0,26,9],[26,0,26,23],[27,0,26,24],[38,0,26,35],[39,0,26,36]],[[12,0,28,6],[29,0,28,23],[30,0,29,8],[34,0,29,12],[35,0,29,13],[44,0,29,22],[46,0,30,8],[54,0,30,16],[55,0,30,17],[59,0,30,21],[61,0,31,8],[69,0,31,16],[70,0,31,17],[77,0,31,24],[79,0,32,8],[87,0,32,16],[88,0,32,17],[104,0,32,33],[106,0,33,8],[114,0,33,16],[115,0,33,17],[131,0,33,33],[132,0,34,7],[133,0,34,8]],[[12,0,36,6],[24,0,36,18],[25,0,36,19],[29,0,36,23],[30,0,36,24],[39,0,36,33],[41,0,36,35],[49,0,36,43],[50,0,36,44],[54,0,36,48],[55,0,36,49],[56,0,36,50],[60,0,36,54],[61,0,36,55],[62,0,36,56],[64,0,36,58],[66,0,36,60],[68,0,36,62]],[[16,0,37,8],[20,0,37,12],[22,0,37,14],[23,0,37,15],[30,0,37,22],[35,0,37,27],[43,0,37,35],[44,0,37,36],[51,0,37,43],[53,0,37,45]],[[20,0,38,10],[24,0,38,14],[31,0,38,21],[32,0,38,22],[35,0,38,25],[36,0,38,26],[44,0,38,34],[49,0,38,39],[61,0,38,51],[63,0,38,53]],[[24,0,39,12],[31,0,39,19],[32,0,39,20],[36,0,39,24],[37,0,39,25]],[[87,0,40,87],[91,0,40,91],[92,0,40,92],[100,0,40,100],[101,0,40,101],[105,0,40,105]],[[34,0,41,34],[36,0,41,36],[37,0,41,37],[44,0,41,44]],[[34,0,42,34],[42,0,42,42],[43,0,42,43],[50,0,42,50]],[[13,0,43,13],[14,0,43,14],[15,0,43,15]],[[24,0,44,12],[31,0,44,19],[32,0,44,20],[36,0,44,24],[37,0,44,25],[61,0,44,49],[63,0,44,51],[64,0,44,52],[71,0,44,59],[73,0,44,61],[74,0,44,62],[75,0,44,63]],[[21,0,45,11]],[[20,0,46,10],[24,0,46,14],[25,0,46,15],[33,0,46,23],[34,0,46,24],[41,0,46,31],[44,0,46,34],[46,0,46,36],[47,0,46,37],[54,0,46,44],[55,0,46,45]],[[17,0,47,9]],[[12,0,48,6],[13,0,48,7],[14,0,48,8],[15,0,48,9]],[[9,0,49,5]],[[4,0,50,2],[5,0,50,3]],[[4,0,52,2]],[],[],[],[[7,0,56,5]],[[4,0,57,2],[21,0,57,19],[22,0,58,4],[33,0,58,32],[35,0,59,4],[51,0,59,102]],[[8,0,61,4],[14,0,61,10],[26,0,61,22],[29,0,61,44],[30,0,61,45],[41,0,61,56],[42,0,61,57],[43,0,61,58]],[[8,0,62,4],[25,0,62,21],[26,0,62,22],[30,0,62,26],[31,0,62,27],[40,0,62,36],[42,0,62,38],[46,0,62,42],[47,0,62,43],[55,0,62,51],[56,0,62,52],[60,0,62,56],[62,0,62,58],[64,0,62,60],[68,0,62,64],[69,0,62,65],[77,0,62,73],[78,0,62,74],[85,0,62,81],[87,0,62,83],[99,0,62,95],[101,0,62,97],[117,0,62,113],[118,0,62,114],[119,0,62,115]],[[4,0,63,2],[5,0,63,3]],[[4,0,65,2]],[],[],[],[],[[7,0,70,5]],[[4,0,71,2],[7,0,71,5],[8,0,71,9],[17,0,71,26],[19,0,71,28],[24,0,71,36],[26,0,71,38],[29,0,71,47]],[[8,0,72,4],[15,0,72,11],[19,0,72,15],[29,0,72,25],[30,0,72,26],[31,0,72,27],[34,0,72,30],[36,0,72,32],[38,0,72,34]],[[12,0,73,6],[24,0,73,18],[25,0,73,19],[29,0,73,23],[30,0,73,24],[39,0,73,33],[41,0,73,35],[45,0,73,39],[46,0,73,40],[54,0,73,48],[55,0,73,49],[59,0,73,53],[61,0,73,55],[65,0,73,59],[66,0,73,60],[74,0,73,68],[75,0,73,69],[82,0,73,76],[83,0,73,77]],[[17,0,74,9],[21,0,74,13],[22,0,74,14],[23,0,74,15],[25,0,74,30],[27,0,74,32],[29,0,74,34]],[[16,0,75,10],[22,0,75,16],[33,0,75,27],[36,0,75,30],[53,0,75,47],[54,0,75,48],[56,0,75,50],[58,0,75,52],[74,0,75,68],[75,0,75,69],[81,0,75,75],[82,0,75,76],[91,0,75,85],[93,0,75,87],[102,0,75,96],[104,0,75,98],[107,0,75,101],[108,0,75,102],[113,0,75,107],[114,0,75,108],[115,0,75,109],[116,0,75,110]],[[16,0,76,10],[22,0,76,16],[33,0,76,27],[36,0,76,30],[47,0,76,41],[48,0,76,42],[59,0,76,53],[60,0,76,54],[69,0,76,63],[70,0,76,64],[71,0,76,65]],[[16,0,77,10],[22,0,77,16],[29,0,77,23],[32,0,77,51],[39,0,77,58],[40,0,77,59],[43,0,77,62],[44,0,77,63],[45,0,77,64],[46,0,77,65],[47,0,77,66],[58,0,77,77],[59,0,77,78],[62,0,77,81],[63,0,77,82],[68,0,77,87],[70,0,77,89],[73,0,77,92],[74,0,77,93],[75,0,77,94],[76,0,77,95],[77,0,77,96],[88,0,77,107],[89,0,77,108],[92,0,77,111],[93,0,77,112],[98,0,77,117],[99,0,77,118],[100,0,77,119]],[[16,0,79,10],[23,0,79,17],[24,0,79,18],[33,0,79,27],[36,0,79,30],[41,0,79,35],[43,0,79,37],[46,0,79,47],[48,0,79,49],[50,0,79,51]],[[20,0,80,12],[26,0,80,18],[32,0,80,24],[35,0,80,33],[38,0,80,36],[39,0,80,37],[45,0,80,64],[46,0,80,65],[52,0,80,71],[53,0,80,72]],[[20,0,81,12],[26,0,81,18],[36,0,81,28],[39,0,81,43],[50,0,81,54],[51,0,81,55],[54,0,81,58],[55,0,81,59],[61,0,81,65],[62,0,81,83],[63,0,81,84]],[[20,0,82,12],[30,0,82,22],[31,0,82,23],[40,0,82,32],[43,0,82,35],[44,0,82,36],[49,0,82,48],[51,0,82,50],[53,0,82,52]],[[24,0,83,14],[27,0,83,17],[28,0,83,18],[32,0,83,22],[33,0,83,24],[38,0,83,29],[39,0,83,30],[45,0,83,63],[46,0,83,64],[52,0,83,70],[53,0,83,71],[54,0,83,72]],[[24,0,84,14],[27,0,84,17],[28,0,84,18],[36,0,84,26],[38,0,84,28],[39,0,84,29]],[[20,0,85,12],[21,0,85,13],[22,0,85,14]],[[16,0,86,10],[17,0,86,11],[18,0,86,12]],[[12,0,87,8],[13,0,87,9],[14,0,87,10]],[[17,0,88,9],[22,0,88,14],[23,0,88,15],[24,0,88,16],[29,0,88,21],[31,0,88,23],[33,0,88,25],[34,0,88,26],[37,0,88,29],[38,0,88,30],[43,0,88,35],[44,0,88,36],[49,0,88,41],[50,0,88,42],[51,0,88,43],[52,0,88,44]],[[8,0,89,4],[9,0,89,5],[10,0,89,6],[11,0,89,7]],[[4,0,90,2],[5,0,90,3]],[[4,0,92,2]],[],[],[],[[7,0,96,5]],[[4,0,97,2],[11,0,97,9],[12,0,97,13],[21,0,97,30],[23,0,97,32],[29,0,97,64]],[[8,0,98,4],[14,0,98,10],[22,0,98,18],[25,0,98,21],[29,0,98,25],[36,0,98,32],[37,0,98,43],[38,0,98,44],[45,0,98,51],[47,0,98,53],[53,0,98,59],[55,0,98,61],[57,0,98,63]],[[12,0,99,6],[24,0,99,18],[25,0,99,19],[29,0,99,23],[30,0,99,24],[39,0,99,33],[41,0,99,35],[45,0,99,39],[46,0,99,40],[54,0,99,48],[55,0,99,49],[59,0,99,53],[61,0,99,55],[65,0,99,59],[66,0,99,60],[74,0,99,68],[75,0,99,69],[82,0,99,76],[83,0,99,77]],[[17,0,100,9],[21,0,100,13],[22,0,100,14],[23,0,100,15],[25,0,100,30],[27,0,100,32],[29,0,100,34]],[[16,0,101,10],[22,0,101,16],[33,0,101,27],[36,0,101,30],[53,0,101,47],[54,0,101,48],[56,0,101,50],[58,0,101,52],[74,0,101,68],[75,0,101,69],[81,0,101,75],[82,0,101,76],[91,0,101,85],[93,0,101,87],[102,0,101,96],[104,0,101,98],[111,0,101,105],[113,0,101,107],[119,0,101,113],[120,0,101,114],[121,0,101,115],[122,0,101,116]],[[16,0,102,10],[22,0,102,16],[33,0,102,27],[36,0,102,30],[47,0,102,41],[48,0,102,42],[59,0,102,53],[60,0,102,54],[69,0,102,63],[70,0,102,64],[71,0,102,65]],[[16,0,104,10],[22,0,104,16],[29,0,104,23],[32,0,104,26],[38,0,104,32],[39,0,104,33],[42,0,104,36],[43,0,104,37],[44,0,104,38],[49,0,104,43],[51,0,104,45],[53,0,104,47]],[[20,0,105,12],[27,0,105,19],[31,0,105,23],[38,0,105,30],[39,0,105,39],[40,0,105,40],[48,0,105,48],[50,0,105,50],[57,0,105,57],[59,0,105,59],[61,0,105,61]],[[24,0,106,14],[30,0,106,20],[33,0,106,23],[36,0,106,26],[41,0,106,31],[42,0,106,32],[45,0,106,35],[46,0,106,36]],[[24,0,107,14],[31,0,107,21],[36,0,107,26],[37,0,107,27],[40,0,107,30],[41,0,107,31]],[[24,0,109,14],[30,0,109,20],[37,0,109,27],[40,0,109,55],[47,0,109,62],[48,0,109,63],[51,0,109,66],[52,0,109,67]],[[28,0,110,16],[29,0,110,17],[30,0,110,18],[41,0,110,29],[42,0,110,30],[45,0,110,33],[46,0,110,34],[51,0,110,39],[53,0,110,41],[56,0,110,44],[57,0,110,45]],[[28,0,111,16],[29,0,111,17],[30,0,111,18],[41,0,111,29],[42,0,111,30],[45,0,111,33],[46,0,111,34],[51,0,111,39],[52,0,111,40],[53,0,111,41]],[[24,0,113,14],[31,0,113,21],[32,0,113,22],[41,0,113,31],[44,0,113,34],[45,0,113,35],[48,0,113,45],[50,0,113,47],[52,0,113,49]],[[28,0,114,16],[34,0,114,22],[40,0,114,28],[43,0,114,32],[46,0,114,35],[47,0,114,36],[53,0,114,63],[54,0,114,64],[60,0,114,70],[61,0,114,71]],[[28,0,115,16],[36,0,115,24],[37,0,115,26],[43,0,115,54],[44,0,115,55],[45,0,115,56]],[[24,0,116,14],[25,0,116,15],[26,0,116,16]],[[20,0,117,12],[21,0,117,13],[22,0,117,14],[23,0,117,15]],[[16,0,118,10],[17,0,118,11],[18,0,118,12],[19,0,118,13]],[[16,0,120,10],[23,0,120,17],[24,0,120,18],[31,0,120,25],[32,0,120,26],[35,0,120,29],[36,0,120,30],[43,0,120,37],[44,0,120,38],[45,0,120,39],[46,0,120,40]],[[12,0,122,8],[13,0,122,9],[14,0,122,10],[15,0,122,11],[20,0,122,16],[21,0,122,17],[22,0,122,18],[28,0,122,24],[30,0,122,26],[32,0,122,28],[33,0,122,29],[39,0,122,35],[40,0,122,36],[46,0,122,42],[47,0,122,43],[48,0,122,44],[49,0,122,45]],[[8,0,123,4],[9,0,123,5],[10,0,123,6],[11,0,123,7]],[[8,0,125,4],[15,0,125,11],[19,0,125,15],[20,0,125,16],[28,0,125,24],[29,0,125,25],[30,0,125,26]],[[4,0,126,2],[5,0,126,3]],[[4,0,128,2]],[],[],[],[[7,0,132,5]],[[4,0,133,2],[14,0,133,12],[15,0,133,13],[24,0,133,30],[26,0,133,32],[30,0,133,43]],[[8,0,134,4],[14,0,134,10],[22,0,134,18],[25,0,134,21],[29,0,134,25],[30,0,134,26],[33,0,134,29],[34,0,134,30],[35,0,134,31],[38,0,134,34],[40,0,134,36],[42,0,134,38]],[[12,0,135,6],[19,0,135,13],[23,0,135,17],[30,0,135,24],[31,0,135,33],[32,0,135,34],[39,0,135,41],[41,0,135,43],[47,0,135,49],[49,0,135,51],[51,0,135,53]],[[16,0,136,8],[28,0,136,20],[29,0,136,21],[33,0,136,25],[34,0,136,26],[43,0,136,35],[45,0,136,37],[49,0,136,41],[50,0,136,42],[58,0,136,50],[59,0,136,51],[63,0,136,55],[65,0,136,57],[69,0,136,61],[70,0,136,62],[78,0,136,70],[79,0,136,71],[86,0,136,78],[87,0,136,79]],[[21,0,137,11],[25,0,137,15],[26,0,137,16],[27,0,137,17],[29,0,137,32],[31,0,137,34],[33,0,137,36]],[[20,0,138,12],[26,0,138,18],[37,0,138,29],[40,0,138,32],[57,0,138,49],[58,0,138,50],[60,0,138,52],[62,0,138,54],[78,0,138,70],[79,0,138,71],[85,0,138,77],[86,0,138,78],[95,0,138,87],[97,0,138,89],[106,0,138,98],[108,0,138,100],[114,0,138,106],[116,0,138,108],[123,0,138,115],[124,0,138,116],[125,0,138,117],[126,0,138,118]],[[20,0,139,12],[26,0,139,18],[37,0,139,29],[40,0,139,32],[51,0,139,43],[52,0,139,44],[63,0,139,55],[64,0,139,56],[73,0,139,65],[74,0,139,66],[75,0,139,67]],[[20,0,140,12],[31,0,140,23],[32,0,140,24],[38,0,140,30],[39,0,140,31],[42,0,140,34],[43,0,140,35],[44,0,140,36]],[[20,0,142,12],[31,0,142,23],[32,0,142,24],[42,0,142,34],[45,0,142,37],[48,0,142,40],[50,0,142,42]],[[24,0,143,14],[28,0,143,18],[29,0,143,19],[35,0,143,25],[36,0,143,26],[45,0,143,35],[46,0,143,36]],[[29,0,144,17],[33,0,144,21],[34,0,144,22],[38,0,144,26],[39,0,144,27],[40,0,144,28],[41,0,144,29],[42,0,144,30]],[[29,0,145,17],[38,0,145,26],[39,0,145,27],[40,0,145,28],[49,0,145,37],[51,0,145,39],[53,0,145,41]],[[28,0,146,18],[35,0,146,25],[36,0,146,26],[45,0,146,42],[46,0,146,43],[47,0,146,44]],[[24,0,147,16],[25,0,147,17],[26,0,147,18],[27,0,147,19]],[[20,0,148,12],[21,0,148,13],[22,0,148,14]],[[16,0,149,10],[17,0,149,11],[18,0,149,12]],[[21,0,150,11],[26,0,150,16],[27,0,150,17],[28,0,150,18],[34,0,150,24],[36,0,150,26],[38,0,150,28],[39,0,150,29],[45,0,150,35],[46,0,150,36],[52,0,150,42],[53,0,150,43],[54,0,150,44],[55,0,150,45]],[[12,0,151,6],[13,0,151,7],[14,0,151,8],[15,0,151,9]],[[8,0,152,4],[9,0,152,5],[10,0,152,6],[11,0,152,7]],[[8,0,153,4],[15,0,153,11],[19,0,153,15],[20,0,153,16],[27,0,153,23],[28,0,153,24],[31,0,153,27],[32,0,153,28],[40,0,153,36],[41,0,153,37],[42,0,153,38],[43,0,153,39]],[[4,0,154,2],[5,0,154,3]],[[4,0,156,2]],[],[],[],[[7,0,160,5]],[[4,0,161,2],[12,0,161,10],[13,0,161,14],[22,0,161,31],[24,0,161,33],[27,0,161,49]],[[8,0,162,4],[15,0,162,11],[19,0,162,15],[29,0,162,25],[30,0,162,29],[31,0,162,30],[34,0,162,33],[36,0,162,35],[38,0,162,37]],[[12,0,163,6],[24,0,163,18],[25,0,163,19],[29,0,163,23],[30,0,163,24],[39,0,163,33],[41,0,163,35],[45,0,163,39],[46,0,163,40],[54,0,163,48],[55,0,163,49],[59,0,163,53],[61,0,163,55],[65,0,163,59],[66,0,163,60],[74,0,163,68],[75,0,163,69],[82,0,163,76],[83,0,163,77]],[[17,0,164,9],[21,0,164,13],[22,0,164,14],[23,0,164,15],[25,0,164,30],[27,0,164,32],[29,0,164,34]],[[16,0,165,10],[22,0,165,16],[33,0,165,27],[36,0,165,30],[53,0,165,47],[54,0,165,48],[56,0,165,50],[58,0,165,52],[74,0,165,68],[75,0,165,69],[81,0,165,75],[82,0,165,76],[90,0,165,84],[92,0,165,86],[101,0,165,95],[103,0,165,97],[106,0,165,100],[107,0,165,101],[112,0,165,106],[113,0,165,107],[114,0,165,108],[115,0,165,109]],[[16,0,166,10],[22,0,166,16],[33,0,166,27],[36,0,166,30],[47,0,166,41],[48,0,166,42],[59,0,166,53],[60,0,166,54],[69,0,166,63],[70,0,166,64],[71,0,166,65]],[[16,0,167,10],[22,0,167,16],[29,0,167,23],[32,0,167,26],[43,0,167,37],[44,0,167,38],[47,0,167,41],[48,0,167,42],[51,0,167,45],[52,0,167,63],[53,0,167,64]],[[16,0,168,10],[23,0,168,17],[24,0,168,18],[33,0,168,27],[36,0,168,30],[37,0,168,31],[42,0,168,43],[44,0,168,45],[46,0,168,47]],[[20,0,169,12],[23,0,169,15],[24,0,169,16],[28,0,169,20],[29,0,169,22],[34,0,169,27],[35,0,169,28],[41,0,169,52],[42,0,169,53],[48,0,169,59],[49,0,169,60],[50,0,169,61]],[[20,0,170,12],[23,0,170,15],[24,0,170,16],[32,0,170,24],[34,0,170,26],[35,0,170,27]],[[16,0,171,10],[17,0,171,11],[18,0,171,12]],[[16,0,172,10],[23,0,172,17],[24,0,172,18],[31,0,172,25],[34,0,172,28],[35,0,172,29],[40,0,172,41],[42,0,172,43],[44,0,172,45]],[[20,0,173,12],[23,0,173,15],[24,0,173,16],[29,0,173,21],[30,0,173,22],[35,0,173,27],[36,0,173,28],[37,0,173,29]],[[16,0,174,10],[17,0,174,11],[18,0,174,12]],[[12,0,175,8],[13,0,175,9],[14,0,175,10]],[[17,0,176,9],[22,0,176,14],[23,0,176,15],[24,0,176,16],[29,0,176,21],[31,0,176,23],[33,0,176,25],[34,0,176,26],[37,0,176,29],[38,0,176,30],[43,0,176,35],[44,0,176,36],[49,0,176,41],[50,0,176,42],[51,0,176,43],[52,0,176,44]],[[8,0,177,4],[9,0,177,5],[10,0,177,6],[11,0,177,7]],[[4,0,178,2],[5,0,178,3]],[[4,0,180,2]],[],[],[],[[7,0,184,5]],[[4,0,185,2],[11,0,185,9],[12,0,185,13],[21,0,185,30],[23,0,185,32],[27,0,185,56]],[[8,0,186,4],[14,0,186,10],[25,0,186,21],[28,0,186,24],[32,0,186,28],[33,0,186,29],[36,0,186,32],[37,0,186,33],[38,0,186,34],[41,0,186,37],[43,0,186,39],[45,0,186,41],[46,0,186,42],[50,0,186,46],[51,0,186,47],[59,0,186,55],[60,0,186,56],[69,0,186,65],[71,0,186,67],[74,0,186,70],[75,0,186,71],[76,0,186,72],[77,0,186,73]],[[8,0,188,4],[15,0,188,11],[19,0,188,15],[29,0,188,25],[30,0,188,26],[31,0,188,27],[34,0,188,30],[36,0,188,32],[38,0,188,34]],[[12,0,189,6],[25,0,189,19],[26,0,189,20],[37,0,189,31],[38,0,189,32],[39,0,189,33],[48,0,189,42],[49,0,189,43],[50,0,189,44],[56,0,189,50],[58,0,189,52],[60,0,189,54]],[[16,0,190,8],[19,0,190,11],[20,0,190,12],[24,0,190,16],[25,0,190,17],[31,0,190,23],[32,0,190,24],[33,0,190,25]],[[16,0,191,8],[19,0,191,11],[20,0,191,12],[28,0,191,20],[30,0,191,22],[31,0,191,23]],[[12,0,192,6],[13,0,192,7],[14,0,192,8],[15,0,192,9]],[[8,0,193,4],[9,0,193,5],[10,0,193,6],[11,0,193,7]],[[4,0,194,2],[5,0,194,3]],[[4,0,196,2]],[],[],[],[[7,0,200,5]],[[4,0,201,2],[11,0,201,9],[12,0,201,13],[21,0,201,30],[23,0,201,32],[25,0,201,51]],[[8,0,202,4],[15,0,202,11],[19,0,202,15],[29,0,202,25],[30,0,202,26],[31,0,202,27],[34,0,202,30],[36,0,202,32],[38,0,202,34]],[[12,0,203,6],[24,0,203,18],[25,0,203,19],[29,0,203,23],[30,0,203,24],[39,0,203,33],[41,0,203,35],[45,0,203,39],[46,0,203,40],[54,0,203,48],[55,0,203,49],[59,0,203,53],[61,0,203,55],[65,0,203,59],[66,0,203,60],[74,0,203,68],[75,0,203,69],[82,0,203,76],[83,0,203,77]],[[17,0,204,9],[21,0,204,13],[22,0,204,14],[23,0,204,15],[25,0,204,30],[27,0,204,32],[29,0,204,34]],[[16,0,205,10],[41,0,205,35],[42,0,205,36],[44,0,205,38],[46,0,205,40],[55,0,205,49],[57,0,205,51],[60,0,205,54],[61,0,205,55],[66,0,205,60],[67,0,205,61],[68,0,205,62]],[[16,0,206,10],[22,0,206,16],[33,0,206,27],[36,0,206,30],[53,0,206,47],[54,0,206,48],[56,0,206,50],[58,0,206,52],[74,0,206,68],[75,0,206,69],[81,0,206,75],[82,0,206,76],[90,0,206,84],[92,0,206,86],[101,0,206,95],[103,0,206,97],[106,0,206,100],[107,0,206,101],[112,0,206,106],[114,0,206,108],[117,0,206,111],[118,0,206,112],[122,0,206,116],[123,0,206,117],[124,0,206,118],[125,0,206,119]],[[16,0,207,10],[22,0,207,16],[33,0,207,27],[36,0,207,30],[47,0,207,41],[48,0,207,42],[59,0,207,53],[60,0,207,54],[69,0,207,63],[70,0,207,64],[71,0,207,65]],[[16,0,208,10],[22,0,208,16],[29,0,208,23],[32,0,208,38],[43,0,208,49],[44,0,208,50],[47,0,208,53],[48,0,208,54],[50,0,208,56],[51,0,208,74],[52,0,208,75]],[[16,0,209,10],[23,0,209,17],[24,0,209,18],[33,0,209,27],[36,0,209,30],[37,0,209,31],[42,0,209,43],[44,0,209,45],[46,0,209,47]],[[20,0,210,12],[23,0,210,15],[24,0,210,16],[28,0,210,20],[29,0,210,22],[34,0,210,27],[35,0,210,28],[41,0,210,52],[42,0,210,53],[48,0,210,59],[49,0,210,60],[50,0,210,61]],[[16,0,211,10],[17,0,211,11],[18,0,211,12]],[[12,0,212,8],[13,0,212,9],[14,0,212,10]],[[17,0,213,9],[22,0,213,14],[23,0,213,15],[24,0,213,16],[29,0,213,21],[31,0,213,23],[33,0,213,25],[34,0,213,26],[37,0,213,29],[38,0,213,30],[43,0,213,35],[44,0,213,36],[49,0,213,41],[50,0,213,42],[51,0,213,43],[52,0,213,44]],[[8,0,214,4],[9,0,214,5],[10,0,214,6],[11,0,214,7]],[[4,0,215,2],[5,0,215,3]],[[4,0,217,2]],[],[],[],[],[[7,0,222,5]],[[4,0,223,2],[14,0,223,12],[15,0,223,16],[24,0,223,33],[26,0,223,35],[35,0,223,52],[37,0,223,54],[40,0,223,70]],[[8,0,224,4],[15,0,224,11],[19,0,224,15],[29,0,224,25],[30,0,224,26],[31,0,224,27],[34,0,224,30],[36,0,224,32],[38,0,224,34]],[[12,0,225,6],[24,0,225,18],[25,0,225,19],[29,0,225,23],[30,0,225,24],[39,0,225,33],[41,0,225,35],[45,0,225,39],[46,0,225,40],[54,0,225,48],[55,0,225,49],[59,0,225,53],[61,0,225,55],[65,0,225,59],[66,0,225,60],[74,0,225,68],[75,0,225,69],[82,0,225,76],[83,0,225,77]],[[17,0,226,9],[21,0,226,13],[22,0,226,14],[23,0,226,15],[25,0,226,17],[27,0,226,19],[29,0,226,21]],[[16,0,227,10],[41,0,227,35],[42,0,227,36],[44,0,227,38],[46,0,227,40],[55,0,227,49],[57,0,227,51],[60,0,227,54],[61,0,227,55],[66,0,227,60],[67,0,227,61],[68,0,227,62]],[[16,0,228,10],[22,0,228,16],[33,0,228,27],[36,0,228,30],[53,0,228,47],[54,0,228,48],[56,0,228,50],[58,0,228,52],[74,0,228,68],[75,0,228,69],[81,0,228,75],[82,0,228,76],[90,0,228,84],[92,0,228,86],[101,0,228,95],[103,0,228,97],[106,0,228,100],[107,0,228,101],[112,0,228,106],[113,0,228,107],[114,0,228,108],[115,0,228,109]],[[16,0,229,10],[22,0,229,16],[33,0,229,27],[36,0,229,30],[47,0,229,41],[48,0,229,42],[59,0,229,53],[60,0,229,54],[69,0,229,63],[70,0,229,64],[71,0,229,65]],[[16,0,230,10],[22,0,230,16],[27,0,230,21],[30,0,230,24],[41,0,230,35],[42,0,230,36],[47,0,230,41],[48,0,230,42],[57,0,230,51],[58,0,230,52],[59,0,230,53]],[[16,0,231,10],[22,0,231,16],[29,0,231,23],[32,0,231,26],[37,0,231,31],[38,0,231,32],[41,0,231,35],[42,0,231,36],[45,0,231,39],[46,0,231,57],[47,0,231,58]],[[16,0,232,10],[23,0,232,17],[24,0,232,18],[33,0,232,27],[36,0,232,30],[37,0,232,31],[42,0,232,43],[44,0,232,45],[46,0,232,47]],[[20,0,233,12],[23,0,233,15],[24,0,233,16],[28,0,233,20],[29,0,233,22],[34,0,233,27],[35,0,233,28],[41,0,233,52],[42,0,233,53],[48,0,233,59],[49,0,233,60],[50,0,233,61]],[[20,0,234,12],[23,0,234,15],[24,0,234,16],[32,0,234,24],[34,0,234,26],[35,0,234,27]],[[16,0,235,10],[17,0,235,11],[18,0,235,12]],[[12,0,236,8],[13,0,236,9],[14,0,236,10]],[[17,0,237,9],[22,0,237,14],[23,0,237,15],[24,0,237,16],[30,0,237,22],[32,0,237,24],[34,0,237,26],[35,0,237,27],[38,0,237,30],[39,0,237,31],[44,0,237,36],[45,0,237,37],[51,0,237,43],[52,0,237,44],[53,0,237,45],[54,0,237,46]],[[8,0,238,4],[9,0,238,5],[10,0,238,6],[11,0,238,7]],[[4,0,239,2],[5,0,239,3]],[[4,0,241,2]],[],[],[[7,0,244,5]],[[4,0,245,2],[10,0,245,8],[11,0,245,12],[20,0,245,29]],[[8,0,246,4],[15,0,246,11],[19,0,246,15],[29,0,246,25],[30,0,246,26],[31,0,246,27],[34,0,246,30],[36,0,246,32],[38,0,246,34]],[[12,0,247,6],[24,0,247,18],[25,0,247,19],[29,0,247,23],[30,0,247,24],[39,0,247,33],[41,0,247,35],[45,0,247,39],[46,0,247,40],[54,0,247,48],[55,0,247,49],[59,0,247,53],[61,0,247,55],[65,0,247,59],[66,0,247,60],[74,0,247,68],[75,0,247,69],[82,0,247,76],[83,0,247,77]],[[17,0,248,9],[21,0,248,13],[22,0,248,14],[23,0,248,15],[25,0,248,17],[27,0,248,19],[29,0,248,21]],[[16,0,249,10],[41,0,249,35],[42,0,249,36],[44,0,249,38],[46,0,249,40],[55,0,249,49],[57,0,249,51],[60,0,249,54],[61,0,249,55],[66,0,249,60],[67,0,249,61],[68,0,249,62]],[[16,0,250,10],[22,0,250,16],[33,0,250,27],[36,0,250,30],[53,0,250,47],[54,0,250,48],[56,0,250,50],[58,0,250,52],[74,0,250,68],[75,0,250,69],[81,0,250,75],[82,0,250,76],[90,0,250,84],[92,0,250,86],[101,0,250,95],[103,0,250,97],[106,0,250,100],[107,0,250,101],[112,0,250,106],[114,0,250,108],[117,0,250,111],[118,0,250,112],[122,0,250,116],[123,0,250,117],[124,0,250,118],[125,0,250,119]],[[16,0,251,10],[22,0,251,16],[33,0,251,27],[36,0,251,30],[47,0,251,41],[48,0,251,42],[59,0,251,53],[60,0,251,54],[69,0,251,63],[70,0,251,64],[71,0,251,65]],[[16,0,253,10],[22,0,253,16],[29,0,253,23],[32,0,253,38],[43,0,253,49],[44,0,253,50],[50,0,253,56],[52,0,253,58],[53,0,253,59]],[[16,0,255,10],[23,0,255,17],[24,0,255,18],[31,0,255,25],[34,0,255,28],[35,0,255,29],[38,0,255,39],[40,0,255,41],[42,0,255,43]],[[20,0,256,12],[23,0,256,15],[24,0,256,16],[29,0,256,21],[30,0,256,22],[33,0,256,25],[34,0,256,26],[35,0,256,27]],[[16,0,257,10],[17,0,257,11],[18,0,257,12]],[[16,0,259,10],[23,0,259,17],[24,0,259,18],[33,0,259,27],[36,0,259,30],[37,0,259,31],[39,0,259,33],[45,0,259,39],[47,0,259,41],[49,0,259,43],[55,0,259,49],[57,0,259,51],[66,0,259,60],[68,0,259,62],[70,0,259,81],[72,0,259,83],[74,0,259,85]],[[20,0,260,12],[23,0,260,15],[24,0,260,16],[28,0,260,20],[29,0,260,21],[38,0,260,37],[39,0,260,38],[40,0,260,39]],[[20,0,261,12],[23,0,261,15],[24,0,261,16],[32,0,261,24],[34,0,261,26],[35,0,261,27]],[[16,0,262,10],[17,0,262,11],[18,0,262,12]],[[12,0,263,8],[13,0,263,9],[14,0,263,10]],[[17,0,264,9],[22,0,264,14],[23,0,264,15],[24,0,264,16],[29,0,264,21],[31,0,264,23],[33,0,264,25],[34,0,264,26],[37,0,264,29],[38,0,264,30],[43,0,264,35],[44,0,264,36],[49,0,264,41],[50,0,264,42],[51,0,264,43],[52,0,264,44]],[[8,0,265,4],[9,0,265,5],[10,0,265,6],[11,0,265,7]],[[4,0,266,2],[5,0,266,3]],[[4,0,268,2]],[],[],[],[],[[7,0,273,5]],[[4,0,274,2],[10,0,274,8],[11,0,274,12],[20,0,274,29],[22,0,274,31],[27,0,274,39],[29,0,274,41],[32,0,274,50]],[[8,0,275,4],[15,0,275,11],[19,0,275,15],[29,0,275,25],[30,0,275,26],[31,0,275,27],[34,0,275,30],[36,0,275,32],[38,0,275,34]],[[12,0,276,6],[24,0,276,18],[25,0,276,19],[29,0,276,23],[30,0,276,24],[39,0,276,33],[41,0,276,35],[45,0,276,39],[46,0,276,40],[54,0,276,48],[55,0,276,49],[59,0,276,53],[61,0,276,55],[65,0,276,59],[66,0,276,60],[74,0,276,68],[75,0,276,69],[82,0,276,76],[83,0,276,77]],[[17,0,277,9],[21,0,277,13],[22,0,277,14],[23,0,277,15],[25,0,277,17],[27,0,277,19],[29,0,277,21]],[[16,0,278,10],[41,0,278,35],[42,0,278,36],[44,0,278,38],[46,0,278,40],[55,0,278,49],[57,0,278,51],[60,0,278,54],[61,0,278,55],[66,0,278,60],[67,0,278,61],[68,0,278,62]],[[16,0,279,10],[22,0,279,16],[33,0,279,27],[36,0,279,30],[53,0,279,47],[54,0,279,48],[56,0,279,50],[58,0,279,52],[74,0,279,68],[75,0,279,69],[81,0,279,75],[82,0,279,76],[91,0,279,85],[93,0,279,87],[102,0,279,96],[104,0,279,98],[107,0,279,101],[108,0,279,102],[113,0,279,107],[114,0,279,108],[115,0,279,109],[116,0,279,110]],[[16,0,280,10],[22,0,280,16],[33,0,280,27],[36,0,280,30],[47,0,280,41],[48,0,280,42],[59,0,280,53],[60,0,280,54],[69,0,280,63],[70,0,280,64],[71,0,280,65]],[[16,0,282,10],[27,0,282,21],[28,0,282,22],[38,0,282,32],[41,0,282,35],[44,0,282,38],[46,0,282,40]],[[20,0,283,12],[24,0,283,16],[25,0,283,17],[31,0,283,23],[32,0,283,24],[41,0,283,33],[42,0,283,34]],[[25,0,284,15],[29,0,284,19],[30,0,284,20],[34,0,284,24],[35,0,284,25],[36,0,284,26],[37,0,284,27],[38,0,284,28]],[[25,0,285,15],[34,0,285,24],[35,0,285,25],[36,0,285,26],[45,0,285,35],[47,0,285,37],[49,0,285,39]],[[24,0,286,16],[27,0,286,19],[28,0,286,20],[32,0,286,24],[33,0,286,25],[42,0,286,41],[43,0,286,42],[44,0,286,43]],[[24,0,287,16],[27,0,287,19],[28,0,287,20],[36,0,287,28],[38,0,287,30],[39,0,287,31]],[[20,0,288,14],[21,0,288,15],[22,0,288,16],[23,0,288,17]],[[16,0,289,10],[17,0,289,11],[18,0,289,12]],[[16,0,291,10],[19,0,291,13],[20,0,291,14],[21,0,291,15],[22,0,291,16],[33,0,291,27],[34,0,291,28],[37,0,291,31],[38,0,291,32],[43,0,291,37],[45,0,291,39],[48,0,291,42],[49,0,291,43],[50,0,291,44],[51,0,291,45],[52,0,291,46],[63,0,291,57],[64,0,291,58],[67,0,291,61],[68,0,291,62],[73,0,291,67],[74,0,291,68],[75,0,291,69]],[[12,0,292,8],[13,0,292,9],[14,0,292,10]],[[17,0,293,9],[22,0,293,14],[23,0,293,15],[24,0,293,16],[30,0,293,22],[32,0,293,24],[34,0,293,26],[35,0,293,27],[38,0,293,30],[39,0,293,31],[44,0,293,36],[45,0,293,37],[51,0,293,43],[52,0,293,44],[53,0,293,45],[54,0,293,46]],[[8,0,294,4],[9,0,294,5],[10,0,294,6],[11,0,294,7]],[[4,0,295,2],[5,0,295,3]],[[4,0,297,2]],[],[],[],[],[[7,0,302,5]],[[4,0,303,2],[15,0,303,13],[16,0,303,17],[25,0,303,34],[27,0,303,36],[32,0,303,44],[34,0,303,46],[37,0,303,62]],[[8,0,304,4],[15,0,304,11],[19,0,304,15],[29,0,304,25],[30,0,304,29],[31,0,304,30],[34,0,304,33],[36,0,304,35],[38,0,304,37]],[[12,0,305,6],[24,0,305,18],[25,0,305,19],[29,0,305,23],[30,0,305,24],[39,0,305,33],[41,0,305,35],[45,0,305,39],[46,0,305,40],[54,0,305,48],[55,0,305,49],[59,0,305,53],[61,0,305,55],[65,0,305,59],[66,0,305,60],[74,0,305,68],[75,0,305,69],[82,0,305,76],[83,0,305,77]],[[17,0,306,9],[21,0,306,13],[22,0,306,14],[23,0,306,15],[25,0,306,17],[27,0,306,19],[29,0,306,21]],[[16,0,307,10],[41,0,307,35],[42,0,307,36],[44,0,307,38],[46,0,307,40],[55,0,307,49],[57,0,307,51],[60,0,307,54],[61,0,307,55],[66,0,307,60],[67,0,307,61],[68,0,307,62]],[[16,0,308,10],[22,0,308,16],[33,0,308,27],[36,0,308,30],[53,0,308,47],[54,0,308,48],[56,0,308,50],[58,0,308,52],[74,0,308,68],[75,0,308,69],[81,0,308,75],[82,0,308,76],[91,0,308,85],[93,0,308,87],[102,0,308,96],[104,0,308,98],[107,0,308,101],[108,0,308,102],[113,0,308,107],[114,0,308,108],[115,0,308,109],[116,0,308,110]],[[16,0,309,10],[22,0,309,16],[33,0,309,27],[36,0,309,30],[47,0,309,41],[48,0,309,42],[59,0,309,53],[60,0,309,54],[69,0,309,63],[70,0,309,64],[71,0,309,65]],[[16,0,311,10],[27,0,311,21],[28,0,311,22],[38,0,311,32],[41,0,311,35],[44,0,311,38],[46,0,311,40]],[[20,0,312,12],[24,0,312,16],[25,0,312,17],[33,0,312,25],[34,0,312,26],[43,0,312,35],[45,0,312,37],[48,0,312,40],[49,0,312,41]],[[25,0,313,15],[29,0,313,19],[30,0,313,20],[34,0,313,24],[35,0,313,25],[36,0,313,26],[37,0,313,27],[38,0,313,28]],[[25,0,314,15],[34,0,314,24],[35,0,314,25],[36,0,314,26],[44,0,314,34],[46,0,314,36],[48,0,314,38]],[[24,0,315,16],[27,0,315,19],[28,0,315,20],[32,0,315,24],[33,0,315,25],[41,0,315,38],[42,0,315,39],[43,0,315,40]],[[24,0,316,16],[27,0,316,19],[28,0,316,20],[36,0,316,28],[38,0,316,30],[39,0,316,31]],[[20,0,317,14],[21,0,317,15],[22,0,317,16],[23,0,317,17]],[[16,0,318,10],[17,0,318,11],[18,0,318,12]],[[16,0,320,10],[27,0,320,21],[28,0,320,22],[31,0,320,25],[32,0,320,26],[37,0,320,31],[39,0,320,33],[42,0,320,36],[43,0,320,37],[44,0,320,38]],[[12,0,321,8],[13,0,321,9],[14,0,321,10]],[[17,0,322,9],[22,0,322,14],[23,0,322,15],[24,0,322,16],[30,0,322,22],[32,0,322,24],[34,0,322,26],[35,0,322,27],[38,0,322,30],[39,0,322,31],[44,0,322,36],[45,0,322,37],[51,0,322,43],[52,0,322,44],[53,0,322,45],[54,0,322,46]],[[8,0,323,4],[9,0,323,5],[10,0,323,6],[11,0,323,7]],[[4,0,324,2],[5,0,324,3]],[[4,0,326,2]],[],[],[],[[7,0,330,5]],[[4,0,331,2],[10,0,331,8],[11,0,331,12],[20,0,331,29],[22,0,331,31],[25,0,331,39]],[[8,0,332,4],[15,0,332,11],[19,0,332,15],[29,0,332,25],[30,0,332,26],[31,0,332,27],[34,0,332,30],[36,0,332,32],[38,0,332,34]],[[12,0,333,6],[24,0,333,18],[25,0,333,19],[29,0,333,23],[30,0,333,24],[39,0,333,33],[41,0,333,35],[45,0,333,39],[46,0,333,40],[54,0,333,48],[55,0,333,49],[59,0,333,53],[61,0,333,55],[65,0,333,59],[66,0,333,60],[74,0,333,68],[75,0,333,69],[82,0,333,76],[83,0,333,77]],[[17,0,334,9],[21,0,334,13],[22,0,334,14],[23,0,334,15],[25,0,334,17],[27,0,334,19],[29,0,334,21]],[[16,0,335,10],[41,0,335,35],[42,0,335,36],[44,0,335,38],[46,0,335,40],[55,0,335,49],[57,0,335,51],[60,0,335,54],[61,0,335,55],[66,0,335,60],[67,0,335,61],[68,0,335,62]],[[16,0,336,10],[22,0,336,16],[33,0,336,27],[36,0,336,30],[53,0,336,47],[54,0,336,48],[56,0,336,50],[58,0,336,52],[74,0,336,68],[75,0,336,69],[81,0,336,75],[82,0,336,76],[91,0,336,85],[93,0,336,87],[102,0,336,96],[104,0,336,98],[107,0,336,101],[108,0,336,102],[113,0,336,107],[114,0,336,108],[115,0,336,109],[116,0,336,110]],[[16,0,337,10],[22,0,337,16],[33,0,337,27],[36,0,337,30],[47,0,337,41],[48,0,337,42],[59,0,337,53],[60,0,337,54],[69,0,337,63],[70,0,337,64],[71,0,337,65]],[[16,0,338,10],[27,0,338,21],[28,0,338,22],[34,0,338,28],[35,0,338,29],[38,0,338,32],[39,0,338,33],[40,0,338,34]],[[16,0,340,10],[27,0,340,21],[28,0,340,22],[38,0,340,32],[41,0,340,35],[44,0,340,38],[46,0,340,40]],[[20,0,341,12],[24,0,341,16],[25,0,341,17],[31,0,341,23],[32,0,341,24],[41,0,341,33],[42,0,341,34]],[[25,0,342,15],[29,0,342,19],[30,0,342,20],[34,0,342,24],[35,0,342,25],[36,0,342,26],[37,0,342,27],[38,0,342,28]],[[25,0,343,15],[34,0,343,24],[35,0,343,25],[36,0,343,26],[45,0,343,35],[47,0,343,37],[49,0,343,39]],[[24,0,344,16],[27,0,344,19],[28,0,344,20],[32,0,344,24],[33,0,344,25],[42,0,344,41],[43,0,344,42],[44,0,344,43]],[[24,0,345,16],[27,0,345,19],[28,0,345,20],[36,0,345,28],[38,0,345,30],[39,0,345,31]],[[20,0,346,14],[21,0,346,15],[22,0,346,16],[23,0,346,17]],[[16,0,347,10],[17,0,347,11],[18,0,347,12]],[[12,0,348,8],[13,0,348,9],[14,0,348,10]],[[17,0,349,9],[22,0,349,14],[23,0,349,15],[24,0,349,16],[30,0,349,22],[32,0,349,24],[34,0,349,26],[35,0,349,27],[38,0,349,30],[39,0,349,31],[44,0,349,36],[45,0,349,37],[51,0,349,43],[52,0,349,44],[53,0,349,45],[54,0,349,46]],[[8,0,350,4],[9,0,350,5],[10,0,350,6],[11,0,350,7]],[[4,0,351,2],[5,0,351,3]],[[4,0,353,2]],[],[],[],[[7,0,357,5]],[[4,0,358,2],[15,0,358,13],[16,0,358,14],[25,0,358,31],[27,0,358,33],[30,0,358,41]],[[8,0,359,4],[15,0,359,11],[19,0,359,15],[29,0,359,25],[30,0,359,26],[31,0,359,27],[34,0,359,30],[36,0,359,32],[38,0,359,34]],[[12,0,360,6],[24,0,360,18],[25,0,360,19],[29,0,360,23],[30,0,360,24],[39,0,360,33],[41,0,360,35],[45,0,360,39],[46,0,360,40],[54,0,360,48],[55,0,360,49],[59,0,360,53],[61,0,360,55],[65,0,360,59],[66,0,360,60],[74,0,360,68],[75,0,360,69],[82,0,360,76],[83,0,360,77]],[[17,0,361,9],[21,0,361,13],[22,0,361,14],[23,0,361,15],[25,0,361,17],[27,0,361,19],[29,0,361,21]],[[16,0,362,10],[41,0,362,35],[42,0,362,36],[44,0,362,38],[46,0,362,40],[55,0,362,49],[57,0,362,51],[60,0,362,54],[61,0,362,55],[66,0,362,60],[67,0,362,61],[68,0,362,62]],[[16,0,363,10],[22,0,363,16],[33,0,363,27],[36,0,363,30],[53,0,363,47],[54,0,363,48],[56,0,363,50],[58,0,363,52],[74,0,363,68],[75,0,363,69],[81,0,363,75],[82,0,363,76],[91,0,363,85],[93,0,363,87],[102,0,363,96],[104,0,363,98],[107,0,363,101],[108,0,363,102],[113,0,363,107],[114,0,363,108],[115,0,363,109],[116,0,363,110]],[[16,0,364,10],[22,0,364,16],[33,0,364,27],[36,0,364,30],[47,0,364,41],[48,0,364,42],[59,0,364,53],[60,0,364,54],[69,0,364,63],[70,0,364,64],[71,0,364,65]],[[16,0,366,10],[27,0,366,21],[28,0,366,22],[38,0,366,32],[41,0,366,35],[44,0,366,38],[46,0,366,40]],[[20,0,367,12],[23,0,367,15],[24,0,367,16],[28,0,367,20],[29,0,367,21],[33,0,367,25],[34,0,367,26],[35,0,367,27]],[[20,0,368,12],[23,0,368,15],[24,0,368,16],[32,0,368,24],[34,0,368,26],[35,0,368,27]],[[16,0,369,10],[17,0,369,11],[18,0,369,12]],[[16,0,371,10],[27,0,371,21],[28,0,371,22],[34,0,371,28],[35,0,371,29],[38,0,371,32],[39,0,371,33],[40,0,371,34]],[[12,0,372,8],[13,0,372,9],[14,0,372,10]],[[17,0,373,9],[22,0,373,14],[23,0,373,15],[24,0,373,16],[30,0,373,22],[32,0,373,24],[34,0,373,26],[35,0,373,27],[38,0,373,30],[39,0,373,31],[44,0,373,36],[45,0,373,37],[51,0,373,43],[52,0,373,44],[53,0,373,45],[54,0,373,46]],[[8,0,374,4],[9,0,374,5],[10,0,374,6],[11,0,374,7]],[[4,0,375,2],[5,0,375,3]],[[4,0,377,2]],[],[],[[7,0,380,5]],[[4,0,381,2],[9,0,381,7],[10,0,381,8],[19,0,381,25]],[[8,0,382,4],[15,0,382,11],[19,0,382,15],[29,0,382,25],[30,0,382,26],[31,0,382,27],[34,0,382,30],[36,0,382,32],[38,0,382,34]],[[12,0,383,6],[24,0,383,18],[25,0,383,19],[29,0,383,23],[30,0,383,24],[39,0,383,33],[41,0,383,35],[45,0,383,39],[46,0,383,40],[54,0,383,48],[55,0,383,49],[59,0,383,53],[61,0,383,55],[65,0,383,59],[66,0,383,60],[74,0,383,68],[75,0,383,69],[82,0,383,76],[83,0,383,77]],[[17,0,384,9],[21,0,384,13],[22,0,384,14],[23,0,384,15],[25,0,384,17],[27,0,384,19],[29,0,384,21]],[[16,0,385,10],[41,0,385,35],[42,0,385,36],[44,0,385,38],[46,0,385,40],[55,0,385,49],[57,0,385,51],[60,0,385,54],[61,0,385,55],[66,0,385,60],[67,0,385,61],[68,0,385,62]],[[16,0,386,10],[22,0,386,16],[33,0,386,27],[36,0,386,30],[53,0,386,47],[54,0,386,48],[56,0,386,50],[58,0,386,52],[74,0,386,68],[75,0,386,69],[81,0,386,75],[82,0,386,76],[91,0,386,85],[93,0,386,87],[102,0,386,96],[104,0,386,98],[107,0,386,101],[108,0,386,102],[113,0,386,107],[114,0,386,108],[115,0,386,109],[116,0,386,110]],[[16,0,387,10],[22,0,387,16],[33,0,387,27],[36,0,387,30],[47,0,387,41],[48,0,387,42],[59,0,387,53],[60,0,387,54],[69,0,387,63],[70,0,387,64],[71,0,387,65]],[[16,0,388,10],[27,0,388,21],[28,0,388,22],[33,0,388,27],[35,0,388,29],[36,0,388,30]],[[16,0,389,10],[27,0,389,21],[28,0,389,22],[38,0,389,32],[41,0,389,35],[44,0,389,38],[46,0,389,40]],[[20,0,390,12],[23,0,390,15],[24,0,390,16],[28,0,390,20],[29,0,390,21],[33,0,390,25],[34,0,390,26],[35,0,390,27]],[[20,0,391,12],[23,0,391,15],[24,0,391,16],[32,0,391,24],[34,0,391,26],[35,0,391,27]],[[16,0,392,10],[17,0,392,11],[18,0,392,12]],[[12,0,393,8],[13,0,393,9],[14,0,393,10]],[[17,0,394,9],[22,0,394,14],[23,0,394,15],[24,0,394,16],[30,0,394,22],[32,0,394,24],[34,0,394,26],[35,0,394,27],[38,0,394,30],[39,0,394,31],[44,0,394,36],[45,0,394,37],[51,0,394,43],[52,0,394,44],[53,0,394,45],[54,0,394,46]],[[8,0,395,4],[9,0,395,5],[10,0,395,6],[11,0,395,7]],[[4,0,396,2],[5,0,396,3]],[[4,0,398,2]],[],[[7,0,400,5]],[[4,0,401,2],[18,0,401,16]],[[8,0,402,4],[15,0,402,11],[19,0,402,15],[29,0,402,25],[30,0,402,26],[31,0,402,27],[34,0,402,30],[36,0,402,32],[38,0,402,34]],[[12,0,403,6],[24,0,403,18],[25,0,403,19],[29,0,403,23],[30,0,403,24],[39,0,403,33],[41,0,403,35],[45,0,403,39],[46,0,403,40],[54,0,403,48],[55,0,403,49],[59,0,403,53],[61,0,403,55],[65,0,403,59],[66,0,403,60],[74,0,403,68],[75,0,403,69],[82,0,403,76],[83,0,403,77]],[[17,0,404,9],[21,0,404,13],[22,0,404,14],[27,0,404,19],[29,0,404,21],[31,0,404,23],[33,0,404,25],[35,0,404,27]],[[16,0,405,10],[22,0,405,16],[24,0,405,18],[25,0,405,19],[30,0,405,24],[32,0,405,26],[33,0,405,27]],[[16,0,406,10],[22,0,406,16],[37,0,406,31],[40,0,406,34],[44,0,406,38],[45,0,406,39],[54,0,406,48],[55,0,406,49],[69,0,406,63],[70,0,406,64],[74,0,406,68],[75,0,406,69],[83,0,406,77],[84,0,406,78],[88,0,406,82],[89,0,406,83],[90,0,406,84]],[[16,0,407,10],[31,0,407,25],[32,0,407,26],[41,0,407,35],[44,0,407,38],[47,0,407,41],[49,0,407,43]],[[20,0,408,12],[23,0,408,15],[24,0,408,16],[28,0,408,20],[29,0,408,21],[33,0,408,25],[34,0,408,26],[35,0,408,27]],[[20,0,409,12],[23,0,409,15],[24,0,409,16],[32,0,409,24],[34,0,409,26],[35,0,409,27]],[[16,0,410,10],[17,0,410,11],[18,0,410,12]],[[16,0,411,10],[31,0,411,25],[32,0,411,26],[39,0,411,33],[42,0,411,36],[43,0,411,37],[48,0,411,42],[50,0,411,44],[52,0,411,46],[53,0,411,47],[56,0,411,50],[57,0,411,51],[62,0,411,56],[63,0,411,57],[68,0,411,62],[69,0,411,63],[70,0,411,64]],[[16,0,412,10],[31,0,412,25],[32,0,412,26],[41,0,412,35],[44,0,412,38],[47,0,412,41],[49,0,412,43]],[[20,0,413,12],[26,0,413,18],[30,0,413,22],[35,0,413,27],[36,0,413,28],[84,0,413,76],[85,0,413,77],[86,0,413,78]],[[16,0,414,10],[17,0,414,11],[18,0,414,12]],[[12,0,415,8],[13,0,415,9],[14,0,415,10]],[[17,0,416,9],[22,0,416,14],[23,0,416,15],[24,0,416,16],[29,0,416,21],[31,0,416,23],[33,0,416,25],[34,0,416,26],[37,0,416,29],[38,0,416,30],[43,0,416,35],[44,0,416,36],[49,0,416,41],[50,0,416,42],[51,0,416,43],[52,0,416,44]],[[8,0,417,4],[9,0,417,5],[10,0,417,6],[11,0,417,7]],[[4,0,418,2],[5,0,418,3]],[[4,0,420,2]],[],[],[],[[7,0,424,5]],[[4,0,425,2],[14,0,425,12],[15,0,425,13],[24,0,425,30],[26,0,425,32],[34,0,425,54]],[[8,0,426,4],[15,0,426,11],[19,0,426,15],[29,0,426,25],[30,0,426,26],[31,0,426,27],[34,0,426,30],[36,0,426,32],[38,0,426,34]],[[12,0,427,6],[24,0,427,18],[25,0,427,19],[29,0,427,23],[30,0,427,24],[39,0,427,33],[41,0,427,35],[45,0,427,39],[46,0,427,40],[54,0,427,48],[55,0,427,49],[59,0,427,53],[61,0,427,55],[65,0,427,59],[66,0,427,60],[74,0,427,68],[75,0,427,69],[82,0,427,76],[83,0,427,77]],[[17,0,428,9],[21,0,428,13],[22,0,428,14],[23,0,428,15],[25,0,428,17],[27,0,428,19],[29,0,428,21]],[[16,0,429,10],[41,0,429,35],[42,0,429,36],[44,0,429,38],[46,0,429,40],[55,0,429,49],[57,0,429,51],[60,0,429,54],[61,0,429,55],[66,0,429,60],[67,0,429,61],[68,0,429,62]],[[16,0,430,10],[22,0,430,16],[33,0,430,27],[36,0,430,30],[53,0,430,47],[54,0,430,48],[56,0,430,50],[58,0,430,52],[74,0,430,68],[75,0,430,69],[81,0,430,75],[82,0,430,76],[90,0,430,84],[92,0,430,86],[101,0,430,95],[103,0,430,97],[106,0,430,100],[107,0,430,101],[112,0,430,106],[113,0,430,107],[114,0,430,108],[115,0,430,109]],[[16,0,431,10],[22,0,431,16],[33,0,431,27],[36,0,431,30],[47,0,431,41],[48,0,431,42],[59,0,431,53],[60,0,431,54],[69,0,431,63],[70,0,431,64],[71,0,431,65]],[[16,0,432,10],[22,0,432,16],[29,0,432,23],[32,0,432,26],[40,0,432,34],[45,0,432,39],[54,0,432,48],[55,0,432,49],[56,0,432,50],[57,0,432,51],[68,0,432,62],[69,0,432,63],[79,0,432,73],[81,0,432,75],[82,0,432,76],[83,0,432,77],[84,0,432,78],[95,0,432,89],[96,0,432,90],[106,0,432,100],[107,0,432,101],[115,0,432,109],[116,0,432,110],[117,0,432,111]],[[16,0,434,10],[23,0,434,17],[24,0,434,18],[33,0,434,27],[36,0,434,30],[37,0,434,31],[42,0,434,43],[44,0,434,45],[46,0,434,47]],[[20,0,435,12],[23,0,435,15],[24,0,435,16],[28,0,435,20],[29,0,435,21],[34,0,435,26],[35,0,435,27],[36,0,435,28]],[[20,0,436,12],[23,0,436,15],[24,0,436,16],[32,0,436,24],[34,0,436,26],[35,0,436,27]],[[16,0,437,10],[17,0,437,11],[18,0,437,12]],[[12,0,438,8],[13,0,438,9],[14,0,438,10]],[[17,0,439,9],[22,0,439,14],[23,0,439,15],[24,0,439,16],[30,0,439,22],[32,0,439,24],[34,0,439,26],[35,0,439,27],[38,0,439,30],[39,0,439,31],[44,0,439,36],[45,0,439,37],[51,0,439,43],[52,0,439,44],[53,0,439,45],[54,0,439,46]],[[8,0,440,4],[9,0,440,5],[10,0,440,6],[11,0,440,7]],[[4,0,441,2],[5,0,441,3]],[[4,0,443,2]],[],[],[],[],[[7,0,448,5]],[[4,0,449,2],[21,0,449,19],[22,0,450,4],[31,0,450,21],[33,0,451,4],[42,0,451,21],[44,0,452,4],[52,0,452,25],[54,0,453,4],[61,0,453,19],[67,0,453,25],[68,0,453,26],[76,0,453,34]],[[8,0,455,4],[14,0,455,10],[17,0,455,13],[20,0,455,16],[24,0,455,20],[31,0,455,27],[33,0,455,36],[34,0,455,37]],[[8,0,457,4],[20,0,457,16],[21,0,457,17],[25,0,457,21],[26,0,457,22],[35,0,457,31],[37,0,457,33],[41,0,457,37],[42,0,457,38],[50,0,457,46],[51,0,457,47],[55,0,457,51],[57,0,457,53],[61,0,457,57],[62,0,457,58],[70,0,457,66],[71,0,457,67],[78,0,457,74],[79,0,457,75]],[[13,0,458,7],[17,0,458,11],[18,0,458,12],[19,0,458,13],[21,0,458,15],[23,0,458,17],[25,0,458,19]],[[12,0,459,8],[37,0,459,33],[38,0,459,34],[40,0,459,36],[42,0,459,38],[51,0,459,47],[53,0,459,49],[54,0,459,50],[60,0,459,56],[62,0,459,58],[64,0,459,60]],[[16,0,460,10],[19,0,460,13],[20,0,460,14],[25,0,460,19],[26,0,460,20],[32,0,460,26],[33,0,460,27],[34,0,460,28]],[[12,0,461,8],[13,0,461,9],[14,0,461,10],[15,0,461,11]],[[12,0,462,8],[18,0,462,14],[29,0,462,25],[32,0,462,28],[49,0,462,45],[50,0,463,10],[52,0,463,12],[54,0,464,10],[70,0,464,26],[71,0,465,12],[75,0,465,16],[77,0,466,12],[86,0,466,21],[88,0,467,12],[89,0,467,13],[95,0,467,19],[97,0,467,21],[99,0,467,23]],[[16,0,468,14],[19,0,468,17],[20,0,468,18],[25,0,468,23],[26,0,468,24],[32,0,468,30],[33,0,468,31],[34,0,468,32]],[[12,0,469,12],[13,0,469,13],[15,0,470,12],[18,0,470,15],[20,0,470,17]],[[16,0,471,14],[19,0,471,17],[20,0,471,18],[24,0,471,22],[26,0,471,24],[27,0,471,25]],[[12,0,472,12],[13,0,472,13],[14,0,473,11],[15,0,474,9],[16,0,474,10]],[[12,0,475,8],[18,0,475,14],[29,0,475,25],[32,0,475,28],[43,0,475,39],[44,0,475,40],[55,0,475,51],[56,0,475,52],[65,0,475,61],[66,0,475,62],[67,0,475,63]],[[12,0,476,8],[18,0,476,14],[23,0,476,19],[26,0,476,22],[37,0,476,33],[38,0,476,34],[43,0,476,39],[44,0,476,40],[53,0,476,49],[54,0,476,50],[55,0,476,51]],[[12,0,477,8],[18,0,477,14],[25,0,477,21],[28,0,477,24],[33,0,477,29],[34,0,477,30],[44,0,477,40],[45,0,477,41],[53,0,477,49],[54,0,477,50],[55,0,477,51]],[[12,0,479,8],[19,0,479,15],[20,0,479,16],[29,0,479,25],[32,0,479,28],[33,0,479,29],[38,0,479,41],[40,0,479,43],[42,0,479,45]],[[16,0,480,10],[19,0,480,13],[20,0,480,14],[24,0,480,18],[25,0,480,19],[30,0,480,24],[31,0,480,25],[32,0,480,26]],[[12,0,481,8],[13,0,481,9],[14,0,481,10]],[[8,0,482,6],[9,0,482,7],[10,0,482,8]],[[13,0,483,7],[18,0,483,12],[19,0,483,13],[20,0,483,14],[26,0,483,20],[28,0,483,22],[30,0,483,24],[31,0,483,25],[34,0,483,28],[35,0,483,29],[40,0,483,34],[41,0,483,35],[47,0,483,41],[48,0,483,42],[49,0,483,43],[50,0,483,44]],[[8,0,485,4],[15,0,485,11],[18,0,485,14],[19,0,485,15]],[[4,0,486,2],[5,0,486,3]],[[4,0,488,2]],[],[],[],[],[[7,0,493,5]],[[4,0,494,2],[17,0,494,15],[18,0,494,19],[27,0,494,36],[29,0,494,38],[38,0,494,55],[40,0,494,57],[48,0,494,78]],[[8,0,495,4],[14,0,495,10],[18,0,495,14],[21,0,495,22],[23,0,495,24],[24,0,495,25]],[[8,0,496,4],[15,0,496,11],[19,0,496,15],[29,0,496,25],[30,0,496,26],[31,0,496,27],[34,0,496,30],[36,0,496,32],[38,0,496,34]],[[12,0,497,6],[24,0,497,18],[25,0,497,19],[29,0,497,23],[30,0,497,24],[39,0,497,33],[41,0,497,35],[45,0,497,39],[46,0,497,40],[54,0,497,48],[55,0,497,49],[59,0,497,53],[61,0,497,55],[65,0,497,59],[66,0,497,60],[74,0,497,68],[75,0,497,69],[82,0,497,76],[83,0,497,77]],[[17,0,498,9],[21,0,498,13],[22,0,498,14],[23,0,498,15],[25,0,498,17],[27,0,498,19],[29,0,498,21]],[[16,0,499,10],[41,0,499,35],[42,0,499,36],[44,0,499,38],[46,0,499,40],[55,0,499,49],[57,0,499,51],[60,0,499,54],[61,0,499,55],[66,0,499,60],[67,0,499,61],[68,0,499,62]],[[16,0,500,10],[22,0,500,16],[33,0,500,27],[36,0,500,30],[53,0,500,47],[54,0,500,48],[56,0,500,50],[58,0,500,52],[74,0,500,68],[75,0,500,69],[81,0,500,75],[82,0,500,76],[90,0,500,84],[92,0,500,86],[101,0,500,95],[103,0,500,97],[106,0,500,100],[107,0,500,101],[112,0,500,106],[113,0,500,107],[114,0,500,108],[115,0,500,109]],[[16,0,501,10],[22,0,501,16],[33,0,501,27],[36,0,501,30],[47,0,501,41],[48,0,501,42],[59,0,501,53],[60,0,501,54],[69,0,501,63],[70,0,501,64],[71,0,501,65]],[[16,0,502,10],[22,0,502,16],[27,0,502,21],[30,0,502,24],[41,0,502,35],[42,0,502,36],[47,0,502,41],[48,0,502,42],[57,0,502,51],[58,0,502,52],[59,0,502,53]],[[16,0,503,10],[22,0,503,16],[29,0,503,23],[32,0,503,26],[37,0,503,31],[38,0,503,32],[48,0,503,42],[49,0,503,43],[57,0,503,51],[58,0,503,52],[59,0,503,53]],[[16,0,504,10],[23,0,504,17],[24,0,504,18],[33,0,504,27],[36,0,504,30],[37,0,504,31],[42,0,504,36],[44,0,504,38],[46,0,504,40]],[[20,0,505,12],[26,0,505,18],[32,0,505,24],[35,0,505,48],[40,0,505,53],[41,0,505,54],[47,0,505,95],[48,0,505,96],[54,0,505,102],[55,0,505,103]],[[20,0,506,12],[24,0,506,16],[30,0,506,22],[32,0,506,24]],[[24,0,507,14],[28,0,507,18],[29,0,507,19],[33,0,507,23],[34,0,507,24],[40,0,507,30],[41,0,507,31],[46,0,507,36],[47,0,507,37],[48,0,507,38]],[[24,0,508,14],[30,0,508,20],[31,0,508,21],[39,0,508,29],[41,0,508,31],[42,0,508,32]],[[21,0,509,13]],[[25,0,509,19]],[[24,0,510,14],[27,0,510,17],[28,0,510,18],[32,0,510,22],[33,0,510,23],[37,0,510,27],[38,0,510,28],[39,0,510,29]],[[24,0,511,14],[27,0,511,17],[28,0,511,18],[36,0,511,26],[38,0,511,28],[39,0,511,29]],[[21,0,512,13]],[[16,0,513,10],[17,0,513,11],[18,0,513,12]],[[12,0,514,8],[13,0,514,9],[14,0,514,10]],[[17,0,515,9],[22,0,515,14],[23,0,515,15],[24,0,515,16],[30,0,515,22],[32,0,515,24],[34,0,515,26],[35,0,515,27],[38,0,515,30],[39,0,515,31],[44,0,515,36],[45,0,515,37],[51,0,515,43],[52,0,515,44],[53,0,515,45],[54,0,515,46]],[[8,0,516,4],[9,0,516,5],[10,0,516,6],[11,0,516,7]],[[4,0,517,2],[5,0,517,3]],[[4,0,519,2]],[],[],[],[],[[7,0,524,5]],[[4,0,525,2],[21,0,525,19],[22,0,526,4],[31,0,526,21],[33,0,527,4],[42,0,527,21],[44,0,528,4],[52,0,528,25]],[[8,0,530,4],[14,0,530,10],[18,0,530,14],[21,0,530,50],[23,0,530,52],[24,0,530,53]],[[8,0,531,4],[15,0,531,11],[19,0,531,15],[29,0,531,25],[30,0,531,26],[31,0,531,27],[34,0,531,30],[36,0,531,32],[38,0,531,34]],[[12,0,532,6],[24,0,532,18],[25,0,532,19],[29,0,532,23],[30,0,532,24],[39,0,532,33],[41,0,532,35],[45,0,532,39],[46,0,532,40],[54,0,532,48],[55,0,532,49],[59,0,532,53],[61,0,532,55],[65,0,532,59],[66,0,532,60],[74,0,532,68],[75,0,532,69],[82,0,532,76],[83,0,532,77]],[[17,0,533,9],[21,0,533,13],[22,0,533,14],[23,0,533,15],[25,0,533,17],[27,0,533,19],[29,0,533,21]],[[16,0,534,10],[41,0,534,35],[42,0,534,36],[44,0,534,38],[46,0,534,40],[55,0,534,49],[57,0,534,51],[60,0,534,54],[61,0,534,55],[66,0,534,60],[67,0,534,61],[68,0,534,62]],[[16,0,535,10],[22,0,535,16],[33,0,535,27],[36,0,535,30],[53,0,535,47],[54,0,535,48],[56,0,535,50],[58,0,535,52],[74,0,535,68],[75,0,535,69],[81,0,535,75],[82,0,535,76],[90,0,535,84],[92,0,535,86],[101,0,535,95],[103,0,535,97],[106,0,535,100],[107,0,535,101],[112,0,535,106],[113,0,535,107],[114,0,535,108],[115,0,535,109]],[[16,0,536,10],[22,0,536,16],[33,0,536,27],[36,0,536,30],[47,0,536,41],[48,0,536,42],[59,0,536,53],[60,0,536,54],[69,0,536,63],[70,0,536,64],[71,0,536,65]],[[16,0,537,10],[22,0,537,16],[27,0,537,21],[30,0,537,24],[41,0,537,35],[42,0,537,36],[47,0,537,41],[48,0,537,42],[57,0,537,51],[58,0,537,52],[59,0,537,53]],[[16,0,538,10],[22,0,538,16],[29,0,538,23],[32,0,538,26],[37,0,538,31],[38,0,538,32],[51,0,538,45],[52,0,538,46],[60,0,538,54],[61,0,538,55],[62,0,538,56]],[[16,0,539,10],[23,0,539,17],[24,0,539,18],[33,0,539,27],[36,0,539,30],[37,0,539,31],[42,0,539,36],[44,0,539,38],[46,0,539,40]],[[20,0,540,12],[26,0,540,18],[32,0,540,24],[35,0,540,39],[40,0,540,44],[41,0,540,45],[47,0,540,77],[48,0,540,78],[54,0,540,84],[55,0,540,85]],[[20,0,541,12],[24,0,541,16],[30,0,541,22],[32,0,541,24]],[[24,0,542,14],[28,0,542,18],[29,0,542,19],[33,0,542,23],[34,0,542,24],[36,0,542,26],[46,0,542,36],[48,0,542,38],[54,0,542,44],[55,0,542,45],[65,0,542,55],[67,0,542,57],[70,0,542,60],[72,0,542,62],[78,0,542,68],[79,0,542,69],[82,0,542,72],[84,0,542,74],[85,0,542,75],[86,0,542,76]],[[24,0,543,14],[30,0,543,20],[31,0,543,21],[39,0,543,29],[41,0,543,31],[42,0,543,32]],[[21,0,544,13]],[[25,0,544,19]],[[24,0,545,14],[27,0,545,17],[28,0,545,18],[32,0,545,22],[33,0,545,23],[37,0,545,27],[38,0,545,28],[39,0,545,29]],[[24,0,546,14],[27,0,546,17],[28,0,546,18],[36,0,546,26],[38,0,546,28],[39,0,546,29]],[[21,0,547,13]],[[16,0,548,10],[17,0,548,11],[18,0,548,12]],[[12,0,549,8],[13,0,549,9],[14,0,549,10]],[[17,0,550,9],[22,0,550,14],[23,0,550,15],[24,0,550,16],[30,0,550,22],[32,0,550,24],[34,0,550,26],[35,0,550,27],[38,0,550,30],[39,0,550,31],[44,0,550,36],[45,0,550,37],[51,0,550,43],[52,0,550,44],[53,0,550,45],[54,0,550,46]],[[8,0,551,4],[9,0,551,5],[10,0,551,6],[11,0,551,7]],[[4,0,552,2],[5,0,552,3]],[[4,0,554,2]],[],[],[],[[7,0,558,5]],[[4,0,559,2],[9,0,559,7],[10,0,559,8],[19,0,559,25],[21,0,559,27],[29,0,559,63]],[[8,0,560,4],[15,0,560,11],[19,0,560,15],[29,0,560,25],[30,0,560,26],[31,0,560,27],[34,0,560,30],[36,0,560,32],[38,0,560,34]],[[12,0,561,6],[24,0,561,18],[25,0,561,19],[29,0,561,23],[30,0,561,24],[39,0,561,33],[41,0,561,35],[45,0,561,39],[46,0,561,40],[54,0,561,48],[55,0,561,49],[59,0,561,53],[61,0,561,55],[65,0,561,59],[66,0,561,60],[74,0,561,68],[75,0,561,69],[82,0,561,76],[83,0,561,77]],[[17,0,562,9],[21,0,562,13],[22,0,562,14],[23,0,562,15],[25,0,562,17],[27,0,562,19],[29,0,562,21]],[[16,0,563,10],[41,0,563,35],[42,0,563,36],[44,0,563,38],[46,0,563,40],[55,0,563,49],[57,0,563,51],[60,0,563,54],[61,0,563,55],[66,0,563,60],[67,0,563,61],[68,0,563,62]],[[16,0,564,10],[22,0,564,16],[33,0,564,27],[36,0,564,30],[53,0,564,47],[54,0,564,48],[56,0,564,50],[58,0,564,52],[74,0,564,68],[75,0,564,69],[81,0,564,75],[82,0,564,76],[90,0,564,84],[92,0,564,86],[101,0,564,95],[103,0,564,97],[106,0,564,100],[107,0,564,101],[112,0,564,106],[113,0,564,107],[114,0,564,108],[115,0,564,109]],[[16,0,565,10],[22,0,565,16],[33,0,565,27],[36,0,565,30],[47,0,565,41],[48,0,565,42],[59,0,565,53],[60,0,565,54],[69,0,565,63],[70,0,565,64],[71,0,565,65]],[[16,0,566,10],[22,0,566,16],[29,0,566,23],[32,0,566,38],[43,0,566,49],[44,0,566,50],[49,0,566,55],[50,0,566,56],[58,0,566,64],[59,0,566,65],[60,0,566,66]],[[16,0,567,10],[23,0,567,17],[24,0,567,18],[31,0,567,25],[34,0,567,28],[35,0,567,29],[36,0,567,30],[38,0,567,32],[40,0,567,34],[41,0,567,35],[44,0,567,38],[45,0,567,39],[50,0,567,44],[51,0,567,45],[52,0,567,46],[53,0,567,47],[54,0,567,48]],[[16,0,568,10],[23,0,568,17],[24,0,568,18],[33,0,568,27],[36,0,568,30],[37,0,568,31],[38,0,568,32],[40,0,568,34],[42,0,568,36]],[[20,0,569,12],[23,0,569,15],[24,0,569,16],[28,0,569,20],[29,0,569,23],[30,0,569,24],[31,0,569,25],[37,0,569,52],[38,0,569,53],[44,0,569,81],[45,0,569,82],[46,0,569,83]],[[20,0,570,12],[23,0,570,15],[24,0,570,16],[32,0,570,24],[34,0,570,26],[35,0,570,27]],[[16,0,571,10],[17,0,571,11],[18,0,571,12]],[[12,0,572,8],[13,0,572,9],[14,0,572,10]],[[17,0,573,9],[22,0,573,14],[23,0,573,15],[24,0,573,16],[30,0,573,22],[32,0,573,24],[34,0,573,26],[35,0,573,27],[38,0,573,30],[39,0,573,31],[44,0,573,36],[45,0,573,37],[51,0,573,43],[52,0,573,44],[53,0,573,45],[54,0,573,46]],[[8,0,574,4],[9,0,574,5],[10,0,574,6],[11,0,574,7]],[[4,0,575,2],[5,0,575,3]],[[4,0,577,2]],[],[],[[7,0,580,5]],[[4,0,581,2],[21,0,581,19],[22,0,581,20],[31,0,581,37]],[[8,0,582,6],[15,0,582,13],[32,0,582,30],[33,0,582,31],[37,0,582,35],[38,0,582,36],[46,0,582,44],[47,0,582,45],[51,0,582,49],[53,0,582,51],[55,0,582,53],[59,0,582,57],[60,0,582,58],[68,0,582,66],[69,0,582,67],[76,0,582,74],[78,0,582,76],[87,0,582,85],[88,0,582,86],[89,0,582,87]],[[4,0,583,2],[5,0,583,3]],[],[[112,0,9,13],[131,0,9,32],[149,0,13,22],[161,0,13,34],[174,0,13,72],[185,0,13,83]],[[116,0,9,13],[135,0,9,32]],[[91,0,9,13],[110,0,9,32]],[[18,0,8,1],[28,0,8,11]],[],[[26,0,13,15],[32,0,13,21]],[[27,0,13,22],[39,0,13,34]],[],[[26,0,13,65],[32,0,13,71]],[[27,0,13,72],[38,0,13,83]]],"sourcesContent":["import { Injectable, Inject, PLATFORM_ID } from '@angular/core';\nimport { openDatabase, CreateObjectStore, DeleteObjectStore } from './ngx-indexed-db';\nimport { createTransaction, optionsGenerator, validateBeforeTransaction } from '../utils';\nimport { CONFIG_TOKEN, DBConfig, Key, RequestEvent, ObjectStoreMeta, DBMode, WithID } from './ngx-indexed-db.meta';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Observable, Subject, combineLatest, from } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\n@Injectable()\nexport class NgxIndexedDBService {\n  private readonly isBrowser: boolean;\n  private indexedDB: IDBFactory;\n\n  constructor(@Inject(CONFIG_TOKEN) private dbConfig: DBConfig, @Inject(PLATFORM_ID) private platformId: any) {\n    if (!dbConfig.name) {\n      throw new Error('NgxIndexedDB: Please, provide the dbName in the configuration');\n    }\n    if (!dbConfig.version) {\n      throw new Error('NgxIndexedDB: Please, provide the db version in the configuration');\n    }\n    this.isBrowser = isPlatformBrowser(this.platformId);\n    if (this.isBrowser) {\n      this.indexedDB =\n        window.indexedDB ||\n        (window as any).mozIndexedDB ||\n        (window as any).webkitIndexedDB ||\n        (window as any).msIndexedDB;\n\n      CreateObjectStore(\n        this.indexedDB,\n        dbConfig.name,\n        dbConfig.version,\n        dbConfig.objectStoresMeta,\n        dbConfig.migrationFactory\n      );\n\n      openDatabase(this.indexedDB, dbConfig.name).then((db) => {\n        if (db.version !== dbConfig.version) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn(`\n            Your DB Config doesn't match the most recent version of the DB with name ${this.dbConfig.name}, please update it\n            DB current version: ${db.version};\n            Your configuration: ${dbConfig.version};\n            `);\n            console.warn(`Using latest version ${db.version}`);\n          }\n          this.dbConfig.version = db.version;\n        }\n      });\n    }\n  }\n\n  /**\n   * Allows to crate a new object store ad-hoc\n   * @param storeName The name of the store to be created\n   * @param migrationFactory The migration factory if exists\n   */\n  createObjectStore(\n    storeSchema: ObjectStoreMeta,\n    migrationFactory?: () => { [key: number]: (db: IDBDatabase, transaction: IDBTransaction) => void }\n  ): void {\n    const storeSchemas: ObjectStoreMeta[] = [storeSchema];\n    CreateObjectStore(this.indexedDB, this.dbConfig.name, ++this.dbConfig.version, storeSchemas, migrationFactory);\n  }\n\n  /**\n   * Adds new entry in the store and returns its key\n   * @param storeName The name of the store to add the item\n   * @param value The entry to be added\n   * @param key The optional key for the entry\n   */\n  add<T>(storeName: string, value: T, key?: any): Observable<T & WithID> {\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db: IDBDatabase) => {\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n          const request: IDBRequest<IDBValidKey> = Boolean(key) ? objectStore.add(value, key) : objectStore.add(value);\n\n          request.onsuccess = async (evt: Event) => {\n            const result: any = (evt.target as IDBOpenDBRequest).result;\n            const getRequest: IDBRequest = objectStore.get(result) as IDBRequest<T>;\n            getRequest.onsuccess = (event: Event) => {\n              obs.next((event.target as IDBRequest<T & WithID>).result);\n              obs.complete();\n            };\n          };\n        })\n        .catch((error) => obs.error(error));\n    });\n  }\n\n  /**\n   * Adds new entries in the store and returns its key\n   * @param storeName The name of the store to add the item\n   * @param values The entries to be added containing optional key attribute\n   */\n  bulkAdd<T>(storeName: string, values: Array<T & { key?: any }>): Observable<number[]> {\n    const promises = new Promise<number[]>((resolve, reject) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db: IDBDatabase) => {\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, resolve, reject));\n          const objectStore = transaction.objectStore(storeName);\n\n          const results = values.map((value) => {\n            return new Promise<number>((resolve1, reject1) => {\n              const key = value.key;\n              delete value.key;\n\n              const request: IDBRequest<IDBValidKey> = Boolean(key)\n                ? objectStore.add(value, key)\n                : objectStore.add(value);\n\n              request.onsuccess = (evt: Event) => {\n                const result = (evt.target as IDBOpenDBRequest).result;\n                resolve1((result as unknown) as number);\n              };\n            });\n          });\n\n          resolve(Promise.all(results));\n\n        }).catch((reason) => reject(reason));\n    });\n\n    return from(promises);\n  }\n\n  /**\n   * Delete entries in the store and returns current entries in the store\n   * @param storeName The name of the store to add the item\n   * @param keys The keys to be deleted\n   */\n  bulkDelete(storeName: string, keys: Key[]): Observable<number[]> {\n    const promises = keys.map((key) => {\n      return new Promise<number>((resolve, reject) => {\n        openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n          .then((db: IDBDatabase) => {\n            const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, reject, resolve));\n            const objectStore = transaction.objectStore(storeName);\n            objectStore.delete(key);\n\n            transaction.oncomplete = () => {\n              this.getAll(storeName)\n                .pipe(take(1))\n                .subscribe((newValues) => {\n                  resolve(newValues as any);\n                });\n            };\n          })\n          .catch((reason) => reject(reason));\n      });\n    });\n    return from(Promise.all(promises));\n  }\n\n  /**\n   * Returns entry by key.\n   * @param storeName The name of the store to query\n   * @param key The entry key\n   */\n  getByKey<T>(storeName: string, key: IDBValidKey): Observable<T> {\n    return new Observable<T>((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db: IDBDatabase) => {\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n          const request = objectStore.get(key) as IDBRequest<T>;\n          request.onsuccess = (event: Event) => {\n            obs.next((event.target as IDBRequest<T>).result);\n            obs.complete();\n          };\n          request.onerror = (event: Event) => {\n            obs.error(event);\n          };\n        })\n        .catch((error) => obs.error(error));\n    });\n  }\n\n  /**\n   * Retrieve multiple entries in the store\n   * @param storeName The name of the store to retrieve the items\n   * @param keys The ids entries to be retrieve\n   */\n  bulkGet<T>(storeName: string, keys: Array<IDBValidKey>): any {\n    const observables = keys.map((key) => this.getByKey(storeName, key));\n\n    return new Observable((obs) => {\n      combineLatest(observables).subscribe((values) => {\n        obs.next(values);\n        obs.complete();\n      });\n    });\n  }\n\n  /**\n   * Returns entry by id.\n   * @param storeName The name of the store to query\n   * @param id The entry id\n   */\n  getByID<T>(storeName: string, id: string | number): Observable<T> {\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db: IDBDatabase) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error, obs.next));\n          const objectStore = transaction.objectStore(storeName);\n          const request: IDBRequest = objectStore.get(id) as IDBRequest<T>;\n          request.onsuccess = (event: Event) => {\n            obs.next((event.target as IDBRequest<T>).result);\n          };\n        })\n        .catch((error) => obs.error(error));\n    });\n  }\n\n  /**\n   * Returns entry by index.\n   * @param storeName The name of the store to query\n   * @param indexName The index name to filter\n   * @param key The entry key.\n   */\n  getByIndex<T>(storeName: string, indexName: string, key: IDBValidKey): Observable<T> {\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n          const index = objectStore.index(indexName);\n          const request = index.get(key) as IDBRequest<T>;\n          request.onsuccess = (event: Event) => {\n            obs.next((event.target as IDBRequest<T>).result);\n            obs.complete();\n          };\n        })\n        .catch((reason) => obs.error(reason));\n    });\n  }\n\n  /**\n   * Return all elements from one store\n   * @param storeName The name of the store to select the items\n   */\n  getAll<T>(storeName: string): Observable<T[]> {\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error, obs.next));\n          const objectStore = transaction.objectStore(storeName);\n\n          const request: IDBRequest = objectStore.getAll();\n\n          request.onerror = (evt: Event) => {\n            obs.error(evt);\n          };\n\n          request.onsuccess = ({ target: { result: ResultAll } }: RequestEvent<T>) => {\n            obs.next(ResultAll as T[]);\n            obs.complete();\n          };\n        })\n        .catch((error) => obs.error(error));\n    });\n  }\n\n  /**\n   * Returns all items from the store after update.\n   * @param storeName The name of the store to update\n   * @param value The new value for the entry\n   * @param key The key of the entry to update if exists\n   */\n  update<T>(storeName: string, value: T, key?: any): Observable<T[]> {\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n\n          transaction.oncomplete = () => {\n            this.getAll(storeName)\n              .pipe(take(1))\n              .subscribe((newValues) => {\n                obs.next(newValues as T[]);\n                obs.complete();\n              });\n          };\n\n          key ? objectStore.put(value, key) : objectStore.put(value);\n        })\n        .catch((reason) => obs.error(reason));\n    });\n  }\n\n  /**\n   * Returns the item you updated from the store after the update.\n   * @param storeName The name of the store to update\n   * @param value The new value for the entry\n   * @param key The key of the entry to update\n   */\n  updateByKey<T>(storeName: string, value: T, key: IDBValidKey): Observable<T> {\n    return new Observable<T>((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n\n          transaction.oncomplete = () => {\n            this.getByKey(storeName, key)\n              .pipe(take(1))\n              .subscribe((newValue) => {\n                obs.next(newValue as T);\n                obs.complete();\n              });\n          };\n\n          objectStore.put(value, key);\n        })\n        .catch((reason) => obs.error(reason));\n    });\n  }\n\n  /**\n   * Returns all items from the store after delete.\n   * @param storeName The name of the store to have the entry deleted\n   * @param key The key of the entry to be deleted\n   */\n  delete<T>(storeName: string, key: Key): Observable<T[]> {\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n          objectStore.delete(key);\n\n          transaction.oncomplete = () => {\n            this.getAll(storeName)\n              .pipe(take(1))\n              .subscribe((newValues) => {\n                obs.next(newValues as T[]);\n                obs.complete();\n              });\n          };\n        })\n        .catch((reason) => obs.error(reason));\n    });\n  }\n\n  /**\n   * Returns true from the store after a successful delete.\n   * @param storeName The name of the store to have the entry deleted\n   * @param key The key of the entry to be deleted\n   */\n  deleteByKey(storeName: string, key: Key): Observable<boolean> {\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n\n          transaction.oncomplete = () => {\n            obs.next(true);\n            obs.complete();\n          };\n\n          objectStore.delete(key);\n        })\n        .catch((reason) => obs.error(reason));\n    });\n  }\n\n  /**\n   * Returns true if successfully delete all entries from the store.\n   * @param storeName The name of the store to have the entries deleted\n   */\n  clear(storeName: string): Observable<boolean> {\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readwrite, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n          objectStore.clear();\n          transaction.oncomplete = () => {\n            obs.next(true);\n            obs.complete();\n          };\n        })\n        .catch((reason) => obs.error(reason));\n    });\n  }\n\n  /**\n   * Returns true if successfully delete the DB.\n   */\n  deleteDatabase(): Observable<boolean> {\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then(async (db) => {\n          await db.close();\n          const deleteDBRequest = this.indexedDB.deleteDatabase(this.dbConfig.name);\n          deleteDBRequest.onsuccess = () => {\n            obs.next(true);\n            obs.complete();\n          };\n          deleteDBRequest.onerror = (error) => obs.error(error);\n          deleteDBRequest.onblocked = () => {\n            throw new Error(`Unable to delete database because it's blocked`);\n          };\n        })\n        .catch((error) => obs.error(error));\n    });\n  }\n\n  /**\n   * Returns the open cursor event\n   * @param storeName The name of the store to have the entries deleted\n   * @param keyRange The key range which the cursor should be open on\n   */\n  openCursor(storeName: string, keyRange?: IDBKeyRange): Observable<Event> {\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n          const request = keyRange === undefined ? objectStore.openCursor() : objectStore.openCursor(keyRange);\n\n          request.onsuccess = (event: Event) => {\n            obs.next(event);\n            obs.complete();\n          };\n        })\n        .catch((reason) => obs.error(reason));\n    });\n  }\n\n  /**\n   * Open a cursor by index filter.\n   * @param storeName The name of the store to query.\n   * @param indexName The index name to filter.\n   * @param keyRange The range value and criteria to apply on the index.\n   */\n  openCursorByIndex(\n    storeName: string,\n    indexName: string,\n    keyRange: IDBKeyRange,\n    mode: DBMode = DBMode.readonly\n  ): Observable<Event> {\n    const obs = new Subject<Event>();\n\n    openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n      .then((db) => {\n        validateBeforeTransaction(db, storeName, (reason) => {\n          obs.error(reason);\n        });\n        const transaction = createTransaction(\n          db,\n          optionsGenerator(\n            mode,\n            storeName,\n            (reason) => {\n              obs.error(reason);\n            },\n            () => {\n              obs.next();\n            }\n          )\n        );\n        const objectStore = transaction.objectStore(storeName);\n        const index = objectStore.index(indexName);\n        const request = index.openCursor(keyRange);\n\n        request.onsuccess = (event: Event) => {\n          obs.next(event);\n        };\n      })\n      .catch((reason) => obs.error(reason));\n\n    return obs;\n  }\n\n  /**\n   * Returns all items by an index.\n   * @param storeName The name of the store to query\n   * @param indexName The index name to filter\n   * @param keyRange  The range value and criteria to apply on the index.\n   */\n  getAllByIndex<T>(storeName: string, indexName: string, keyRange: IDBKeyRange): Observable<T[]> {\n    const data: T[] = [];\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n          const index = objectStore.index(indexName);\n          const request = index.openCursor(keyRange);\n          request.onsuccess = (event) => {\n            const cursor: IDBCursorWithValue = (event.target as IDBRequest<IDBCursorWithValue>).result;\n            if (cursor) {\n              data.push(cursor.value);\n              cursor.continue();\n            } else {\n              obs.next(data);\n              obs.complete();\n            }\n          };\n        })\n        .catch((reason) => obs.error(reason));\n    });\n  }\n\n  /**\n   * Returns all primary keys by an index.\n   * @param storeName The name of the store to query\n   * @param indexName The index name to filter\n   * @param keyRange  The range value and criteria to apply on the index.\n   */\n  getAllKeysByIndex(\n    storeName: string,\n    indexName: string,\n    keyRange: IDBKeyRange\n  ): Observable<{ primaryKey: any; key: any }[]> {\n    const data: { primaryKey: any; key: any }[] = [];\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n          const index = objectStore.index(indexName);\n          const request = index.openKeyCursor(keyRange);\n          request.onsuccess = (event) => {\n            const cursor: IDBCursor = (event.target as IDBRequest<IDBCursor>).result;\n            if (cursor) {\n              data.push({ primaryKey: cursor.primaryKey, key: cursor.key });\n              cursor.continue();\n            } else {\n              obs.next(data);\n              obs.complete();\n            }\n          };\n        })\n        .catch((reason) => obs.error(reason));\n    });\n  }\n\n  /**\n   * Returns the number of rows in a store.\n   * @param storeName The name of the store to query\n   * @param keyRange  The range value and criteria to apply.\n   */\n  count(storeName: string, keyRange?: IDBValidKey | IDBKeyRange): Observable<number> {\n    return new Observable((obs) => {\n      openDatabase(this.indexedDB, this.dbConfig.name, this.dbConfig.version)\n        .then((db) => {\n          validateBeforeTransaction(db, storeName, obs.error);\n          const transaction = createTransaction(db, optionsGenerator(DBMode.readonly, storeName, obs.error));\n          const objectStore = transaction.objectStore(storeName);\n          const request: IDBRequest = objectStore.count(keyRange);\n          request.onerror = (e) => obs.error(e);\n          request.onsuccess = (e) => {\n            obs.next(((e.target as IDBOpenDBRequest).result as unknown) as number);\n            obs.complete();\n          };\n        })\n        .catch((reason) => obs.error(reason));\n    });\n  }\n\n  /**\n   * Delete the store by name.\n   * @param storeName The name of the store to query\n   */\n  deleteObjectStore(storeName: string): Observable<boolean> {\n      return DeleteObjectStore(this.dbConfig.name, ++this.dbConfig.version, storeName);\n  }\n}\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"@angular/common":{"external":true,"id":"@angular/common","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs":{"external":true,"id":"rxjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"rxjs/operators":{"external":true,"id":"rxjs/operators","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./ngx-indexed-db.meta":{"external":false,"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.meta.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./ngx-indexed-db":{"external":false,"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"../utils":{"external":false,"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/utils/index.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":3076,"body":[{"type":"ImportDeclaration","start":0,"end":41,"specifiers":[{"type":"ImportSpecifier","start":9,"end":17,"imported":{"type":"Identifier","start":9,"end":17,"name":"NgModule"},"local":{"type":"Identifier","start":9,"end":17,"name":"NgModule"}}],"source":{"type":"Literal","start":25,"end":40,"value":"@angular/core","raw":"'@angular/core'"}},{"type":"ImportDeclaration","start":42,"end":89,"specifiers":[{"type":"ImportSpecifier","start":51,"end":63,"imported":{"type":"Identifier","start":51,"end":63,"name":"CommonModule"},"local":{"type":"Identifier","start":51,"end":63,"name":"CommonModule"}}],"source":{"type":"Literal","start":71,"end":88,"value":"@angular/common","raw":"'@angular/common'"}},{"type":"ImportDeclaration","start":90,"end":153,"specifiers":[{"type":"ImportSpecifier","start":99,"end":118,"imported":{"type":"Identifier","start":99,"end":118,"name":"NgxIndexedDBService"},"local":{"type":"Identifier","start":99,"end":118,"name":"NgxIndexedDBService"}}],"source":{"type":"Literal","start":126,"end":152,"value":"./ngx-indexed-db.service","raw":"'./ngx-indexed-db.service'"}},{"type":"ImportDeclaration","start":154,"end":207,"specifiers":[{"type":"ImportSpecifier","start":163,"end":175,"imported":{"type":"Identifier","start":163,"end":175,"name":"CONFIG_TOKEN"},"local":{"type":"Identifier","start":163,"end":175,"name":"CONFIG_TOKEN"}}],"source":{"type":"Literal","start":183,"end":206,"value":"./ngx-indexed-db.meta","raw":"'./ngx-indexed-db.meta'"}},{"type":"ImportDeclaration","start":208,"end":244,"specifiers":[{"type":"ImportNamespaceSpecifier","start":215,"end":222,"local":{"type":"Identifier","start":220,"end":222,"name":"i0"}}],"source":{"type":"Literal","start":228,"end":243,"value":"@angular/core","raw":"\"@angular/core\""}},{"type":"ExportNamedDeclaration","start":245,"end":479,"declaration":{"type":"ClassDeclaration","start":252,"end":479,"id":{"type":"Identifier","start":258,"end":276,"name":"NgxIndexedDBModule"},"superClass":null,"body":{"type":"ClassBody","start":277,"end":479,"body":[{"type":"MethodDefinition","start":283,"end":477,"static":true,"computed":false,"key":{"type":"Identifier","start":290,"end":297,"name":"forRoot"},"kind":"method","value":{"type":"FunctionExpression","start":297,"end":477,"id":null,"expression":false,"generator":false,"async":false,"params":[{"type":"Identifier","start":298,"end":306,"name":"dbConfig"}],"body":{"type":"BlockStatement","start":308,"end":477,"body":[{"type":"ReturnStatement","start":318,"end":471,"argument":{"type":"ObjectExpression","start":325,"end":470,"properties":[{"type":"Property","start":339,"end":367,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":339,"end":347,"name":"ngModule"},"value":{"type":"Identifier","start":349,"end":367,"name":"NgxIndexedDBModule"},"kind":"init"},{"type":"Property","start":381,"end":460,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":381,"end":390,"name":"providers"},"value":{"type":"ArrayExpression","start":392,"end":460,"elements":[{"type":"Identifier","start":393,"end":412,"name":"NgxIndexedDBService"},{"type":"ObjectExpression","start":414,"end":459,"properties":[{"type":"Property","start":416,"end":437,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":416,"end":423,"name":"provide"},"value":{"type":"Identifier","start":425,"end":437,"name":"CONFIG_TOKEN"},"kind":"init"},{"type":"Property","start":439,"end":457,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":439,"end":447,"name":"useValue"},"value":{"type":"Identifier","start":449,"end":457,"name":"dbConfig"},"kind":"init"}]}]},"kind":"init"}]}}]}}}]}},"specifiers":[],"source":null},{"type":"ExpressionStatement","start":480,"end":660,"expression":{"type":"AssignmentExpression","start":480,"end":659,"operator":"=","left":{"type":"MemberExpression","start":480,"end":503,"object":{"type":"Identifier","start":480,"end":498,"name":"NgxIndexedDBModule"},"property":{"type":"Identifier","start":499,"end":503,"name":"ɵfac"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":506,"end":659,"callee":{"type":"MemberExpression","start":506,"end":527,"object":{"type":"Identifier","start":506,"end":508,"name":"i0"},"property":{"type":"Identifier","start":509,"end":527,"name":"ɵɵngDeclareFactory"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":528,"end":658,"properties":[{"type":"Property","start":530,"end":550,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":530,"end":540,"name":"minVersion"},"value":{"type":"Literal","start":542,"end":550,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":552,"end":569,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":552,"end":559,"name":"version"},"value":{"type":"Literal","start":561,"end":569,"value":"13.2.0","raw":"\"13.2.0\""},"kind":"init"},{"type":"Property","start":571,"end":583,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":571,"end":579,"name":"ngImport"},"value":{"type":"Identifier","start":581,"end":583,"name":"i0"},"kind":"init"},{"type":"Property","start":585,"end":609,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":585,"end":589,"name":"type"},"value":{"type":"Identifier","start":591,"end":609,"name":"NgxIndexedDBModule"},"kind":"init"},{"type":"Property","start":611,"end":619,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":611,"end":615,"name":"deps"},"value":{"type":"ArrayExpression","start":617,"end":619,"elements":[]},"kind":"init"},{"type":"Property","start":621,"end":656,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":621,"end":627,"name":"target"},"value":{"type":"MemberExpression","start":629,"end":656,"object":{"type":"MemberExpression","start":629,"end":647,"object":{"type":"Identifier","start":629,"end":631,"name":"i0"},"property":{"type":"Identifier","start":632,"end":647,"name":"ɵɵFactoryTarget"},"computed":false,"optional":false},"property":{"type":"Identifier","start":648,"end":656,"name":"NgModule"},"computed":false,"optional":false},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":661,"end":820,"expression":{"type":"AssignmentExpression","start":661,"end":819,"operator":"=","left":{"type":"MemberExpression","start":661,"end":684,"object":{"type":"Identifier","start":661,"end":679,"name":"NgxIndexedDBModule"},"property":{"type":"Identifier","start":680,"end":684,"name":"ɵmod"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":687,"end":819,"callee":{"type":"MemberExpression","start":687,"end":709,"object":{"type":"Identifier","start":687,"end":689,"name":"i0"},"property":{"type":"Identifier","start":690,"end":709,"name":"ɵɵngDeclareNgModule"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":710,"end":818,"properties":[{"type":"Property","start":712,"end":732,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":712,"end":722,"name":"minVersion"},"value":{"type":"Literal","start":724,"end":732,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":734,"end":751,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":734,"end":741,"name":"version"},"value":{"type":"Literal","start":743,"end":751,"value":"13.2.0","raw":"\"13.2.0\""},"kind":"init"},{"type":"Property","start":753,"end":765,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":753,"end":761,"name":"ngImport"},"value":{"type":"Identifier","start":763,"end":765,"name":"i0"},"kind":"init"},{"type":"Property","start":767,"end":791,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":767,"end":771,"name":"type"},"value":{"type":"Identifier","start":773,"end":791,"name":"NgxIndexedDBModule"},"kind":"init"},{"type":"Property","start":793,"end":816,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":793,"end":800,"name":"imports"},"value":{"type":"ArrayExpression","start":802,"end":816,"elements":[{"type":"Identifier","start":803,"end":815,"name":"CommonModule"}]},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":821,"end":982,"expression":{"type":"AssignmentExpression","start":821,"end":981,"operator":"=","left":{"type":"MemberExpression","start":821,"end":844,"object":{"type":"Identifier","start":821,"end":839,"name":"NgxIndexedDBModule"},"property":{"type":"Identifier","start":840,"end":844,"name":"ɵinj"},"computed":false,"optional":false},"right":{"type":"CallExpression","start":847,"end":981,"callee":{"type":"MemberExpression","start":847,"end":869,"object":{"type":"Identifier","start":847,"end":849,"name":"i0"},"property":{"type":"Identifier","start":850,"end":869,"name":"ɵɵngDeclareInjector"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":870,"end":980,"properties":[{"type":"Property","start":872,"end":892,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":872,"end":882,"name":"minVersion"},"value":{"type":"Literal","start":884,"end":892,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":894,"end":911,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":894,"end":901,"name":"version"},"value":{"type":"Literal","start":903,"end":911,"value":"13.2.0","raw":"\"13.2.0\""},"kind":"init"},{"type":"Property","start":913,"end":925,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":913,"end":921,"name":"ngImport"},"value":{"type":"Identifier","start":923,"end":925,"name":"i0"},"kind":"init"},{"type":"Property","start":927,"end":951,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":927,"end":931,"name":"type"},"value":{"type":"Identifier","start":933,"end":951,"name":"NgxIndexedDBModule"},"kind":"init"},{"type":"Property","start":953,"end":978,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":953,"end":960,"name":"imports"},"value":{"type":"ArrayExpression","start":962,"end":978,"elements":[{"type":"ArrayExpression","start":963,"end":977,"elements":[{"type":"Identifier","start":964,"end":976,"name":"CommonModule"}]}]},"kind":"init"}]}],"optional":false}}},{"type":"ExpressionStatement","start":983,"end":1273,"expression":{"type":"CallExpression","start":983,"end":1272,"callee":{"type":"MemberExpression","start":983,"end":1010,"object":{"type":"Identifier","start":983,"end":985,"name":"i0"},"property":{"type":"Identifier","start":986,"end":1010,"name":"ɵɵngDeclareClassMetadata"},"computed":false,"optional":false},"arguments":[{"type":"ObjectExpression","start":1011,"end":1271,"properties":[{"type":"Property","start":1013,"end":1033,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1013,"end":1023,"name":"minVersion"},"value":{"type":"Literal","start":1025,"end":1033,"value":"12.0.0","raw":"\"12.0.0\""},"kind":"init"},{"type":"Property","start":1035,"end":1052,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1035,"end":1042,"name":"version"},"value":{"type":"Literal","start":1044,"end":1052,"value":"13.2.0","raw":"\"13.2.0\""},"kind":"init"},{"type":"Property","start":1054,"end":1066,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1054,"end":1062,"name":"ngImport"},"value":{"type":"Identifier","start":1064,"end":1066,"name":"i0"},"kind":"init"},{"type":"Property","start":1068,"end":1092,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1068,"end":1072,"name":"type"},"value":{"type":"Identifier","start":1074,"end":1092,"name":"NgxIndexedDBModule"},"kind":"init"},{"type":"Property","start":1094,"end":1269,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1094,"end":1104,"name":"decorators"},"value":{"type":"ArrayExpression","start":1106,"end":1269,"elements":[{"type":"ObjectExpression","start":1107,"end":1268,"properties":[{"type":"Property","start":1121,"end":1135,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1121,"end":1125,"name":"type"},"value":{"type":"Identifier","start":1127,"end":1135,"name":"NgModule"},"kind":"init"},{"type":"Property","start":1149,"end":1258,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1149,"end":1153,"name":"args"},"value":{"type":"ArrayExpression","start":1155,"end":1258,"elements":[{"type":"ObjectExpression","start":1156,"end":1257,"properties":[{"type":"Property","start":1178,"end":1194,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1178,"end":1190,"name":"declarations"},"value":{"type":"ArrayExpression","start":1192,"end":1194,"elements":[]},"kind":"init"},{"type":"Property","start":1216,"end":1239,"method":false,"shorthand":false,"computed":false,"key":{"type":"Identifier","start":1216,"end":1223,"name":"imports"},"value":{"type":"ArrayExpression","start":1225,"end":1239,"elements":[{"type":"Identifier","start":1226,"end":1238,"name":"CommonModule"}]},"kind":"init"}]}]},"kind":"init"}]}]},"kind":"init"}]}],"optional":false}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4aW5kZXhlZGRiLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9saWIvbmd4aW5kZXhlZGRiLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUF1QyxNQUFNLGVBQWUsQ0FBQztBQUM5RSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDL0QsT0FBTyxFQUFZLFlBQVksRUFBRSxNQUFNLHVCQUF1QixDQUFDOztBQU0vRCxNQUFNLE9BQU8sa0JBQWtCO0lBQzdCLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBa0I7UUFDL0IsT0FBTztZQUNMLFFBQVEsRUFBRSxrQkFBa0I7WUFDNUIsU0FBUyxFQUFFLENBQUMsbUJBQW1CLEVBQUUsRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsQ0FBQztTQUNoRixDQUFDO0lBQ0osQ0FBQzs7K0dBTlUsa0JBQWtCO2dIQUFsQixrQkFBa0IsWUFGbkIsWUFBWTtnSEFFWCxrQkFBa0IsWUFGcEIsQ0FBQyxZQUFZLENBQUM7MkZBRVosa0JBQWtCO2tCQUo5QixRQUFRO21CQUFDO29CQUNSLFlBQVksRUFBRSxFQUFFO29CQUNoQixPQUFPLEVBQUUsQ0FBQyxZQUFZLENBQUM7aUJBQ3hCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUsIE1vZHVsZVdpdGhQcm92aWRlcnMsIEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmd4SW5kZXhlZERCU2VydmljZSB9IGZyb20gJy4vbmd4LWluZGV4ZWQtZGIuc2VydmljZSc7XG5pbXBvcnQgeyBEQkNvbmZpZywgQ09ORklHX1RPS0VOIH0gZnJvbSAnLi9uZ3gtaW5kZXhlZC1kYi5tZXRhJztcblxuQE5nTW9kdWxlKHtcbiAgZGVjbGFyYXRpb25zOiBbXSxcbiAgaW1wb3J0czogW0NvbW1vbk1vZHVsZV1cbn0pXG5leHBvcnQgY2xhc3MgTmd4SW5kZXhlZERCTW9kdWxlIHtcbiAgc3RhdGljIGZvclJvb3QoZGJDb25maWc6IERCQ29uZmlnKTogTW9kdWxlV2l0aFByb3ZpZGVyczxOZ3hJbmRleGVkREJNb2R1bGU+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IE5neEluZGV4ZWREQk1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW05neEluZGV4ZWREQlNlcnZpY2UsIHsgcHJvdmlkZTogQ09ORklHX1RPS0VOLCB1c2VWYWx1ZTogZGJDb25maWcgfV1cbiAgICB9O1xuICB9XG59XG4iXX0=","start":1274,"end":3076}]},"code":"import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgxIndexedDBService } from './ngx-indexed-db.service';\nimport { CONFIG_TOKEN } from './ngx-indexed-db.meta';\nimport * as i0 from \"@angular/core\";\nexport class NgxIndexedDBModule {\n    static forRoot(dbConfig) {\n        return {\n            ngModule: NgxIndexedDBModule,\n            providers: [NgxIndexedDBService, { provide: CONFIG_TOKEN, useValue: dbConfig }]\n        };\n    }\n}\nNgxIndexedDBModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nNgxIndexedDBModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBModule, imports: [CommonModule] });\nNgxIndexedDBModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [],\n                    imports: [CommonModule]\n                }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4aW5kZXhlZGRiLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9saWIvbmd4aW5kZXhlZGRiLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUF1QyxNQUFNLGVBQWUsQ0FBQztBQUM5RSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDL0QsT0FBTyxFQUFZLFlBQVksRUFBRSxNQUFNLHVCQUF1QixDQUFDOztBQU0vRCxNQUFNLE9BQU8sa0JBQWtCO0lBQzdCLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBa0I7UUFDL0IsT0FBTztZQUNMLFFBQVEsRUFBRSxrQkFBa0I7WUFDNUIsU0FBUyxFQUFFLENBQUMsbUJBQW1CLEVBQUUsRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsQ0FBQztTQUNoRixDQUFDO0lBQ0osQ0FBQzs7K0dBTlUsa0JBQWtCO2dIQUFsQixrQkFBa0IsWUFGbkIsWUFBWTtnSEFFWCxrQkFBa0IsWUFGcEIsQ0FBQyxZQUFZLENBQUM7MkZBRVosa0JBQWtCO2tCQUo5QixRQUFRO21CQUFDO29CQUNSLFlBQVksRUFBRSxFQUFFO29CQUNoQixPQUFPLEVBQUUsQ0FBQyxZQUFZLENBQUM7aUJBQ3hCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUsIE1vZHVsZVdpdGhQcm92aWRlcnMsIEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmd4SW5kZXhlZERCU2VydmljZSB9IGZyb20gJy4vbmd4LWluZGV4ZWQtZGIuc2VydmljZSc7XG5pbXBvcnQgeyBEQkNvbmZpZywgQ09ORklHX1RPS0VOIH0gZnJvbSAnLi9uZ3gtaW5kZXhlZC1kYi5tZXRhJztcblxuQE5nTW9kdWxlKHtcbiAgZGVjbGFyYXRpb25zOiBbXSxcbiAgaW1wb3J0czogW0NvbW1vbk1vZHVsZV1cbn0pXG5leHBvcnQgY2xhc3MgTmd4SW5kZXhlZERCTW9kdWxlIHtcbiAgc3RhdGljIGZvclJvb3QoZGJDb25maWc6IERCQ29uZmlnKTogTW9kdWxlV2l0aFByb3ZpZGVyczxOZ3hJbmRleGVkREJNb2R1bGU+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IE5neEluZGV4ZWREQk1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW05neEluZGV4ZWREQlNlcnZpY2UsIHsgcHJvdmlkZTogQ09ORklHX1RPS0VOLCB1c2VWYWx1ZTogZGJDb25maWcgfV1cbiAgICB9O1xuICB9XG59XG4iXX0=","customTransformCache":false,"dependencies":["@angular/core","@angular/common","/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.service.mjs","/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.meta.mjs"],"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngxindexeddb.module.mjs","meta":{},"moduleSideEffects":true,"originalCode":"import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgxIndexedDBService } from './ngx-indexed-db.service';\nimport { CONFIG_TOKEN } from './ngx-indexed-db.meta';\nimport * as i0 from \"@angular/core\";\nexport class NgxIndexedDBModule {\n    static forRoot(dbConfig) {\n        return {\n            ngModule: NgxIndexedDBModule,\n            providers: [NgxIndexedDBService, { provide: CONFIG_TOKEN, useValue: dbConfig }]\n        };\n    }\n}\nNgxIndexedDBModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nNgxIndexedDBModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBModule, imports: [CommonModule] });\nNgxIndexedDBModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBModule, imports: [[CommonModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"13.2.0\", ngImport: i0, type: NgxIndexedDBModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [],\n                    imports: [CommonModule]\n                }]\n        }] });\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4aW5kZXhlZGRiLm1vZHVsZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9saWIvbmd4aW5kZXhlZGRiLm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsUUFBUSxFQUF1QyxNQUFNLGVBQWUsQ0FBQztBQUM5RSxPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFDL0MsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDL0QsT0FBTyxFQUFZLFlBQVksRUFBRSxNQUFNLHVCQUF1QixDQUFDOztBQU0vRCxNQUFNLE9BQU8sa0JBQWtCO0lBQzdCLE1BQU0sQ0FBQyxPQUFPLENBQUMsUUFBa0I7UUFDL0IsT0FBTztZQUNMLFFBQVEsRUFBRSxrQkFBa0I7WUFDNUIsU0FBUyxFQUFFLENBQUMsbUJBQW1CLEVBQUUsRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsQ0FBQztTQUNoRixDQUFDO0lBQ0osQ0FBQzs7K0dBTlUsa0JBQWtCO2dIQUFsQixrQkFBa0IsWUFGbkIsWUFBWTtnSEFFWCxrQkFBa0IsWUFGcEIsQ0FBQyxZQUFZLENBQUM7MkZBRVosa0JBQWtCO2tCQUo5QixRQUFRO21CQUFDO29CQUNSLFlBQVksRUFBRSxFQUFFO29CQUNoQixPQUFPLEVBQUUsQ0FBQyxZQUFZLENBQUM7aUJBQ3hCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmdNb2R1bGUsIE1vZHVsZVdpdGhQcm92aWRlcnMsIEluamVjdGlvblRva2VuIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmd4SW5kZXhlZERCU2VydmljZSB9IGZyb20gJy4vbmd4LWluZGV4ZWQtZGIuc2VydmljZSc7XG5pbXBvcnQgeyBEQkNvbmZpZywgQ09ORklHX1RPS0VOIH0gZnJvbSAnLi9uZ3gtaW5kZXhlZC1kYi5tZXRhJztcblxuQE5nTW9kdWxlKHtcbiAgZGVjbGFyYXRpb25zOiBbXSxcbiAgaW1wb3J0czogW0NvbW1vbk1vZHVsZV1cbn0pXG5leHBvcnQgY2xhc3MgTmd4SW5kZXhlZERCTW9kdWxlIHtcbiAgc3RhdGljIGZvclJvb3QoZGJDb25maWc6IERCQ29uZmlnKTogTW9kdWxlV2l0aFByb3ZpZGVyczxOZ3hJbmRleGVkREJNb2R1bGU+IHtcbiAgICByZXR1cm4ge1xuICAgICAgbmdNb2R1bGU6IE5neEluZGV4ZWREQk1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW05neEluZGV4ZWREQlNlcnZpY2UsIHsgcHJvdmlkZTogQ09ORklHX1RPS0VOLCB1c2VWYWx1ZTogZGJDb25maWcgfV1cbiAgICB9O1xuICB9XG59XG4iXX0=","originalSourcemap":{"version":3,"file":"ngxindexeddb.module.js","sourceRoot":"","sources":["../../../../projects/ngx-indexed-db/src/lib/ngxindexeddb.module.ts"],"names":[],"mappings":[[[0,0,0,0],[7,0,0,7],[9,0,0,9],[17,0,0,17],[19,0,0,56],[25,0,0,62],[40,0,0,77],[41,0,0,78]],[[0,0,1,0],[7,0,1,7],[9,0,1,9],[21,0,1,21],[23,0,1,23],[29,0,1,29],[46,0,1,46],[47,0,1,47]],[[0,0,2,0],[7,0,2,7],[9,0,2,9],[28,0,2,28],[30,0,2,30],[36,0,2,36],[62,0,2,62],[63,0,2,63]],[[0,0,3,0],[7,0,3,7],[9,0,3,19],[21,0,3,31],[23,0,3,33],[29,0,3,39],[52,0,3,62],[53,0,3,63]],[],[[0,0,9,0],[6,0,9,6],[13,0,9,13],[31,0,9,31]],[[4,0,10,2],[10,0,10,8],[11,0,10,9],[18,0,10,16],[19,0,10,17],[27,0,10,35]],[[8,0,11,4],[15,0,11,11]],[[12,0,12,6],[20,0,12,14],[22,0,12,16],[40,0,12,34]],[[12,0,13,6],[21,0,13,15],[23,0,13,17],[24,0,13,18],[43,0,13,37],[45,0,13,39],[47,0,13,41],[54,0,13,48],[56,0,13,50],[68,0,13,62],[70,0,13,64],[78,0,13,72],[80,0,13,74],[88,0,13,82],[90,0,13,84],[91,0,13,85]],[[9,0,14,5],[10,0,14,6]],[[4,0,15,2],[5,0,15,3]],[],[[111,0,9,13],[129,0,9,31]],[[112,0,9,13],[130,0,9,31],[142,0,7,12],[154,0,7,24]],[[112,0,9,13],[130,0,9,31],[142,0,7,11],[143,0,7,12],[155,0,7,24],[156,0,7,25]],[[91,0,9,13],[109,0,9,31]],[[18,0,5,1],[26,0,5,9]],[[19,0,5,10]],[[20,0,6,2],[32,0,6,14],[34,0,6,16],[36,0,6,18]],[[20,0,7,2],[27,0,7,9],[29,0,7,11],[30,0,7,12],[42,0,7,24],[43,0,7,25]],[[17,0,8,1]]],"sourcesContent":["import { NgModule, ModuleWithProviders, InjectionToken } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgxIndexedDBService } from './ngx-indexed-db.service';\nimport { DBConfig, CONFIG_TOKEN } from './ngx-indexed-db.meta';\n\n@NgModule({\n  declarations: [],\n  imports: [CommonModule]\n})\nexport class NgxIndexedDBModule {\n  static forRoot(dbConfig: DBConfig): ModuleWithProviders<NgxIndexedDBModule> {\n    return {\n      ngModule: NgxIndexedDBModule,\n      providers: [NgxIndexedDBService, { provide: CONFIG_TOKEN, useValue: dbConfig }]\n    };\n  }\n}\n"]},"resolvedIds":{"@angular/core":{"external":true,"id":"@angular/core","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"@angular/common":{"external":true,"id":"@angular/common","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./ngx-indexed-db.service":{"external":false,"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.service.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./ngx-indexed-db.meta":{"external":false,"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.meta.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":670,"body":[{"type":"ExportAllDeclaration","start":0,"end":42,"exported":null,"source":{"type":"Literal","start":14,"end":41,"value":"./lib/ngxindexeddb.module","raw":"'./lib/ngxindexeddb.module'"}},{"type":"ExportAllDeclaration","start":43,"end":88,"exported":null,"source":{"type":"Literal","start":57,"end":87,"value":"./lib/ngx-indexed-db.service","raw":"'./lib/ngx-indexed-db.service'"}},{"type":"ExportAllDeclaration","start":89,"end":131,"exported":null,"source":{"type":"Literal","start":103,"end":130,"value":"./lib/ngx-indexed-db.meta","raw":"'./lib/ngx-indexed-db.meta'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGNBQWMsMkJBQTJCLENBQUM7QUFDMUMsY0FBYyw4QkFBOEIsQ0FBQztBQUM3QyxjQUFjLDJCQUEyQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9saWIvbmd4aW5kZXhlZGRiLm1vZHVsZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9uZ3gtaW5kZXhlZC1kYi5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL25neC1pbmRleGVkLWRiLm1ldGEnO1xuIl19","start":132,"end":670}]},"code":"export * from './lib/ngxindexeddb.module';\nexport * from './lib/ngx-indexed-db.service';\nexport * from './lib/ngx-indexed-db.meta';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGNBQWMsMkJBQTJCLENBQUM7QUFDMUMsY0FBYyw4QkFBOEIsQ0FBQztBQUM3QyxjQUFjLDJCQUEyQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9saWIvbmd4aW5kZXhlZGRiLm1vZHVsZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9uZ3gtaW5kZXhlZC1kYi5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL25neC1pbmRleGVkLWRiLm1ldGEnO1xuIl19","customTransformCache":false,"dependencies":["/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngxindexeddb.module.mjs","/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.service.mjs","/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.meta.mjs"],"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"originalCode":"export * from './lib/ngxindexeddb.module';\nexport * from './lib/ngx-indexed-db.service';\nexport * from './lib/ngx-indexed-db.meta';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVibGljLWFwaS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Byb2plY3RzL25neC1pbmRleGVkLWRiL3NyYy9wdWJsaWMtYXBpLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGNBQWMsMkJBQTJCLENBQUM7QUFDMUMsY0FBYyw4QkFBOEIsQ0FBQztBQUM3QyxjQUFjLDJCQUEyQixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0ICogZnJvbSAnLi9saWIvbmd4aW5kZXhlZGRiLm1vZHVsZSc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9uZ3gtaW5kZXhlZC1kYi5zZXJ2aWNlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL25neC1pbmRleGVkLWRiLm1ldGEnO1xuIl19","originalSourcemap":{"version":3,"file":"public-api.js","sourceRoot":"","sources":["../../../projects/ngx-indexed-db/src/public-api.ts"],"names":[],"mappings":[[[0,0,0,0],[14,0,0,14],[41,0,0,41],[42,0,0,42]],[[0,0,1,0],[14,0,1,14],[44,0,1,44],[45,0,1,45]],[[0,0,2,0],[14,0,2,14],[41,0,2,41],[42,0,2,42]]],"sourcesContent":["export * from './lib/ngxindexeddb.module';\nexport * from './lib/ngx-indexed-db.service';\nexport * from './lib/ngx-indexed-db.meta';\n"]},"resolvedIds":{"./lib/ngxindexeddb.module":{"external":false,"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngxindexeddb.module.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/ngx-indexed-db.service":{"external":false,"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.service.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false},"./lib/ngx-indexed-db.meta":{"external":false,"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/lib/ngx-indexed-db.meta.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]},{"ast":{"type":"Program","start":0,"end":512,"body":[{"type":"ExportAllDeclaration","start":48,"end":77,"exported":null,"source":{"type":"Literal","start":62,"end":76,"value":"./public-api","raw":"'./public-api'"}}],"sourceType":"module","_rollupRemoved":[{"type":"Line","value":"# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9uZ3gtaW5kZXhlZC1kYi9zcmMvbmd4LWluZGV4ZWQtZGIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","start":78,"end":512}]},"code":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9uZ3gtaW5kZXhlZC1kYi9zcmMvbmd4LWluZGV4ZWQtZGIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","customTransformCache":false,"dependencies":["/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/public-api.mjs"],"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/ngx-indexed-db.mjs","meta":{},"moduleSideEffects":true,"originalCode":"/**\n * Generated bundle index. Do not edit.\n */\nexport * from './public-api';\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWluZGV4ZWQtZGIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi9wcm9qZWN0cy9uZ3gtaW5kZXhlZC1kYi9zcmMvbmd4LWluZGV4ZWQtZGIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0dBRUc7QUFFSCxjQUFjLGNBQWMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVkIGJ1bmRsZSBpbmRleC4gRG8gbm90IGVkaXQuXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9wdWJsaWMtYXBpJztcbiJdfQ==","originalSourcemap":{"version":3,"file":"ngx-indexed-db.js","sourceRoot":"","sources":["../../../projects/ngx-indexed-db/src/ngx-indexed-db.ts"],"names":[],"mappings":[[[0,0,0,0]],[],[[3,0,2,3]],[[0,0,4,0],[14,0,4,14],[28,0,4,28],[29,0,4,29]]],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"]},"resolvedIds":{"./public-api":{"external":false,"id":"/Users/charlesassuncao/Projects/ngx-indexed-db/dist/ngx-indexed-db/esm2020/public-api.mjs","meta":{},"moduleSideEffects":true,"syntheticNamedExports":false}},"sourcemapChain":[],"syntheticNamedExports":false,"transformDependencies":[]}],"plugins":{"node-resolve":{},"sourcemaps":{},"json":{}}}